cname,filename,filescript,organization
ACMKYPHR40814,ACMKYPHR40814_leo1311.py,aW1wb3J0IG15c3FsLmNvbm5lY3RvcgppbXBvcnQgbG9nZ2luZwppbXBvcnQgc3lzCmZyb20gdXJsbGliLnBhcnNlIGltcG9ydCBxdW90ZV9wbHVzLCB1cmxwYXJzZQpmcm9tIGxlYXAudXRpbHMuVXRpbGl0aWVzIGltcG9ydCBVdGlsaXRpZXMKZnJvbSBza2xlYXJuLmZlYXR1cmVfZXh0cmFjdGlvbi50ZXh0IGltcG9ydCBUZmlkZlZlY3Rvcml6ZXIKaW1wb3J0IG51bXB5IGFzIG5wCmltcG9ydCB0aW1laXQKaW1wb3J0IGpzb24KCmxvZ2dpbmcuYmFzaWNDb25maWcobGV2ZWw9bG9nZ2luZy5JTkZPLCBmb3JtYXQ9JyUoYXNjdGltZSlzIElORk8gJShtZXNzYWdlKXMnLCBkYXRlZm10PScleS8lbS8lZCAlSDolTTolUycpCgphcmd1bWVudHMgPSBzeXMuYXJndgoKZGljdCA9IHt9CmZvciBhcmcgaW4gYXJndW1lbnRzOgogICAgdHJ5OgogICAgICAgIGRpY3RbYXJnLnNwbGl0KCc6JylbMF1dID0gKCc6Jykuam9pbihhcmcuc3BsaXQoJzonKVsxOl0pCiAgICBleGNlcHQ6CiAgICAgICAgYSA9ICdlcnJvcicKCgpkZWYgZ2V0U2ltaWxhcihzZW50ZW5jZXMsIGtleXdvcmRzKToKICAgIGNvcnB1cyA9IHNlbnRlbmNlcyArIGtleXdvcmRzCiAgICBrZXl3b3Jkc3RhcnRJbmRleCA9IGxlbihzZW50ZW5jZXMpCiAgICB0ZmlkZkNvcnB1cyA9IFRmaWRmVmVjdG9yaXplcihtaW5fZGY9MSwgc3RvcF93b3Jkcz0nZW5nbGlzaCcpLmZpdF90cmFuc2Zvcm0oY29ycHVzKQogICAgcGFpcndpc2Vfc2ltaWxhcml0eSA9IHRmaWRmQ29ycHVzICogdGZpZGZDb3JwdXMuVAogICAgYXJyID0gcGFpcndpc2Vfc2ltaWxhcml0eS50b2FycmF5KCkKICAgIG5wLmZpbGxfZGlhZ29uYWwoYXJyLCBucC5uYW4pCiAgICByZXN1bHRzID0ge30KICAgIGZvciBzIGluIHNlbnRlbmNlczoKICAgICAgICBpbnB1dF9pZHggPSBzZW50ZW5jZXMuaW5kZXgocykKICAgICAgICByZXN1bHRfaWR4ID0gbnAubmFuYXJnbWF4KGFycltpbnB1dF9pZHhdW2tleXdvcmRzdGFydEluZGV4Ol0pCiAgICAgICAgbWF0Y2ggPSBhcnJbaW5wdXRfaWR4XVtrZXl3b3Jkc3RhcnRJbmRleCArIHJlc3VsdF9pZHhdCiAgICAgICAgciA9IGtleXdvcmRzW3Jlc3VsdF9pZHhdCiAgICAgICAgaWYgbWF0Y2ggPiAwOgogICAgICAgICAgICByZXN1bHRzW3NdID0gciArICc6JyArIHN0cihtYXRjaCkKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXN1bHRzW3NdID0gJ05PIE1BVENIOjAnCiAgICByZXR1cm4gcmVzdWx0cwoKCmxlYXBkcyA9IGRpY3RbJ0xFQVBEUyddCmxlYXBEU2RpY3QgPSBqc29uLmxvYWRzKGxlYXBkcykKCnVzZXJuYW1lID0gbGVhcERTZGljdFsndXNlck5hbWUnXQpwYXNzd29yZCA9IFV0aWxpdGllcy5kZWNyeXB0KGxlYXBEU2RpY3RbJ3Bhc3N3b3JkJ10sIGxlYXBEU2RpY3RbJ3NhbHQnXSkKaG9zdCA9IHVybHBhcnNlKGxlYXBEU2RpY3RbJ3VybCddWzU6XSkuaG9zdG5hbWUKcG9ydCA9IHVybHBhcnNlKGxlYXBEU2RpY3RbJ3VybCddWzU6XSkucG9ydApkYXRhYmFzZSA9IHVybHBhcnNlKGxlYXBEU2RpY3RbJ3VybCddWzU6XSkucGF0aC5yc3BsaXQoJy8nLCAxKVsxXQpjbnggPSBteXNxbC5jb25uZWN0b3IuY29ubmVjdCh1c2VyPXVzZXJuYW1lLCBwYXNzd29yZD1wYXNzd29yZCwgaG9zdD1ob3N0LCBwb3J0PXBvcnQsIGRhdGFiYXNlPWRhdGFiYXNlKQpteWN1cnNvciA9IGNueC5jdXJzb3IoKQpUYWJsZU5hbWUgPSBkaWN0WydUYWJsZU5hbWUnXQplYXNlID0gZGljdFsnRUFTRU1hcHBpbmcnXQpzcWwgPSAnJydTRUxFQ1QgRElTVElOQ1QgVFJJTShleHRyYWN0ZWRfcGhyYXNlKSBmcm9tIHswfSB3aGVyZSBleHRyYWN0ZWRfcGhyYXNlIGlzIG5vdCBudWxsIGFuZCBleHRyYWN0ZWRfcGhyYXNlIDw+ICcnICAnJycuZm9ybWF0KFRhYmxlTmFtZSkKbXljdXJzb3IuZXhlY3V0ZShzcWwpCnJlc3VsdHMgPSBteWN1cnNvci5mZXRjaGFsbCgpCm15Y3Vyc29yLmNsb3NlKCkKcGhyYXNlcyA9IFtdCmZvciBpdGVtIGluIHJlc3VsdHM6CiAgICBwaHJhc2VzLmFwcGVuZChpdGVtWzBdKQoKbXljdXJzb3IyID0gY254LmN1cnNvcigpCnNxbCA9ICcnJ1NFTEVDVCBESVNUSU5DVCBLZXlfV29yZCBmcm9tIHswfScnJy5mb3JtYXQoZWFzZSkKbXljdXJzb3IyLmV4ZWN1dGUoc3FsKQpyZXN1bHRzID0gbXljdXJzb3IyLmZldGNoYWxsKCkKa2V5d29yZHMgPSBbXQpmb3IgaXRlbSBpbiByZXN1bHRzOgogICAga2V5d29yZHMuYXBwZW5kKGl0ZW1bMF0pCm15Y3Vyc29yMi5jbG9zZSgpCgpjbnguY2xvc2UoKQoKCmRlZiBnZXRFQVNFKHR1cCk6CiAgICB0cnk6CiAgICAgICAgcmVzdWx0cyA9IGdldFNpbWlsYXIodHVwWzBdLCB0dXBbMV0pCiAgICAgICAgVGFibGVOYW1lID0gZGljdFsnVGFibGVOYW1lJ10KICAgICAgICBxdWVyeSA9ICcnJ1VwZGF0ZSB7MH0gc2V0IG1hcHBlZF9waHJhc2UgPSAlcyAsIG1hcHBlZF9waHJhc2VfY29uZmlkZW5uY2UgPSVzICB3aGVyZSBUUklNKGV4dHJhY3RlZF9waHJhc2UpID0gJXMgJycnLmZvcm1hdChUYWJsZU5hbWUpCiAgICAgICAgaW5wdXRkYXRhID0gW10KICAgICAgICBmb3IgcGF0dGVybiBpbiByZXN1bHRzLmtleXMoKToKICAgICAgICAgICAga3cgPSByZXN1bHRzW3BhdHRlcm5dLnNwbGl0KCc6JylbMF0KICAgICAgICAgICAgc2NvcmUgPSByZXN1bHRzW3BhdHRlcm5dLnNwbGl0KCc6JylbLTFdCiAgICAgICAgICAgIGlmIGt3ICE9ICdOTyBNQVRDSCc6CiAgICAgICAgICAgICAgICBpbnB1dGRhdGEuYXBwZW5kKChrdywgc2NvcmUsIHBhdHRlcm4pKQogICAgICAgIGNueCA9IG15c3FsLmNvbm5lY3Rvci5jb25uZWN0KHVzZXI9dHVwWzJdLCBwYXNzd29yZD10dXBbM10sIGhvc3Q9dHVwWzRdLCBwb3J0PXR1cFs1XSwgZGF0YWJhc2U9dHVwWzZdKQogICAgICAgIG15Y3Vyc29yID0gY254LmN1cnNvcigpCiAgICAgICAgcmVzID0gbXljdXJzb3IuZXhlY3V0ZW1hbnkocXVlcnksIGlucHV0ZGF0YSkKICAgICAgICBjbnguY29tbWl0KCkKICAgICAgICBteWN1cnNvci5jbG9zZSgpCiAgICAgICAgY254LmNsb3NlKCkKICAgICAgICByZXR1cm4gVHJ1ZQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBleDoKICAgICAgICBsb2dnaW5nLndhcm5pbmcoZXgpCiAgICAgICAgcmV0dXJuIEZhbHNlCgoKZnJvbSBtdWx0aXByb2Nlc3NpbmcuZHVtbXkgaW1wb3J0IFBvb2wgYXMgVGhyZWFkUG9vbAoKYXV4X3ZhbCA9IFtdCnRvdGFsbGVuID0gbGVuKHBocmFzZXMpCmxvZ2dpbmcuaW5mbygnVG90YWwgUmVjb3JkczogezB9Jy5mb3JtYXQodG90YWxsZW4pKQpzdGFydCA9IDAKc3RlcCA9IDEwMDAKZm9yIGkgaW4gcmFuZ2Uoc3RhcnQsIHRvdGFsbGVuLCBzdGVwKToKICAgIHN0b3AgPSBpICsgc3RlcAogICAgaWYgKHN0b3AgPiB0b3RhbGxlbik6CiAgICAgICAgc3RvcCA9IHRvdGFsbGVuCiAgICB0cnk6CiAgICAgICAgYXV4X3ZhbC5hcHBlbmQoKHBocmFzZXNbaTpzdG9wXSwga2V5d29yZHMsIHVzZXJuYW1lLCBwYXNzd29yZCwgaG9zdCwgcG9ydCwgZGF0YWJhc2UpKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGxvZ2dpbmcuaW5mbyhlKQoKcG9vbCA9IFRocmVhZFBvb2woNCkKbG9nZ2luZy5pbmZvKGxlbihhdXhfdmFsKSkKbG9nZ2luZy5pbmZvKCdTdGFydGluZyBQcm9jZXNzJykKCm1hcGRhdGEgPSBwb29sLm1hcChnZXRFQVNFLCBhdXhfdmFsKQoKbG9nZ2luZy5pbmZvKCdDb21wbGV0ZWQnKQoKCgoK,leo1311
SNOW_Get_API,SNOW_Get_API_leo1311.py,ZnJvbSBweXNwYXJrLnNxbCBpbXBvcnQgU3BhcmtTZXNzaW9uCmltcG9ydCByZXF1ZXN0cwppbXBvcnQgc3lzCmltcG9ydCBteXNxbC5jb25uZWN0b3IKZnJvbSBweXNwYXJrLnNxbC5mdW5jdGlvbnMgaW1wb3J0ICoKZnJvbSBweXNwYXJrLnNxbC50eXBlcyBpbXBvcnQgKgppbXBvcnQganNvbgpmcm9tIHVybGxpYi5wYXJzZSBpbXBvcnQgcXVvdGVfcGx1cywgdXJscGFyc2UKZnJvbSBsZWFwLnV0aWxzLlV0aWxpdGllcyBpbXBvcnQgVXRpbGl0aWVzCmltcG9ydCBkYXRldGltZQppbXBvcnQgbG9nZ2luZyBhcyBsb2dnZXIKaW1wb3J0IHVybGxpYjMKaW1wb3J0IG9zCmltcG9ydCBtYXRoCnVybGxpYjMuZGlzYWJsZV93YXJuaW5ncygpCmxvZ2dlci5iYXNpY0NvbmZpZyhsZXZlbD1sb2dnZXIuSU5GTyxmb3JtYXQ9JyUoYXNjdGltZSlzIElORk8gJShtZXNzYWdlKXMnLCBkYXRlZm10PScleS8lbS8lZCAlSDolTTolUycpCmFyZ3VtZW50cyA9c3lzLmFyZ3YKbG9nZ2VyLmluZm8oYXJndW1lbnRzKQpkaWN0PXt9CmZvciBhcmcgaW4gYXJndW1lbnRzOgogICAgIHRyeToKICAgICAgICAgZGljdFthcmcuc3BsaXQoJzonKVswXV0gPSAoJzonKS5qb2luKGFyZy5zcGxpdCgnOicpWzE6XSkKICAgICAgICAgCiAgICAgZXhjZXB0OgogICAgICAgICBhPSdlcnJvcicKI1NOb3cgRGF0YXNvdXJjZQpzbm93ZHMgPSBkaWN0WydTbm93RGF0YVNvdXJjZSddCnByaW50KCdzbm93ZHMnLHNub3dkcykKc25vd0RTZGljdD1qc29uLmxvYWRzKHNub3dkcykKcHJpbnQoJ3Nub3dEU2RpY3QnLHNub3dEU2RpY3QpCiMgU2V0IHRoZSByZXF1ZXN0IHBhcmFtZXRlcnMKdXJsID0gc25vd0RTZGljdFsnVXJsJ10KdXNlciA9IHNub3dEU2RpY3RbJ0F1dGhEZXRhaWxzJ11bJ3VzZXJuYW1lJ10KcHdkID0gVXRpbGl0aWVzLmRlY3J5cHQoc25vd0RTZGljdFsnQXV0aERldGFpbHMnXVsncGFzc3dvcmQnXSwgc25vd0RTZGljdFsnc2FsdCddKQphcGkgPSBkaWN0WydhcGknXQpzbm93dGFibGU9ZGljdFsnc25vd1RhYmxlJ10KdGFibGVuYW1lID0gZGljdFsnZGF0YVRhYmxlJ10KcGFyYW1zID1kaWN0WydwYXJhbXMnXQpsaW1pdCA9IGRpY3RbJ2xpbWl0J10Kb2Zmc2V0ID0gZGljdFsnb2Zmc2V0J10KcmVzdWx0Q291bnQgPSBpbnQobGltaXQpCgoKZGVmIHByb2Nlc3NfcGFydGl0aW9uKGl0ZXJhdG9yKToKICBjbnggPSBteXNxbC5jb25uZWN0b3IuY29ubmVjdCh1c2VyPXVzZXJuYW1lLCBwYXNzd29yZD1wYXNzd29yZCwgaG9zdD1ob3N0LHBvcnQ9cG9ydCwgZGF0YWJhc2U9ZGF0YWJhc2UpCiAgbXljdXJzb3IgPSBjbnguY3Vyc29yKCkKICBmb3Igcm93IGluIGl0ZXJhdG9yOgogICAgdHJ5OgogICAgCiAgICAgICAgcGFyYW1zRGljdCA9IHt9CiAgICAgICAgdmFsdWVzID0gW10KICAgICAgICBmb3IgaSBpbiByYW5nZSgwLCBsZW4oY29sdW1uTGlzdCkpOgogICAgICAgICAgcGFyYW1zRGljdFtjb2x1bW5MaXN0W2ldXSA9IHJvd1tpXQogICAgICAgICAgdmFsdWVzLmFwcGVuZChyb3dbaV0pCiAgICAgICAgY29sdW1ucyA9ICcsICcuam9pbignYHswfWAnLmZvcm1hdChrKSBmb3IgayBpbiBwYXJhbXNEaWN0KQogICAgICAgIGR1cGxpY2F0ZXMgPSAnLCAnLmpvaW4oJ3swfT1WQUxVRVMoezB9KScuZm9ybWF0KGspIGZvciBrIGluIHBhcmFtc0RpY3QpCiAgICAgICAgcGxhY2VfaG9sZGVycyA9ICcsICcuam9pbignJXMnLmZvcm1hdChrKSBmb3IgayBpbiBwYXJhbXNEaWN0KQogICAgICAgIHF1ZXJ5ID0gJ0lOU0VSVCBJTlRPIHswfSAoezF9KSBWQUxVRVMgKHsyfSknLmZvcm1hdCh0YWJsZW5hbWUsIGNvbHVtbnMsIHBsYWNlX2hvbGRlcnMpCiAgICAgICAgcXVlcnkgPSAnezB9IE9OIERVUExJQ0FURSBLRVkgVVBEQVRFIHsxfScuZm9ybWF0KHF1ZXJ5LCBkdXBsaWNhdGVzKQogICAgICAgIG15Y3Vyc29yLmV4ZWN1dGVtYW55KHF1ZXJ5LCAodmFsdWVzLCkpCiAgICAgICAgY254LmNvbW1pdCgpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIGxvZ2dlci5lcnJvcihleCkKICAgICAgICBwcmludChleCkKICAgICNsb2dnZXIuaW5mbyhyb3cpCiAgbXljdXJzb3IuY2xvc2UoKQogIGNueC5jbG9zZSgpCiAgCiAgCiMgU2V0IHByb3BlciBoZWFkZXJzCmhlYWRlcnMgPSB7J0NvbnRlbnQtVHlwZSc6J2FwcGxpY2F0aW9uL2pzb24nLCdBY2NlcHQnOidhcHBsaWNhdGlvbi9qc29uJ30KI2FkZCBmaWx0ZXIgdG8gZ2V0IHJlY29yZHMgdXBkYXRlZCBpbiBsYXN0IDI0ICBob3VycwppZiBkaWN0WydmdWxsTG9hZCddID09ICdUcnVlJzoKICAgIGZyb21EYXRlID0gZGF0ZXRpbWUuZGF0ZXRpbWUoMjAxNywxLDEpCmVsc2U6CiAgICB0cnk6CiAgICAgICAgdGltZWRlbHRhID0gZmxvYXQoZGljdFsnVGltZURlbHRhKGhycyknXSkKICAgIGV4Y2VwdDoKICAgICAgICB0aW1lZGVsdGEgPSAxICMgZGVmYXVsdCAxIGhvdXIKICAgIGxvZ2dlci5pbmZvKCdGZXRjaGluZyByZWNvcmRzIGZvciBsYXN0IHswfSBocnMnLmZvcm1hdCh0aW1lZGVsdGEpKQogICAgZnJvbURhdGUgPSAgZGF0ZXRpbWUuZGF0ZXRpbWUudXRjbm93KCkgLSAgZGF0ZXRpbWUudGltZWRlbHRhKGhvdXJzID0gdGltZWRlbHRhKQp0aW1lc3RhbXBQYXJhbSA9ICdzeXNfdXBkYXRlZF9vbj49Jytmcm9tRGF0ZS5zdHJmdGltZSgnJVktJW0tJWQgJUg6JU06JVMnKQpwYXJhbXMgPSBwYXJhbXMgKyAnJnN5c3Bhcm1fcXVlcnk9JyArIHF1b3RlX3BsdXModGltZXN0YW1wUGFyYW0pCiMgRG8gdGhlIEhUVFAgcmVxdWVzdAp3aGlsZShyZXN1bHRDb3VudD09aW50KGxpbWl0KSk6CiAgICB1cmwgPSB1cmwrYXBpK3Nub3d0YWJsZSsnPycrcGFyYW1zKycmc3lzcGFybV9saW1pdD0nK3N0cihsaW1pdCkrJyZzeXNwYXJtX29mZnNldD0nK3N0cihvZmZzZXQpCiAgICBwcm94eURpY3QgPXt9CiAgICBpZiBkaWN0WydzZXRQcm94eSddID09ICdUcnVlJzoKICAgICAgICBwcm94eURpY3QgPSB7CiAgICAgICAgICAgICAgICAgICAgICAnaHR0cCcgIDogb3MuZW52aXJvblsnSFRUUF9QUk9YWSddLAogICAgICAgICAgICAgICAgICAgICAgJ2h0dHBzJyA6IG9zLmVudmlyb25bJ0hUVFBTX1BST1hZJ10gICAgICAKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIAogICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQodXJsLCBhdXRoPSh1c2VyLCBwd2QpLCBoZWFkZXJzPWhlYWRlcnMgLHByb3hpZXM9cHJveHlEaWN0KQogICAgbG9nZ2VyLmluZm8ocmVzcG9uc2UpCiAgICAjIENoZWNrIGZvciBIVFRQIGNvZGVzIG90aGVyIHRoYW4gMjAwCiAgICBpZiByZXNwb25zZS5zdGF0dXNfY29kZSAhPSAyMDA6CiAgICAgICAgbG9nZ2VyLmluZm8oJ1N0YXR1czonLCByZXNwb25zZS5zdGF0dXNfY29kZSwgJ0hlYWRlcnM6JywgcmVzcG9uc2UuaGVhZGVycywgJ0Vycm9yIFJlc3BvbnNlOicscmVzcG9uc2UuanNvbigpKQogICAgICAgIGV4aXQoKQogICAgIyBEZWNvZGUgdGhlIEpTT04gcmVzcG9uc2UgaW50byBhIGRpY3Rpb25hcnkgYW5kIHVzZSB0aGUgZGF0YQogICAgZGF0YSA9IHJlc3BvbnNlLmpzb24oKQogICAgbG9nZ2VyLmluZm8oJ1JlY29yZHMgRmV0Y2hlZCB7MH0nLmZvcm1hdCggbGVuKGRhdGFbJ3Jlc3VsdCddKSkpCiAgICByZXN1bHRDb3VudCA9IGxlbihkYXRhWydyZXN1bHQnXSkKICAgICNjb252ZXJ0IGpzb24gdG8gc3BhcmsgZGF0YWZyYW1lCiAgICBqc29uU3RyaW5nQXJyYXkgPSBbXQogICAgZm9yIHJvdyBpbiBkYXRhWydyZXN1bHQnXToKICAgICAgICAKICAgICAgICBqc29uc3RyID1qc29uLmR1bXBzKHJvdykKICAgICAgICAKICAgICAgICBqc29uU3RyaW5nQXJyYXkuYXBwZW5kKGpzb25zdHIpCiAgICBzcGFyayA9IFNwYXJrU2Vzc2lvbi5idWlsZGVyLmNvbmZpZygnc3BhcmsudWkuc2hvd0NvbnNvbGVQcm9ncmVzcycsICdmYWxzZScpLmdldE9yQ3JlYXRlKCkKICAgIGRmID0gc3BhcmsucmVhZC5qc29uKHNwYXJrLnNwYXJrQ29udGV4dC5wYXJhbGxlbGl6ZShqc29uU3RyaW5nQXJyYXkpKQogICAgc25vd1RvSWNtQ29sdW1uTWFwcGluZyA9IHsnbnVtYmVyJzonbnVtYmVyJywnc2hvcnRfZGVzY3JpcHRpb24nOidzaG9ydGRlc2NyaXB0aW9uJywncHJpb3JpdHknOidwcmlvcml0eScsJ3N0YXRlJzonc3RhdGUnLCdkZXNjcmlwdGlvbic6J2Rlc2NyaXB0aW9uJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzeXNfaWQnOidzeXNJZCcsJ29wZW5lZF9hdCc6J29wZW5lZERhdGUnLCdzeXNfY3JlYXRlZF9vbic6J2NyZWF0ZWREYXRlJywnc3lzX3VwZGF0ZWRfb24nOid1cGRhdGVkRGF0ZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2xhX2R1ZSc6J3NsYWR1ZURhdGUnLCdjbG9zZWRfYXQnOidjbG9zZWREYXRlJywnZHVlX2RhdGUnOidkdWVkYXRlJywnc3lzX2NyZWF0ZWRfYnknOidjcmVhdGVkYnknLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Jlb3BlbmVkX3RpbWUnOidyZW9wZW5lZERhdGUnLCdyZXNvbHZlZF9hdCc6J3Jlc29sdmVkRGF0ZScsJ2NhdGVnb3J5JzonY2F0ZWdvcnknLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Nsb3NlX2NvZGUnOidjbG9zZWNvZGUnLCdjbG9zZV9jb2RlJzoncmVzb2x1dGlvbkNhdGVnb3J5JywnaW1wYWN0JzonaW1wYWN0JywncmVxdWVzdGVkX2Zvci5kaXNwbGF5X3ZhbHVlJzoncmVxdWVzdGVkX2ZvcicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXNzaWdubWVudF9ncm91cC5kaXNwbGF5X3ZhbHVlJzonYXNzaWdubWVudGdyb3VwJywnY2FsbGVyX2lkLmRpc3BsYXlfdmFsdWUnOidjYWxsZXInLCdhc3NpZ25lZF90by5kaXNwbGF5X3ZhbHVlJzonYXNzaWduZWR0bycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncmVzb2x2ZWRfYnkuZGlzcGxheV92YWx1ZSc6J3Jlc29sdmVkYnknLCdjbG9zZWRfYnkuZGlzcGxheV92YWx1ZSc6J2Nsb3NlZGJ5JywnY21kYl9jaS5kaXNwbGF5X3ZhbHVlJzonY29uZmlndXJhdGlvbkl0ZW0nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Nsb3NlX25vdGVzJzonY2xvc2Vub3RlcycsJ2Nsb3NlX25vdGVzJzoncmVzb2x1dGlvbl9zdGVwcycsJ2xvY2F0aW9uLmRpc3BsYXlfdmFsdWUnOidsb2NhdGlvbicsJ3JlcXVlc3Rfc3RhdGUnOidyZXF1ZXN0X3N0YXRlJywncHJpY2UnOidwcmljZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BlY2lhbF9pbnN0cnVjdGlvbnMnOidzcGVjaWFsX2luc3RydWN0aW9ucycsJ2FwcHJvdmFsJzonYXBwcm92YWwnLCdidXNpbmVzc19zZXJ2aWNlJzonYnVzaW5lc3Nfc2VydmljZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncmlzayc6J3Jpc2snLCd0eXBlJzondHlwZScsJ3JlcXVlc3RlZF9ieS5kaXNwbGF5X3ZhbHVlJzoncmVxdWVzdGVkX2J5JywnaW5jaWRlbnQuZGlzcGxheV92YWx1ZSc6J3BhcmVudF9JbmNpZGVudCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1cmdlbmN5Jzonc2V2ZXJpdHknIH0KICAgICNtYXBDb2x1bW5zCiAgICBmb3VuZENvbHVtbnMgPSBbXQogICAgZm9yIGtleSBpbiBzbm93VG9JY21Db2x1bW5NYXBwaW5nLmtleXMoKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIGljbUNvbHVtbiA9c25vd1RvSWNtQ29sdW1uTWFwcGluZ1trZXldCiAgICAgICAgICAgIHNub3dDb2x1bW49IGtleQogICAgICAgICAgICBkZj0gZGYud2l0aENvbHVtbihpY21Db2x1bW4sd2hlbihjb2woc25vd0NvbHVtbikgPT0gJycsIE5vbmUpLm90aGVyd2lzZShjb2woc25vd0NvbHVtbikpKQogICAgICAgICAgICBmb3VuZENvbHVtbnMuYXBwZW5kKGljbUNvbHVtbikKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGVycm9yID0gJ0NvbHVtbiBOb3QgZm91bmQnCiAgICBkZiA9IGRmLnNlbGVjdChmb3VuZENvbHVtbnMpCiAgICAjIEFkZCBzdGF0aWMgY29sdW1ucyAtIElDTSBzcGVjaWZpYwogICAgZGYgPSBkZi53aXRoQ29sdW1uKCdzb3VyY2UnLGxpdCgnU05PVycpKQogICAgZGYgPSBkZi53aXRoQ29sdW1uKCdsYXN0VXBkYXRlZCcsbGl0KGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpKSkKICAgIGRlZiByZWNvcmRUeXBlKGkpOgogICAgICAgIHN3aXRjaGVyID0gewogICAgICAgICAgICAnaW5jaWRlbnQnOiAnSW5jaWRlbnQnLAogICAgICAgICAgICAnY2hhbmdlX3JlcXVlc3QnOiAnQ2hhbmdlUmVxdWVzdC1Ob3JtYWwnLAogICAgICAgICAgICAnaW5jaWRlbnRfdGFzayc6ICdUYXNrJywKICAgICAgICAgICAgJ3NjX3JlcXVlc3QnOiAnU2VydmljZVJlcXVlc3QnCiAgICAgICAgfQogICAgICAgIHJldHVybiBzd2l0Y2hlci5nZXQoaSwgJ0luY2lkZW50JykKICAgIGRmID0gZGYud2l0aENvbHVtbigndHlwZScsbGl0KHJlY29yZFR5cGUoc25vd3RhYmxlLmxvd2VyKCkpKSkKICAgICNzYXZlIHRvIGRiCiAgICBjb2x1bW5MaXN0ID0gZGYuY29sdW1ucwogICAgI1VwZGF0ZSBkZWZhdWx0IGNvbHVtbnMgCiAgICBpZiAnc2hvcnRkZXNjcmlwdGlvbicgaW4gY29sdW1uTGlzdDoKICAgICAgICBkZiA9IGRmLm5hLmZpbGwoeydzaG9ydGRlc2NyaXB0aW9uJzonJ30pCiAgICBlbHNlOgogICAgICAgIGNvbHVtbkxpc3QuYXBwZW5kKCdzaG9ydGRlc2NyaXB0aW9uJykKICAgICAgICBkZiA9IGRmLndpdGhDb2x1bW4oJ3Nob3J0ZGVzY3JpcHRpb24nLCBsaXQoJycpKQogICAgaWYgJ2NhdGVnb3J5JyBpbiBjb2x1bW5MaXN0OgogICAgICAgIGRmID0gZGYubmEuZmlsbCh7J2NhdGVnb3J5JzonJ30pCiAgICBlbHNlOgogICAgICAgIGNvbHVtbkxpc3QuYXBwZW5kKCdjYXRlZ29yeScpCiAgICAgICAgZGYgPSBkZi53aXRoQ29sdW1uKCdjYXRlZ29yeScsIGxpdCgnJykpCiAgICBpZiAnY29uZmlndXJhdGlvbkl0ZW0nIGluIGNvbHVtbkxpc3Q6CiAgICAgICAgZGYgPSBkZi5uYS5maWxsKHsnY29uZmlndXJhdGlvbkl0ZW0nOicnfSkKICAgIGVsc2U6CiAgICAgICAgY29sdW1uTGlzdC5hcHBlbmQoJ2NvbmZpZ3VyYXRpb25JdGVtJykKICAgICAgICBkZiA9IGRmLndpdGhDb2x1bW4oJ2NvbmZpZ3VyYXRpb25JdGVtJywgbGl0KCcnKSkKICAgIGlmICdyZXNvbHV0aW9uQ2F0ZWdvcnknIGluIGNvbHVtbkxpc3Q6CiAgICAgICAgZGYgPSBkZi5uYS5maWxsKHsncmVzb2x1dGlvbkNhdGVnb3J5JzonJ30pCiAgICBlbHNlOgogICAgICAgIGNvbHVtbkxpc3QuYXBwZW5kKCdyZXNvbHV0aW9uQ2F0ZWdvcnknKQogICAgICAgIGRmID0gZGYud2l0aENvbHVtbigncmVzb2x1dGlvbkNhdGVnb3J5JywgbGl0KCcnKSkKICAgICAgIAogICAgCiAgICAjTEVBUCBEYXRhc291cmNlCiAgICBsZWFwZHMgPSBkaWN0WydMRUFQRGF0YVNvdXJjZSddCiAgICBsZWFwRFNkaWN0ID1qc29uLmxvYWRzKGxlYXBkcykKICAgIAogICAgdXNlcm5hbWUgPSBsZWFwRFNkaWN0Wyd1c2VyTmFtZSddCiAgICBwYXNzd29yZCA9IFV0aWxpdGllcy5kZWNyeXB0KGxlYXBEU2RpY3RbJ3Bhc3N3b3JkJ10sbGVhcERTZGljdFsnc2FsdCddKQogICAgaG9zdCA9IHVybHBhcnNlKGxlYXBEU2RpY3RbJ3VybCddWzU6XSkuaG9zdG5hbWUKICAgIHBvcnQgPSB1cmxwYXJzZShsZWFwRFNkaWN0Wyd1cmwnXVs1Ol0pLnBvcnQKICAgIGRhdGFiYXNlID0gdXJscGFyc2UobGVhcERTZGljdFsndXJsJ11bNTpdKS5wYXRoLnJzcGxpdCgnLycsIDEpWzFdCiAgICBpZihyZXN1bHRDb3VudCA9PSAwKToKICAgICAgICBicmVhazsKICAgIGRmID0gZGYucmVwYXJ0aXRpb24obWF0aC5mbG9vcihyZXN1bHRDb3VudC8oaW50KGxpbWl0KS8xMCkpKQogICAgbG9nZ2VyLmluZm8oJ0luc2VydGluZyBSZWNvcmRzIGluIERCJykKICAgIGRmLmZvcmVhY2hQYXJ0aXRpb24ocHJvY2Vzc19wYXJ0aXRpb24pCiAgICBvZmZzZXQgPSBvZmZzZXQgKyBsaW1pdAoKbG9nZ2VyLmluZm8oJ0NvbXBsZXRlZCcpCgo=,leo1311
