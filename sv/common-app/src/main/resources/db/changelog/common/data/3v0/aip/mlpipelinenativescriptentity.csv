"cname","filename","filescript","organization"
"DEMCDGNR69853","DEMCDGNR69853_leo1311.py","aW1wb3J0IHN5cwppbXBvcnQgb3MucGF0aAppbXBvcnQganNvbgppbXBvcnQgcmUKZnJvbSBsZWFwdXRpbHMgaW1wb3J0IERBRwoKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKCmFyZ3VtZW50cyA9IHN5cy5hcmd2CmRpY3QgPSB7fQpmb3IgYXJnIGluIGFyZ3VtZW50czoKICAgIHRyeToKICAgICAgICBkaWN0W2FyZy5zcGxpdCgnOicpWzBdXSA9ICgnOicpLmpvaW4oYXJnLnNwbGl0KCc6JylbMTpdKQogICAgZXhjZXB0OgogICAgICAgIGEgPSAnZXJyb3InCgoKIyBiYXNlIHNjcmlwdCBmb3IgU3BhcmsKZGVmIGJhc2VTY3JpcHQoKToKICAgIHJldHVybiAnJydmcm9tIHB5c3BhcmsubWwgaW1wb3J0IFBpcGVsaW5lCmZyb20gcHlzcGFyay5zcWwgaW1wb3J0IFNwYXJrU2Vzc2lvbgppbXBvcnQgbG9nZ2luZwpmcm9tIHB5c3BhcmsubWwuZmVhdHVyZSBpbXBvcnQgKgp7aW1wb3J0c30KCmRlZiBpbml0aWF0ZVNwYXJrKCk6CiAgICBzcGFyayA9IFNwYXJrU2Vzc2lvbi5idWlsZGVyLmFwcE5hbWUoJ3twaXBlbGluZU5hbWV9JykuZ2V0T3JDcmVhdGUoKQogICAgbG9nZ2luZy5iYXNpY0NvbmZpZyhsZXZlbD1sb2dnaW5nLklORk8sIGZvcm1hdD0nJShhc2N0aW1lKXMgLSAlKG1lc3NhZ2UpcycsIGRhdGVmbXQ9JyV5LyVtLyVkICVIOiVNOiVTJykKICAgIGxvZ2dpbmcuaW5mbygnSW5pdGlhdGVkIFNwYXJrJykKICAgIHJldHVybiBzcGFyawoKZGVmIGdldERhdGEoc3BhcmspOgogICAgbG9nZ2luZy5pbmZvKCdGZXRjaGluZyBEYXRhc2V0cycpCntleHRyYWN0b3JzfQogICAgcmV0dXJuIHtpbl9kYXRhc2V0c30Ke3ByZXByb2Nlc3NpbmdTY3JpcHR9CmRlZiBwaXBlbGluZShzcGFyaywgZGF0YXNldCk6CiAgICBsb2dnaW5nLmluZm8oJ0V4ZWN1dGluZyBQaXBlbGluZScpCiAgICBzcGxpdHMgPSBkYXRhc2V0LnJhbmRvbVNwbGl0KFswLjcsIDAuM10pCiAgICB0cmFpbmRzID0gc3BsaXRzWzBdCiAgICB0ZXN0ZHMgPSBzcGxpdHNbMV0KICAgIHBpcGVsaW5lU3RhZ2VzID0gW10Ke21vZGVsU291cmNlfQp7dHJhbnNmb3JtZXJzfQp7ZG9tYWluU29sdXRpb259CiAgICBwaXBlbGluZSA9IFBpcGVsaW5lKHN0YWdlcz1waXBlbGluZVN0YWdlcytbe3BpcGVsaW5lc3RhZ2VzfV0pCiAgICBtb2RlbCA9IHBpcGVsaW5lLmZpdCh0cmFpbmRzKQogICAge21vZGVsU2lua30KICAgIHJlc3VsdCA9IG1vZGVsLnRyYW5zZm9ybSh0ZXN0ZHMpCiAgICByZXR1cm4gbW9kZWwsIHJlc3VsdAp7cG9zdHByb2Nlc3NpbmdTY3JpcHR9Cntsb2FkZXJzfQoKZGVmIGV4ZWN1dGVQaXBlbGluZSgpOgogICAgc3BhcmsgPSBpbml0aWF0ZVNwYXJrKCkKICAgIHtpbl9kYXRhc2V0c309IGdldERhdGEoc3BhcmspCiAgICB7bWFpbl9wcmVwcm9jZXNzaW5nfQogICAgbW9kZWwsIHJlc3VsdCA9IHBpcGVsaW5lKHNwYXJrLCBkYXRhc2V0KQogICAge21haW5fcG9zdHByb2Nlc3Npbmd9CiAgICB7bWFpbl9sb2FkZXJzfQogICAgbG9nZ2luZy5pbmZvKCdDb21wbGV0ZWQnKQoKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBleGVjdXRlUGlwZWxpbmUoKQoKJycnCgoKIyBmaWxsIGFsbCBqb2IgcGFyYW1zIGluIHBpcGVsaW5lSnNvbgpkZWYgZmlsbEpvYlBhcmFtcyhwaXBlbGluZUpzb24pOgogICAgb3JnYW5pemF0aW9uID0gcGlwZWxpbmVKc29uLmdldCgnb3JnJywgJ0lORk9TWVMnKQoKICAgICMgU2V0IGFsbCBKb2IgUGFyYW1zCiAgICBqb2JQYXJhbXMgPSB7fQogICAgam9iUGFyYW1zWydOZXh0RXhlY3V0aW9uVGltZSddID0gcGlwZWxpbmVKc29uLmdldCgnTmV4dF9FeGVjdXRpb25fVGltZScsICcnKQogICAgam9iUGFyYW1zWydDdXJyZW50RXhlY3V0aW9uVGltZSddID0gcGlwZWxpbmVKc29uLmdldCgnQ3VycmVudF9FeGVjdXRpb25fVGltZScsICcnKQogICAgam9iUGFyYW1zWydMYXN0U3VjY2Vzc2Z1bEV4ZWN1dGlvblRpbWUnXSA9IHBpcGVsaW5lSnNvbi5nZXQoJ0xhc3RfU3VjY2Vzc2Z1bF9FeGVjdXRpb25fVGltZScsICcnKQogICAgam9iUGFyYW1zWydMYXN0RXhlY3V0aW9uVGltZSddID0gcGlwZWxpbmVKc29uLmdldCgnTGFzdF9FeGVjdXRpb25fVGltZScsICcnKQoKICAgIHJlZ0V4ID0gJzxqb2JQYXJhbXM6KFtcd1wuLV0rKTsoLio/KT4nCiAgICBwaXBlbGluZUpzb25MaXN0ID0gW10KCiAgICBmb3IgaXRlbSBpbiBwaXBlbGluZUpzb25bJ2VsZW1lbnRzJ106CiAgICAgICAgaXRlbVRleHQgPSBqc29uLmR1bXBzKGl0ZW0pCiAgICAgICAgIyByZXBsYWNlIE9yZwogICAgICAgIGl0ZW1UZXh0ID0gaXRlbVRleHQucmVwbGFjZSgnPGpvYlBhcmFtczpvcmdOYW1lPicsIG9yZ2FuaXphdGlvbikKICAgICAgICAjIHJlcGxhY2UgdGltZXN0YW1wcwogICAgICAgIHBhcmFtcyA9IHJlLmZpbmRhbGwocmVnRXgsIGl0ZW1UZXh0KQogICAgICAgIGZvciBwIGluIHBhcmFtczoKICAgICAgICAgICAgdGV4dFRvcmVwbGFjZSA9ICc8am9iUGFyYW1zOnswfTt7MX0+Jy5mb3JtYXQocFswXSwgcFsxXSkKICAgICAgICAgICAgaWYgam9iUGFyYW1zW3BbMF1dICE9ICcnIGFuZCBqb2JQYXJhbXNbcFswXV0gIT0gLTE6CiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgZHQgPSBkYXRldGltZS5zdHJwdGltZShqb2JQYXJhbXNbcFswXV0sICclYSwgJWQgJWIgJVkgJUg6JU06JVMnKQogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VXaXRoID0gZGF0ZXRpbWUuc3RyZnRpbWUoZHQsIHBbMV0pCiAgICAgICAgICAgICAgICAgICAgaXRlbVRleHQgPSBpdGVtVGV4dC5yZXBsYWNlKHRleHRUb3JlcGxhY2UsIHJlcGxhY2VXaXRoKQogICAgICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgICAgIGEgPSAxCiAgICAgICAgcGlwZWxpbmVKc29uTGlzdC5hcHBlbmQoanNvbi5sb2FkcyhpdGVtVGV4dCkpCiAgICByZXR1cm4gcGlwZWxpbmVKc29uTGlzdAoKCiMgQnVpbGQgREFHIG9mIGFsbCB0aGUgbm9kZXMKIyBSZXR1cm5zIHRoZSBsaXN0IG9mIGVsZW1lbnRzIGluIG9yZGVyCmRlZiBidWlsZERBRyhwaXBlbGluZUpzb25MaXN0KToKICAgIG9yZGVyZWRFbGVtZW50TGlzdCA9IERBRy5idWlsZChwaXBlbGluZUpzb25MaXN0KTsKICAgIG9yZGVyZWRFbGVtZW50TGlzdCA9IGxpc3QoZmlsdGVyKE5vbmUsIG9yZGVyZWRFbGVtZW50TGlzdCkpCiAgICByZXR1cm4gb3JkZXJlZEVsZW1lbnRMaXN0CgoKIyBmaWxsIG5vZGUgYXR0cmlidXRlcyB3aXRoIEFjdHVhbCBEYXRhCmRlZiBmaWxsRGF0YShub2RlLCBzY3JpcHQpOgogICAgYXR0cmlidXRlcyA9IHJlLmZpbmRhbGwoJ1w8KC4qPylcPicsIHNjcmlwdCkKICAgIGZvciBpdGVtIGluIGF0dHJpYnV0ZXM6CiAgICAgICAgaW5wdXRfc3BsaXQgPSBpdGVtLnNwbGl0KCcuJykKICAgICAgICBrZXlzID0gJycuam9pbihbZicnJ1sne2t9J10nJycgZm9yIGsgaW4gaW5wdXRfc3BsaXRdKQogICAgICAgIHRyeToKICAgICAgICAgICAgdmFsdWUgPSBldmFsKGYnJydub2RlLmF0dHJpYnV0ZXMnJycgKyBmJycne2tleXN9JycnKQogICAgICAgICAgICBzY3JpcHQgPSBzY3JpcHQucmVwbGFjZSgnPCcgKyBpdGVtICsgJz4nLCB2YWx1ZSkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGEgPSAxCiAgICByZXR1cm4gc2NyaXB0CgoKZGVmIGdlbmVyYXRlU2NyaXB0KCk6CiAgICB3aXRoIG9wZW4ob3MucGF0aC5qb2luKGRpY3RbJ3NjcmlwdFBhdGgnXSwncGlwZWxpbmUuanNvbicpKSBhcyBmOgogICAgICAgIHBpcGVsaW5lSnNvbiA9IGYucmVhZCgpCgogICAgcGlwZWxpbmVKc29uID0ganNvbi5sb2FkcyhwaXBlbGluZUpzb24pCgogICAgcGlwZWxpbmVFbGVtZW50cyA9IGZpbGxKb2JQYXJhbXMocGlwZWxpbmVKc29uKQogICAgb3JkZXJlZEVsZW1lbnRMaXN0ID0gYnVpbGREQUcocGlwZWxpbmVFbGVtZW50cykKCiAgICBpbXBvcnRfbGluZXMgPSBbXQogICAgZXh0cmFjdG9ycyA9IFtdCiAgICBpbl9kYXRhc2V0cyA9IFtdCiAgICBwcmVQcm9jZXNzaW5nU2NyaXB0ID0gJycKICAgIHRyYW5zZm9ybWVycyA9IFtdCiAgICBtb2RlbFNvdXJjZSA9ICcnCiAgICBwaXBlbGluZVN0YWdlcyA9IFtdCiAgICBtb2RlbFNpbmsgPSAnJwogICAgcG9zdFByb2Nlc3NpbmdTY3JpcHQgPSAnJwogICAgbG9hZGVycyA9IFtdCiAgICBkb21haW5Tb2x1dGlvbiA9ICcnCiAgICBvdXRfZGF0YXNldHMgPSBbXQogICAgbWFpbl9sb2FkZXJzID0gW10KICAgIG1haW5fcHJlcHJvY2Vzc2luZyA9ICcnCiAgICBtYWluX3Bvc3Rwcm9jZXNzaW5nID0gJycKCiAgICBmb3Igbm9kZSBpbiBvcmRlcmVkRWxlbWVudExpc3Q6CiAgICAgICAgIyBFeHRyYWN0b3JzCiAgICAgICAgZWxlbWVudCA9IG5leHQoZSBmb3IgZSBpbiBwaXBlbGluZUpzb25bJ2VsZW1lbnRzJ10gaWYgZVsnaWQnXSA9PSBub2RlLmlkKQogICAgICAgIGlmIG5vZGUuY2xhc3NOYW1lID09ICdEYXRhc2V0RXh0cmFjdG9yQ29uZmlnJzoKICAgICAgICAgICAgZXh0cmFjdG9yU2NyaXB0ID0gXAogICAgICAgICAgICAgICAgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVtub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWyd0eXBlJ11dWydzY3JpcHQnXQogICAgICAgICAgICBleHRyYWN0b3JTY3JpcHQgPSBleHRyYWN0b3JTY3JpcHQucmVwbGFjZSgnPGlkPicsIG5vZGUuaWQpCiAgICAgICAgICAgIG5vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydkYXRhc291cmNlJ11bJ2Nvbm5lY3Rpb25EZXRhaWxzJ10gPSBqc29uLmxvYWRzKAogICAgICAgICAgICAgICAgbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsnY29ubmVjdGlvbkRldGFpbHMnXSkKICAgICAgICAgICAgZXh0cmFjdG9yU2NyaXB0ID0gZmlsbERhdGEobm9kZSwgZXh0cmFjdG9yU2NyaXB0KQogICAgICAgICAgICBleHRyYWN0b3JzLmFwcGVuZChleHRyYWN0b3JTY3JpcHQpCiAgICAgICAgICAgIGluX2RhdGFzZXRzLmFwcGVuZCgnZGF0YXNldF97fScuZm9ybWF0KG5vZGUuaWQpKQogICAgICAgICAgICBpbXBvcnRfbGluZXMgPSBpbXBvcnRfbGluZXMgKyBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddXVsnaW1wb3J0cyddCiAgICAgICAgIyBUcmFuc2Zvcm1lcnMKICAgICAgICBpZiBub2RlLmNhdGVnb3J5ID09ICdUcmFuc2Zvcm1lckNvbmZpZyc6CiAgICAgICAgICAgIHRyYW5zZm9ybWVyU2NyaXB0ID0gZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVsnc2NyaXB0J10KICAgICAgICAgICAgdHJhbnNmb3JtZXJTY3JpcHQgPSB0cmFuc2Zvcm1lclNjcmlwdC5yZXBsYWNlKCc8aWQ+Jywgbm9kZS5pZCkKICAgICAgICAgICAgdHJhbnNmb3JtZXJTY3JpcHQgPSBmaWxsRGF0YShub2RlLCB0cmFuc2Zvcm1lclNjcmlwdCkKICAgICAgICAgICAgdHJhbnNmb3JtZXJzLmFwcGVuZCh0cmFuc2Zvcm1lclNjcmlwdCkKICAgICAgICAgICAgaW1wb3J0X2xpbmVzID0gaW1wb3J0X2xpbmVzICsgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVsnaW1wb3J0cyddCgogICAgICAgICMgTW9kZWxTaW5rCiAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgPT0gJ01vZGVsU2lua0NvbmZpZyc6CiAgICAgICAgICAgIG1vZGVsU2luayA9IGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bJ3NjcmlwdCddCiAgICAgICAgICAgIG1vZGVsU2luayA9IG1vZGVsU2luay5yZXBsYWNlKCc8aWQ+Jywgbm9kZS5pZCkKICAgICAgICAgICAgbW9kZWxTaW5rID0gZmlsbERhdGEobm9kZSwgbW9kZWxTaW5rKQogICAgICAgICAgICBpbXBvcnRfbGluZXMgPSBpbXBvcnRfbGluZXMgKyBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddWydpbXBvcnRzJ10KCiAgICAgICAgIyBBbmFseXplcgogICAgICAgIGlmIG5vZGUuY2F0ZWdvcnkgPT0gJ0FuYWx5emVyQ29uZmlnJzoKICAgICAgICAgICAgYW5hbHl6ZXJTY3JpcHQgPSBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddWydzY3JpcHQnXQogICAgICAgICAgICBhbmFseXplclNjcmlwdCA9IGFuYWx5emVyU2NyaXB0LnJlcGxhY2UoJzxpZD4nLCBub2RlLmlkKQogICAgICAgICAgICBhbmFseXplclNjcmlwdCA9IGZpbGxEYXRhKG5vZGUsIGFuYWx5emVyU2NyaXB0KQogICAgICAgICAgICB0cmFuc2Zvcm1lcnMuYXBwZW5kKGFuYWx5emVyU2NyaXB0KQogICAgICAgICAgICBpbXBvcnRfbGluZXMgPSBpbXBvcnRfbGluZXMgKyBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddWydpbXBvcnRzJ10KICAgICAgICAgICAgcGlwZWxpbmVTdGFnZXMuYXBwZW5kKCdhbmFseXplcl97MH0nLmZvcm1hdChub2RlLmlkKSkKCiAgICAgICAgIyBQcmUtcHJvY2Vzc2luZyBTY3JpcHQKICAgICAgICBpZiBub2RlLmNsYXNzTmFtZSA9PSAnUHJlUHJvY2Vzc2luZ1NjcmlwdENvbmZpZyc6CiAgICAgICAgICAgIHByZVByb2Nlc3NpbmdTY3JpcHQgPSAnJwogICAgICAgICAgICBwcmVQcm9jZXNzaW5nc2NyaXB0bGluZXMgPSBsaXN0KG5vZGUuYXR0cmlidXRlc1snc2NyaXB0J10pCgogICAgICAgICAgICBwcmVQcm9jZXNzaW5nU2NyaXB0ID0gcHJlUHJvY2Vzc2luZ1NjcmlwdCArICcnJycnJy5qb2luKG5vZGUuYXR0cmlidXRlc1snc2NyaXB0J10pCgogICAgICAgICAgICBpbXBvcnRzID0gcHJlUHJvY2Vzc2luZ1NjcmlwdFswOnByZVByb2Nlc3NpbmdTY3JpcHQuaW5kZXgoJ2NsYXNzIEN1c3RvbVB5dGhvbkNsYXNzKCcpXS5zcGxpdCgnXHInKQogICAgICAgICAgICBwcmVQcm9jZXNzaW5nQmFzZVNjcmlwdCA9ICcnJ1xyXG5kZWYgcHJlcHJvY2Vzc2luZyhzcGFyaywge2luX2RhdGFzZXRzfSk6CiAgICBsb2dnaW5nLmluZm8oJ1ByZSBQcm9jZXNzaW5nJylccicnJwogICAgICAgICAgICBwcmVQcm9jZXNzaW5nU2NyaXB0ID0gcHJlUHJvY2Vzc2luZ0Jhc2VTY3JpcHQgKyBwcmVQcm9jZXNzaW5nU2NyaXB0WwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVQcm9jZXNzaW5nU2NyaXB0LmluZGV4KCdjbGFzcyBDdXN0b21QeXRob25DbGFzcygnKTpdCiAgICAgICAgICAgIHByZVByb2Nlc3NpbmdTY3JpcHQgPSBbJyAgICAnICsgbCBmb3IgbCBpbiBwcmVQcm9jZXNzaW5nU2NyaXB0LnNwbGl0KCdccicpIGlmIGwuc3RyaXAoKSAhPSAnJ10KICAgICAgICAgICAgcHJlUHJvY2Vzc2luZ1NjcmlwdCA9ICdccicuam9pbihwcmVQcm9jZXNzaW5nU2NyaXB0KQogICAgICAgICAgICBwcmVQcm9jZXNzaW5nU2NyaXB0ID0gcHJlUHJvY2Vzc2luZ1NjcmlwdCArICcnJ1xyICAgIGRhdGFzZXQgPSBDdXN0b21QeXRob25DbGFzcy5fX21haW5fXygnJyx7aW5fZGF0YXNldHN9KVxyJycnICsgJycnICAgIHJldHVybiBkYXRhc2V0XHInJycKICAgICAgICAgICAgaW1wb3J0X2xpbmVzID0gaW1wb3J0X2xpbmVzICsgaW1wb3J0cwogICAgICAgICAgICBtYWluX3ByZXByb2Nlc3NpbmcgPSAnJydkYXRhc2V0ID0gcHJlcHJvY2Vzc2luZyhzcGFyaywge2luX2RhdGFzZXRzfSknJycKCiAgICAgICAgIyBQb3N0LXByb2Nlc3NpbmcgU2NyaXB0CiAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgPT0gJ1Bvc3RQcm9jZXNzaW5nU2NyaXB0Q29uZmlnJzoKICAgICAgICAgICAgcG9zdFByb2Nlc3NpbmdTY3JpcHQgPSAnJycnJycKICAgICAgICAgICAgcG9zdFByb2Nlc3NpbmdzY3JpcHRsaW5lcyA9IGxpc3Qobm9kZS5hdHRyaWJ1dGVzWydzY3JpcHQnXSkKICAgICAgICAgICAgcG9zdFByb2Nlc3NpbmdTY3JpcHQgPSBwb3N0UHJvY2Vzc2luZ1NjcmlwdCArICcnJycnJy5qb2luKHBvc3RQcm9jZXNzaW5nc2NyaXB0bGluZXMpCiAgICAgICAgICAgIGltcG9ydHMgPSBwb3N0UHJvY2Vzc2luZ1NjcmlwdFswOnBvc3RQcm9jZXNzaW5nU2NyaXB0LmluZGV4KCdjbGFzcyBDdXN0b21QeXRob25DbGFzcygnKV0uc3BsaXQoJ1xyJykKICAgICAgICAgICAgcG9zdFByb2Nlc3NpbmdCYXNlU2NyaXB0ID0gJycnXHJcbgpkZWYgcG9zdFByb2Nlc3Npbmcoc3BhcmssIG1vZGVsLCBkYXRhc2V0KToKICAgIGxvZ2dpbmcuaW5mbygnUG9zdCBQcm9jZXNzaW5nJylccicnJwogICAgICAgICAgICBwb3N0UHJvY2Vzc2luZ1NjcmlwdCA9IHBvc3RQcm9jZXNzaW5nQmFzZVNjcmlwdCArIHBvc3RQcm9jZXNzaW5nU2NyaXB0WwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RQcm9jZXNzaW5nU2NyaXB0LmluZGV4KCdjbGFzcyBDdXN0b21QeXRob25DbGFzcygnKTpdCiAgICAgICAgICAgIHBvc3RQcm9jZXNzaW5nU2NyaXB0ID0gWycgICAgJyArIGwgZm9yIGwgaW4gcG9zdFByb2Nlc3NpbmdTY3JpcHQuc3BsaXQoJ1xyJykgaWYgbC5zdHJpcCgpICE9ICcnXQogICAgICAgICAgICBwb3N0UHJvY2Vzc2luZ1NjcmlwdCA9ICdccicuam9pbihwb3N0UHJvY2Vzc2luZ1NjcmlwdCkKICAgICAgICAgICAgcG9zdFByb2Nlc3NpbmdTY3JpcHQgPSBwb3N0UHJvY2Vzc2luZ1NjcmlwdCArICcnJ1xyICAgIHtvdXRfZGF0YXNldHN9ID0gQ3VzdG9tUHl0aG9uQ2xhc3MuX19tYWluX18oJycsbW9kZWwsZGF0YXNldClccicnJyArICcnJyAgICByZXR1cm4ge291dF9kYXRhc2V0c31ccicnJwogICAgICAgICAgICBpbXBvcnRfbGluZXMgPSBpbXBvcnRfbGluZXMgKyBpbXBvcnRzCiAgICAgICAgICAgIG1haW5fcG9zdHByb2Nlc3NpbmcgPSAnJyd7b3V0X2RhdGFzZXRzfSA9IHBvc3RQcm9jZXNzaW5nKHNwYXJrLG1vZGVsLHJlc3VsdCknJycKCiAgICAgICAgIyBMb2FkZXJzCiAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgPT0gJ0RhdGFzZXRMb2FkZXJDb25maWcnOgogICAgICAgICAgICBsb2FkZXJiYXNlc2NyaXB0ID0gJycnZGVmIGxvYWREYXRhXzxpZD4oc3BhcmssZGF0YXNldF88aWQ+KTpcciAgICBsb2dnaW5nLmluZm8oJ1NhdmluZyBEYXRhc2V0IDxpZD4nKVxyJycnCiAgICAgICAgICAgIGxvYWRlcnNjcmlwdCA9IGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddXVsnc2NyaXB0J10KICAgICAgICAgICAgbG9hZGVyc2NyaXB0ID0gbG9hZGVyYmFzZXNjcmlwdCArIGxvYWRlcnNjcmlwdAogICAgICAgICAgICBvdXRfZGF0YXNldHMuYXBwZW5kKCdkYXRhc2V0X3t9Jy5mb3JtYXQobm9kZS5pZCkpCiAgICAgICAgICAgIGxvYWRlcnNjcmlwdCA9IGxvYWRlcnNjcmlwdC5yZXBsYWNlKCc8aWQ+Jywgbm9kZS5pZCkKICAgICAgICAgICAgbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsnY29ubmVjdGlvbkRldGFpbHMnXSA9IGpzb24ubG9hZHMoCiAgICAgICAgICAgICAgICBub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWydjb25uZWN0aW9uRGV0YWlscyddKQogICAgICAgICAgICBsb2FkZXJzY3JpcHQgPSBmaWxsRGF0YShub2RlLCBsb2FkZXJzY3JpcHQpCiAgICAgICAgICAgIGxvYWRlcnMuYXBwZW5kKGxvYWRlcnNjcmlwdCkKICAgICAgICAgICAgaW1wb3J0X2xpbmVzID0gaW1wb3J0X2xpbmVzICsgXAogICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddW25vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydkYXRhc291cmNlJ11bJ3R5cGUnXV1bCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaW1wb3J0cyddCiAgICAgICAgICAgIG1haW5fbG9hZGVycy5hcHBlbmQoJycnbG9hZERhdGFfPGlkPihzcGFyayxkYXRhc2V0XzxpZD4pJycnLnJlcGxhY2UoJzxpZD4nLCBub2RlLmlkKSkKCiAgICBpbXBvcnRfbGluZXMgPSBbbCBmb3IgbCBpbiBzZXQoaW1wb3J0X2xpbmVzKSBpZiBsICE9ICcnXQogICAgcGlwZWxpbmVDb2RlID0gYmFzZVNjcmlwdCgpCiAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne2ltcG9ydHN9JywgKCdccicpLmpvaW4oaW1wb3J0X2xpbmVzKSkKICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7cGlwZWxpbmVOYW1lfScsIGRpY3RbJ3BpcGVsaW5lTmFtZSddKQogICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3tleHRyYWN0b3JzfScsICgnXHInKS5qb2luKGV4dHJhY3RvcnMpKQogICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3twcmVwcm9jZXNzaW5nU2NyaXB0fScsIHByZVByb2Nlc3NpbmdTY3JpcHQpCiAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne3RyYW5zZm9ybWVyc30nLCAoJ1xyJykuam9pbih0cmFuc2Zvcm1lcnMpKQogICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3twaXBlbGluZXN0YWdlc30nLCAoJywnKS5qb2luKHBpcGVsaW5lU3RhZ2VzKSkKICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7cG9zdHByb2Nlc3NpbmdTY3JpcHR9JywgcG9zdFByb2Nlc3NpbmdTY3JpcHQpCiAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne2xvYWRlcnN9JywgKCdcclxuJykuam9pbihsb2FkZXJzKSkKICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7bW9kZWxTaW5rfScsIG1vZGVsU2luaykKICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7bW9kZWxTb3VyY2V9JywgbW9kZWxTb3VyY2UpCiAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne2RvbWFpblNvbHV0aW9ufScsIGRvbWFpblNvbHV0aW9uKQogICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3ttYWluX3ByZXByb2Nlc3Npbmd9JywgbWFpbl9wcmVwcm9jZXNzaW5nKQogICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3ttYWluX3Bvc3Rwcm9jZXNzaW5nfScsIG1haW5fcG9zdHByb2Nlc3NpbmcpCiAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne21haW5fbG9hZGVyc30nLCAoJ1xyICAgICcpLmpvaW4obWFpbl9sb2FkZXJzKSkKICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7aW5fZGF0YXNldHN9JywgKCcsICcpLmpvaW4oaW5fZGF0YXNldHMpKQogICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3tvdXRfZGF0YXNldHN9JywgKCcsICcpLmpvaW4ob3V0X2RhdGFzZXRzKSkKICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCdccicsICdcbicpCiAgICB3aXRoIG9wZW4ob3MucGF0aC5qb2luKGRpY3RbJ3NjcmlwdFBhdGgnXSwgZGljdFsncGlwZWxpbmVOYW1lJ10gKyAnX2dlbmVyYXRlZENvZGUucHknKSwgJ3cnKSBhcyBmOgogICAgICAgIGYud3JpdGVsaW5lcyhwaXBlbGluZUNvZGUpCgoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIGdlbmVyYXRlU2NyaXB0KCkKCnByaW50KCdDb21wbGV0ZWQnKQoKCgoKCgoKCgoK","leo1311"
"DEMCDGNR37257","DEMCDGNR37257_leo1311.py","aW1wb3J0IHN5cywgb3MKZnJvbSB1cmxsaWIucGFyc2UgaW1wb3J0IHVybHBhcnNlCmltcG9ydCBzeXMKaW1wb3J0IG9zLnBhdGgKaW1wb3J0IGpzb24KaW1wb3J0IHJlCmZyb20gbGVhcHV0aWxzIGltcG9ydCBEQUcKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKCgphcmd1bWVudHMgPSBzeXMuYXJndgphcmdzRGljdCA9IHt9CmZvciBhcmcgaW4gYXJndW1lbnRzOgogICAgdHJ5OgogICAgICAgIGFyZ3NEaWN0W2FyZy5zcGxpdCgnOicpWzBdXSA9ICgnOicpLmpvaW4oYXJnLnNwbGl0KCc6JylbMTpdKQogICAgZXhjZXB0OgogICAgICAgIGEgPSAnZXJyb3InCgpqc29uX2ZpbGUgPSBvcy5wYXRoLmpvaW4oYXJnc0RpY3RbJ3NjcmlwdFBhdGgnXSwgJ3BpcGVsaW5lLmpzb24nKQp3aXRoIG9wZW4oanNvbl9maWxlKSBhcyBmOgogICAgaW1wb3J0IGpzb24KCiAgICBwaXBlbGluZV9qc29uID0ganNvbi5sb2FkKGYpCgojIGJhc2Ugc2NyaXB0IApkZWYgYmFzZVNjcmlwdCgpOgogICAgcmV0dXJuICcnJwppbXBvcnQgc3lzCmltcG9ydCBzdWJwcm9jZXNzCgpyZXF1aXJlbWVudHMgPSBbe3JlcXVpcmVtZW50c31dCmZvciBtb2R1bGUgaW4gcmVxdWlyZW1lbnRzOgogICAgc3VicHJvY2Vzcy5jaGVja19jYWxsKFtzeXMuZXhlY3V0YWJsZSwgJy1tJywgJ3BpcCcsICdpbnN0YWxsJywgbW9kdWxlXSkKaW1wb3J0IGxvZ2dpbmcKaW1wb3J0IG9zCntpbXBvcnRzfQoKe2Z1bmN0aW9uc30KCmRlZiBleGVjdXRlUGlwZWxpbmUoKToKe2V4ZWN1dGlvbk9yZGVyfQpsb2dnaW5nLmluZm8oJ0NvbXBsZXRlZCcpCgoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIGV4ZWN1dGVQaXBlbGluZSgpCiAgICBwcmludCgnQ29tcGxldGVkJykKJycnCgoKIyBmaWxsIGFsbCBqb2IgcGFyYW1zIGluIHBpcGVsaW5lSnNvbgpkZWYgZmlsbEpvYlBhcmFtcyhwaXBlbGluZUpzb24pOgoKICAgIG9yZ2FuaXphdGlvbiA9IHBpcGVsaW5lSnNvbi5nZXQoJ29yZycsICdJTkZPU1lTJykKCiAgICAjIFNldCBhbGwgSm9iIFBhcmFtcwogICAgam9iUGFyYW1zID0ge30KICAgIGpvYlBhcmFtc1snTmV4dEV4ZWN1dGlvblRpbWUnXSA9IHBpcGVsaW5lSnNvbi5nZXQoJ05leHRfRXhlY3V0aW9uX1RpbWUnLCAnJykKICAgIGpvYlBhcmFtc1snQ3VycmVudEV4ZWN1dGlvblRpbWUnXSA9IHBpcGVsaW5lSnNvbi5nZXQoJ0N1cnJlbnRfRXhlY3V0aW9uX1RpbWUnLCAnJykKICAgIGpvYlBhcmFtc1snTGFzdFN1Y2Nlc3NmdWxFeGVjdXRpb25UaW1lJ10gPSBwaXBlbGluZUpzb24uZ2V0KCdMYXN0X1N1Y2Nlc3NmdWxfRXhlY3V0aW9uX1RpbWUnLCAnJykKICAgIGpvYlBhcmFtc1snTGFzdEV4ZWN1dGlvblRpbWUnXSA9IHBpcGVsaW5lSnNvbi5nZXQoJ0xhc3RfRXhlY3V0aW9uX1RpbWUnLCAnJykKCiAgICByZWdFeCA9ICc8am9iUGFyYW1zOihbXHdcLi1dKyk7KC4qPyk+JwogICAgcGlwZWxpbmVKc29uTGlzdCA9IFtdCgogICAgZm9yIGl0ZW0gaW4gcGlwZWxpbmVKc29uWydlbGVtZW50cyddOgogICAgICAgIGl0ZW1UZXh0ID0ganNvbi5kdW1wcyhpdGVtKQogICAgICAgICMgcmVwbGFjZSBPcmcKICAgICAgICBpdGVtVGV4dCA9IGl0ZW1UZXh0LnJlcGxhY2UoJzxqb2JQYXJhbXM6b3JnTmFtZT4nLCBvcmdhbml6YXRpb24pCiAgICAgICAgIyByZXBsYWNlIHRpbWVzdGFtcHMKICAgICAgICBwYXJhbXMgPSByZS5maW5kYWxsKHJlZ0V4LCBpdGVtVGV4dCkKICAgICAgICBmb3IgcCBpbiBwYXJhbXM6CiAgICAgICAgICAgIHRleHRUb3JlcGxhY2UgPSAnPGpvYlBhcmFtczp7MH07ezF9PicuZm9ybWF0KHBbMF0sIHBbMV0pCiAgICAgICAgICAgIGlmIGpvYlBhcmFtc1twWzBdXSAhPSAnJyBhbmQgam9iUGFyYW1zW3BbMF1dICE9IC0xOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIGR0ID0gZGF0ZXRpbWUuc3RycHRpbWUoam9iUGFyYW1zW3BbMF1dLCAnJWEsICVkICViICVZICVIOiVNOiVTJykKICAgICAgICAgICAgICAgICAgICByZXBsYWNlV2l0aCA9IGRhdGV0aW1lLnN0cmZ0aW1lKGR0LCBwWzFdKQogICAgICAgICAgICAgICAgICAgIGl0ZW1UZXh0ID0gaXRlbVRleHQucmVwbGFjZSh0ZXh0VG9yZXBsYWNlLCByZXBsYWNlV2l0aCkKICAgICAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgICAgICBhID0gMQogICAgICAgIHBpcGVsaW5lSnNvbkxpc3QuYXBwZW5kKGpzb24ubG9hZHMoaXRlbVRleHQpKQogICAgcmV0dXJuIHBpcGVsaW5lSnNvbkxpc3QKCgojIEJ1aWxkIERBRyBvZiBhbGwgdGhlIG5vZGVzCiMgUmV0dXJucyB0aGUgbGlzdCBvZiBlbGVtZW50cyBpbiBvcmRlcgpkZWYgYnVpbGREQUcocGlwZWxpbmVKc29uTGlzdCk6CiAgICBvcmRlcmVkRWxlbWVudExpc3QgPSBEQUcuYnVpbGQocGlwZWxpbmVKc29uTGlzdCk7CiAgICBvcmRlcmVkRWxlbWVudExpc3QgPSBsaXN0KGZpbHRlcihOb25lLCBvcmRlcmVkRWxlbWVudExpc3QpKQogICAgcmV0dXJuIG9yZGVyZWRFbGVtZW50TGlzdAoKCiMgZmlsbCBub2RlIGF0dHJpYnV0ZXMgd2l0aCBBY3R1YWwgRGF0YQpkZWYgZmlsbERhdGEobm9kZSwgc2NyaXB0KToKICAgIGF0dHJpYnV0ZXMgPSByZS5maW5kYWxsKCdcPCguKj8pXD4nLCBzY3JpcHQpCiAgICBwcmludChub2RlLmF0dHJpYnV0ZXMpCiAgICBmb3IgaXRlbSBpbiBhdHRyaWJ1dGVzOgoKICAgICAgICBpbnB1dF9zcGxpdCA9IGl0ZW0uc3BsaXQoJy4nKQogICAgICAgIGtleXMgPSAnJy5qb2luKFtmJycnWyd7a30nXScnJyBmb3IgayBpbiBpbnB1dF9zcGxpdF0pCiAgICAgICAgCiAgICAgICAgdHJ5OgogICAgICAgICAgICAKICAgICAgICAgICAgdmFsdWUgPSBldmFsKGYnJydub2RlLmF0dHJpYnV0ZXMnJycgKyBmJycne2tleXN9JycnKQogICAgICAgICAgICAKICAgICAgICAgICAgc2NyaXB0ID0gc2NyaXB0LnJlcGxhY2UoJzwnICsgaXRlbSArICc+Jywgc3RyKHZhbHVlKSkKICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcHJpbnQoJ2luIEV4Y2VwdCcpCiAgICAgICAgICAgIHByaW50KGl0ZW0pCiAgICAgICAgICAgIHNjcmlwdCA9IHNjcmlwdC5yZXBsYWNlKCc8JyArIGl0ZW0gKyAnPicsICcnKQoKICAgIHJldHVybiBzY3JpcHQKCgoKZGVmIGdlbmVyYXRlU2NyaXB0KHBpcGVsaW5lSnNvbik6CgogICAgcGlwZWxpbmVFbGVtZW50cyA9IGZpbGxKb2JQYXJhbXMocGlwZWxpbmVKc29uKQogICAgb3JkZXJlZEVsZW1lbnRMaXN0ID0gYnVpbGREQUcocGlwZWxpbmVFbGVtZW50cykKICAgIHJlcXVpcmVtZW50cyA9IFtdCiAgICBpbXBvcnRfbGluZXMgPSBbXQogICAgZnVuY3Rpb25zID0gW10KCgogICAgZm9yIG5vZGUgaW4gb3JkZXJlZEVsZW1lbnRMaXN0OgogICAgICAgICMgRXh0cmFjdG9ycwogICAgICAgIGVsZW1lbnQgPSBuZXh0KGUgZm9yIGUgaW4gcGlwZWxpbmVKc29uWydlbGVtZW50cyddIGlmIGVbJ2lkJ10gPT0gbm9kZS5pZCkKCiAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgPT0gJ0RhdGFzZXRFeHRyYWN0b3JDb25maWcnOgogICAgICAgICAgICBleHRyYWN0b3JTY3JpcHQgPSBcCiAgICAgICAgICAgICAgICBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddW25vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydkYXRhc291cmNlJ11bJ3R5cGUnXV1bJ3NjcmlwdCddCiAgICAgICAgICAgIGV4dHJhY3RvclNjcmlwdCA9IGV4dHJhY3RvclNjcmlwdC5yZXBsYWNlKCc8aWQ+Jywgbm9kZS5pZCkKCiAgICAgICAgICAgIGlmIGlzaW5zdGFuY2Uobm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2F0dHJpYnV0ZXMnXSwgc3RyKToKICAgICAgICAgICAgICAgIG5vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydhdHRyaWJ1dGVzJ10gPSBqc29uLmxvYWRzKG5vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydhdHRyaWJ1dGVzJ10pCiAgICAgICAgICAgIG5vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydkYXRhc291cmNlJ11bJ2Nvbm5lY3Rpb25EZXRhaWxzJ10gPSBqc29uLmxvYWRzKAogICAgICAgICAgICAgICAgbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsnY29ubmVjdGlvbkRldGFpbHMnXSkKICAgICAgICAgICAgZXh0cmFjdG9yU2NyaXB0ID0gZmlsbERhdGEobm9kZSwgZXh0cmFjdG9yU2NyaXB0KQogICAgICAgICAgICBmdW5jdGlvbnMuYXBwZW5kKGV4dHJhY3RvclNjcmlwdCkKICAgICAgICAgICAgaW1wb3J0X2xpbmVzID0gaW1wb3J0X2xpbmVzICsgXAogICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddW25vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydkYXRhc291cmNlJ11bJ3R5cGUnXV1bJ2ltcG9ydHMnXQogICAgICAgICAgICByZXF1aXJlbWVudHMgPSByZXF1aXJlbWVudHMgKyBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddXS5nZXQoJ3JlcXVpcmVtZW50cycsW10pCgogICAgICAgICAgICAKICAgICAgICAjIFByZS1wcm9jZXNzaW5nIFNjcmlwdAogICAgICAgIGVsaWYgbm9kZS5jbGFzc05hbWUgPT0gJ1NjcmlwdFRyYW5zZm9ybWVyQ29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUHJlUHJvY2Vzc2luZ1NjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1Bvc3RQcm9jZXNzaW5nU2NyaXB0Q29uZmlnJzoKICAgICAgICAgICAgcHJvY2Vzc2luZ1NjcmlwdCA9ICcnCiAgICAgICAgICAgIHByb2Nlc3NpbmdTY3JpcHQgPSAoJycpLmpvaW4obm9kZS5hdHRyaWJ1dGVzWydzY3JpcHQnXSkKICAgICAgICAgICAKICAgICAgICAgICAgcHJvY2Vzc2luZ1NjcmlwdCA9IHByb2Nlc3NpbmdTY3JpcHQucmVwbGFjZSgnXHInLCAnXG4nKQogICAgICAgICAgICBwcm9jZXNzaW5nU2NyaXB0ID0gcHJvY2Vzc2luZ1NjcmlwdC5yZXBsYWNlKCc8aWQ+Jywgbm9kZS5pZCkKICAgICAgICAgICAgZnVuY3Rpb25zLmFwcGVuZChwcm9jZXNzaW5nU2NyaXB0KQogICAgICAgICAgICByZXF1aXJlbWVudHMgPSByZXF1aXJlbWVudHMgKyBub2RlLmF0dHJpYnV0ZXNbJ3JlcXVpcmVtZW50cyddLnNwbGl0KCcsJykKICAgICAgICAKCiAgICAgICAgIyBMb2FkZXJzCiAgICAgICAgZWxpZiBub2RlLmNsYXNzTmFtZSA9PSAnRGF0YXNldExvYWRlckNvbmZpZyc6CgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBsb2FkZXJzY3JpcHQgPSBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddW25vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydkYXRhc291cmNlJ11bJ3R5cGUnXV1bJ3NjcmlwdCddCiAgICAgICAgICAgICAgICByZXF1aXJlbWVudHMgPSByZXF1aXJlbWVudHMgKyBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddW25vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydkYXRhc291cmNlJ11bJ3R5cGUnXV0uZ2V0KCdyZXF1aXJlbWVudHMnLFtdKQoKICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgbG9hZGVyc2NyaXB0ID0gZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVsnc2NyaXB0J10KICAgICAgICAgICAgICAgIHJlcXVpcmVtZW50cyA9IHJlcXVpcmVtZW50cyArIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ10uZ2V0KCdyZXF1aXJlbWVudHMnLCcnKQogICAgICAgICAgICBsb2FkZXJzY3JpcHQgPSBsb2FkZXJzY3JpcHQucmVwbGFjZSgnPGlkPicsIG5vZGUuaWQpCiAgICAgICAgICAgIGlmIG5vZGUuYXR0cmlidXRlcy5nZXQoJ2RhdGFzZXQnLCAnJykgIT0gJycgYW5kIGlzaW5zdGFuY2Uobm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2F0dHJpYnV0ZXMnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIpOgogICAgICAgICAgICAgICAgbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2F0dHJpYnV0ZXMnXSA9IGpzb24ubG9hZHMobm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2F0dHJpYnV0ZXMnXSkKICAgICAgICAgICAgaWYgbm9kZS5hdHRyaWJ1dGVzLmdldCgnZGF0YXNldCcsICcnKSAhPSAnJyBhbmQgaXNpbnN0YW5jZShub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWydjb25uZWN0aW9uRGV0YWlscyddICwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIpOgogICAgICAgICAgICAgICAgbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsnY29ubmVjdGlvbkRldGFpbHMnXSA9IGpzb24ubG9hZHMoCiAgICAgICAgICAgICAgICAgICAgbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsnY29ubmVjdGlvbkRldGFpbHMnXSkKICAgICAgICAgICAgcHJpbnQobm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsnY29ubmVjdGlvbkRldGFpbHMnXSkKICAgICAgICAgICAgbG9hZGVyc2NyaXB0ID0gZmlsbERhdGEobm9kZSwgbG9hZGVyc2NyaXB0KQogICAgICAgICAgICBmdW5jdGlvbnMuYXBwZW5kKGxvYWRlcnNjcmlwdCkKCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGltcG9ydF9saW5lcyA9IGltcG9ydF9saW5lcyArIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddXVsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaW1wb3J0cyddCgogICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICBpbXBvcnRfbGluZXMgPSBpbXBvcnRfbGluZXMgKyBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddWydpbXBvcnRzJ10KICAgICAgICAKICAgICAgICAjIFRyYW5zZm9ybWVycwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIAogICAgICAgICAgICB0cmFuc2Zvcm1lclNjcmlwdCA9IGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bJ3NjcmlwdCddCiAgICAgICAgICAgIG5vZGVuYW1lID0gJycuam9pbihub2RlLm5hbWUuc3BsaXQoJyAnKSkKCiAgICAgICAgICAgIHRyYW5zZm9ybWVyU2NyaXB0ID0gdHJhbnNmb3JtZXJTY3JpcHQucmVwbGFjZSgnPGlkPicsIG5vZGUuaWQpCiAgICAgICAgICAgIHRyYW5zZm9ybWVyU2NyaXB0ID0gZmlsbERhdGEobm9kZSwgdHJhbnNmb3JtZXJTY3JpcHQpCiAgICAgICAgICAgIGZ1bmN0aW9ucy5hcHBlbmQodHJhbnNmb3JtZXJTY3JpcHQpCiAgICAgICAgICAgIGltcG9ydF9saW5lcyA9IGltcG9ydF9saW5lcyArIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bJ2ltcG9ydHMnXQogICAgICAgICAgICBpZiBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddLmdldCgncmVxdWlyZW1lbnRzJywgJycpICE9ICcnOgogICAgICAgICAgICAgICAgcmVxdWlyZW1lbnRzID0gcmVxdWlyZW1lbnRzICsgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXS5nZXQoJ3JlcXVpcmVtZW50cycsIFtdKQogICAgICAgICAgICAKCgogICAgaW1wb3J0X2xpbmVzID0gW2wgZm9yIGwgaW4gc2V0KGltcG9ydF9saW5lcykgaWYgbCAhPSAnJ10KICAgIHJlcXVpcmVtZW50cyA9IFtsIGZvciBsIGluIHNldChyZXF1aXJlbWVudHMpIGlmIGwgIT0gJyddCiAgICBwaXBlbGluZUNvZGUgPSBiYXNlU2NyaXB0KCkKICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7aW1wb3J0c30nLCAoJ1xuJykuam9pbihpbXBvcnRfbGluZXMpKQogICAgaWYgbGVuKHJlcXVpcmVtZW50cyk+MDoKICAgICAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne3JlcXVpcmVtZW50c30nLCAnXCcnKyAoJ1wnLFwnJykuam9pbihyZXF1aXJlbWVudHMpKydcJycpCiAgICBlbHNlOgogICAgICAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne3JlcXVpcmVtZW50c30nLCAnJykKICAgICAgICAKICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7cGlwZWxpbmVOYW1lfScsIGFyZ3NEaWN0WydwaXBlbGluZU5hbWUnXSkKICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7ZnVuY3Rpb25zfScsICgnXHInKS5qb2luKGZ1bmN0aW9ucykpCiAgICBleGVjdXRpb25PcmRlciA9ICdcbicKCiAgICBmb3Igbm9kZSBpbiBvcmRlcmVkRWxlbWVudExpc3Q6CiAgICAgICAgaW5wdXRzID0gW10KICAgICAgICBvdXRwdXRzID0gW10KICAgICAgICBub2RlbmFtZSA9ICcnLmpvaW4obm9kZS5uYW1lLnNwbGl0KCcgJykpCiAgICAgICAgbm9kZWlkID0gbm9kZS5pZAoKICAgICAgICBmb3IgY29ubmVjdG9yIGluIG5vZGUuY29ubmVjdG9yczoKCiAgICAgICAgICAgIGlmIChjb25uZWN0b3JbJ3R5cGUnXSA9PSAndGFyZ2V0Jyk6CiAgICAgICAgICAgICAgICBpbnB1dHMuYXBwZW5kKCdkc18nICsgY29ubmVjdG9yWydwb3NpdGlvbiddICsgJ18nICsgbm9kZWlkKQogICAgICAgICAgICBpZiAoY29ubmVjdG9yWyd0eXBlJ10gPT0gJ3NvdXJjZScpOgogICAgICAgICAgICAgICAgb3V0cHV0cy5hcHBlbmQoJ2RzXycgKyBjb25uZWN0b3JbJ2VsZW1lbnRQb3NpdGlvbiddICsgJ18nICsgY29ubmVjdG9yWydlbGVtZW50SWQnXSkKICAgICAgICBpZiBsZW4ob3V0cHV0cykgPiAwOgogICAgICAgICAgICBjYWxsID0gJyAgICAnICsgJywnLmpvaW4ob3V0cHV0cykgKyAnID0gJyArIG5vZGVuYW1lICsgJ18nICsgbm9kZWlkICsgJygnICsgJywnLmpvaW4oaW5wdXRzKSArICcpXG4nCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY2FsbCA9ICcgICAgJyArIG5vZGVuYW1lICsgJ18nICsgbm9kZWlkICsgJygnICsgJywnLmpvaW4oaW5wdXRzKSArICcpXG4nCiAgICAgICAgZXhlY3V0aW9uT3JkZXIgPSBleGVjdXRpb25PcmRlciArIGNhbGwKICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7ZXhlY3V0aW9uT3JkZXJ9JywgZXhlY3V0aW9uT3JkZXIpCiAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgnXHInLCAnXG4nKQogICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihhcmdzRGljdFsnc2NyaXB0UGF0aCddLCBhcmdzRGljdFsncGlwZWxpbmVOYW1lJ10gKyAnX2dlbmVyYXRlZENvZGUucHknKSwgJ3cnKSBhcyBmOgogICAgICAgIGYud3JpdGVsaW5lcyhwaXBlbGluZUNvZGUpCgoKZ2VuZXJhdGVTY3JpcHQocGlwZWxpbmVfanNvbikKCnByaW50KCdDb21wbGV0ZWQnKQoKCgoKCgoKCgo=","leo1311"
