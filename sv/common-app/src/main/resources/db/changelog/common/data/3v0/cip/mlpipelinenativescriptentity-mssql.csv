"cname","filename","filescript","organization"
"ACMKYPHR40814","ACMKYPHR40814_leo1311.py","aW1wb3J0IHB5b2RiYwppbXBvcnQgbG9nZ2luZwppbXBvcnQgc3lzCmZyb20gdXJsbGliLnBhcnNlIGltcG9ydCBxdW90ZV9wbHVzLCB1cmxwYXJzZQpmcm9tIGxlYXAudXRpbHMuVXRpbGl0aWVzIGltcG9ydCBVdGlsaXRpZXMKZnJvbSBza2xlYXJuLmZlYXR1cmVfZXh0cmFjdGlvbi50ZXh0IGltcG9ydCBUZmlkZlZlY3Rvcml6ZXIKaW1wb3J0IG51bXB5IGFzIG5wCmltcG9ydCB0aW1laXQKaW1wb3J0IGpzb24KaW1wb3J0IHJlCgpsb2dnaW5nLmJhc2ljQ29uZmlnKGxldmVsPWxvZ2dpbmcuSU5GTywgZm9ybWF0PSclKGFzY3RpbWUpcyBJTkZPICUobWVzc2FnZSlzJywgZGF0ZWZtdD0nJXkvJW0vJWQgJUg6JU06JVMnKQoKYXJndW1lbnRzID0gc3lzLmFyZ3YKCmRpY3QgPSB7fQpmb3IgYXJnIGluIGFyZ3VtZW50czoKICAgIHRyeToKICAgICAgICBkaWN0W2FyZy5zcGxpdCgnOicpWzBdXSA9ICgnOicpLmpvaW4oYXJnLnNwbGl0KCc6JylbMTpdKQogICAgZXhjZXB0OgogICAgICAgIGEgPSAnZXJyb3InCgoKZGVmIGdldFNpbWlsYXIoc2VudGVuY2VzLCBrZXl3b3Jkcyk6CiAgICBjb3JwdXMgPSBzZW50ZW5jZXMgKyBrZXl3b3JkcwogICAga2V5d29yZHN0YXJ0SW5kZXggPSBsZW4oc2VudGVuY2VzKQogICAgdGZpZGZDb3JwdXMgPSBUZmlkZlZlY3Rvcml6ZXIobWluX2RmPTEsIHN0b3Bfd29yZHM9J2VuZ2xpc2gnKS5maXRfdHJhbnNmb3JtKGNvcnB1cykKICAgIHBhaXJ3aXNlX3NpbWlsYXJpdHkgPSB0ZmlkZkNvcnB1cyAqIHRmaWRmQ29ycHVzLlQKICAgIGFyciA9IHBhaXJ3aXNlX3NpbWlsYXJpdHkudG9hcnJheSgpCiAgICBucC5maWxsX2RpYWdvbmFsKGFyciwgbnAubmFuKQogICAgcmVzdWx0cyA9IHt9CiAgICBmb3IgcyBpbiBzZW50ZW5jZXM6CiAgICAgICAgaW5wdXRfaWR4ID0gc2VudGVuY2VzLmluZGV4KHMpCiAgICAgICAgcmVzdWx0X2lkeCA9IG5wLm5hbmFyZ21heChhcnJbaW5wdXRfaWR4XVtrZXl3b3Jkc3RhcnRJbmRleDpdKQogICAgICAgIG1hdGNoID0gYXJyW2lucHV0X2lkeF1ba2V5d29yZHN0YXJ0SW5kZXggKyByZXN1bHRfaWR4XQogICAgICAgIHIgPSBrZXl3b3Jkc1tyZXN1bHRfaWR4XQogICAgICAgIGlmIG1hdGNoID4gMDoKICAgICAgICAgICAgcmVzdWx0c1tzXSA9IHIgKyAnOicgKyBzdHIobWF0Y2gpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmVzdWx0c1tzXSA9ICdOTyBNQVRDSDowJwogICAgcmV0dXJuIHJlc3VsdHMKCgpsZWFwZHMgPSBkaWN0WydMRUFQRFMnXQpsZWFwRFNkaWN0ID0ganNvbi5sb2FkcyhsZWFwZHMpCgp1c2VybmFtZSA9IGxlYXBEU2RpY3RbJ3VzZXJOYW1lJ10KcGFzc3dvcmQgPSBVdGlsaXRpZXMuZGVjcnlwdChsZWFwRFNkaWN0WydwYXNzd29yZCddLGxlYXBEU2RpY3RbJ3NhbHQnXSkKc2VydmVyID0gdXJscGFyc2UobGVhcERTZGljdFsndXJsJ11bNTpdKS5uZXRsb2Muc3BsaXQoJzsnLCAxKVswXQpyZWdleCA9ICdeKCgyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldP1swLTldKVwuKXszfSgyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldP1swLTldKSQnCgppZihyZS5zZWFyY2gocmVnZXgsIHNlcnZlci5zcGxpdCgnOicpWzBdKSk6CiAgICBzZXJ2ZXI9c2VydmVyLnJlcGxhY2UoJzonLCcsJykKCmRhdGFiYXNlID0gdXJscGFyc2UobGVhcERTZGljdFsndXJsJ11bNTpdKS5uZXRsb2Muc3BsaXQoJzsnLCAxKVsxXS5zcGxpdCgnPScsMSlbMV0KY29ubmVjdGlvblN0cmluZyA9ICdEUklWRVI9ezB9O1NFUlZFUj17MX07ICcgXAogICAgICAgICAgICAgICAgICAgICAgICAgICAnREFUQUJBU0U9ezJ9O1VJRD17M307UFdEPXs0fScuZm9ybWF0KAogICAgICAgICAgICAnT0RCQyBEcml2ZXIgMTcgZm9yIFNRTCBTRVJWRVInLCBzZXJ2ZXIsIGRhdGFiYXNlLCB1c2VybmFtZSwgcGFzc3dvcmQpCmNueCA9IHB5b2RiYy5jb25uZWN0KGNvbm5lY3Rpb25TdHJpbmcpCm15Y3Vyc29yID0gY254LmN1cnNvcigpClRhYmxlTmFtZSA9IGRpY3RbJ1RhYmxlTmFtZSddCkVBU0VNYXBwaW5nID0gZGljdFsnRWFzZU1hcHBpbmcnXQpzcWwgPSAnJydTRUxFQ1QgRElTVElOQ1QgVFJJTShDQVNUKGV4dHJhY3RlZF9waHJhc2UgQVMgQ0hBUikpIEFTIGV4dHJhY3RlZF9waHJhc2UgZnJvbSB7MH0gd2hlcmUgZXh0cmFjdGVkX3BocmFzZSBpcyBub3QgbnVsbCBhbmQgQ0FTVChleHRyYWN0ZWRfcGhyYXNlIGFzIGNoYXIpIDw+ICcnICAnJycuZm9ybWF0KFRhYmxlTmFtZSkKbXljdXJzb3IuZXhlY3V0ZShzcWwpCnJlc3VsdHMgPSBteWN1cnNvci5mZXRjaGFsbCgpCm15Y3Vyc29yLmNsb3NlKCkKcGhyYXNlcyA9IFtdCmZvciBpdGVtIGluIHJlc3VsdHM6CiAgICBwaHJhc2VzLmFwcGVuZChpdGVtWzBdKQoKbXljdXJzb3IyID0gY254LmN1cnNvcigpCnNxbCA9ICcnJ1NFTEVDVCBESVNUSU5DVCBLZXlfV29yZCBmcm9tIHswfScnJy5mb3JtYXQoRUFTRU1hcHBpbmcpCm15Y3Vyc29yMi5leGVjdXRlKHNxbCkKcmVzdWx0cyA9IG15Y3Vyc29yMi5mZXRjaGFsbCgpCmtleXdvcmRzID0gW10KZm9yIGl0ZW0gaW4gcmVzdWx0czoKICAgIGtleXdvcmRzLmFwcGVuZChpdGVtWzBdKQpteWN1cnNvcjIuY2xvc2UoKQoKY254LmNsb3NlKCkKCgpkZWYgZ2V0RUFTRSh0dXApOgogICAgdHJ5OgogICAgICAgIHJlc3VsdHMgPSBnZXRTaW1pbGFyKHR1cFswXSwgdHVwWzFdKQogICAgICAgIFRhYmxlTmFtZSA9IGRpY3RbJ1RhYmxlTmFtZSddCiAgICAgICAgcXVlcnkgPSAnJydVcGRhdGUgezB9IHNldCBtYXBwZWRfcGhyYXNlID0gPyAsIG1hcHBlZF9waHJhc2VfY29uZmlkZW5uY2UgPSA/ICB3aGVyZSBUUklNKENBU1QoZXh0cmFjdGVkX3BocmFzZSBBUyBDSEFSKSkgPSA/ICcnJy5mb3JtYXQoVGFibGVOYW1lKQogICAgICAgIGlucHV0ZGF0YSA9IFtdCiAgICAgICAgZm9yIHBhdHRlcm4gaW4gcmVzdWx0cy5rZXlzKCk6CiAgICAgICAgICAgIGt3ID0gcmVzdWx0c1twYXR0ZXJuXS5zcGxpdCgnOicpWzBdCiAgICAgICAgICAgIHNjb3JlID0gcmVzdWx0c1twYXR0ZXJuXS5zcGxpdCgnOicpWy0xXQogICAgICAgICAgICBpZiBrdyAhPSAnTk8gTUFUQ0gnOgogICAgICAgICAgICAgICAgaW5wdXRkYXRhLmFwcGVuZCgoa3csIHNjb3JlLCBwYXR0ZXJuKSkKICAgICAgICAKICAgICAgICBjb25uZWN0aW9uU3RyaW5nID0gJ0RSSVZFUj17MH07U0VSVkVSPXsxfTsgJyBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICdEQVRBQkFTRT17Mn07VUlEPXszfTtQV0Q9ezR9Jy5mb3JtYXQoCiAgICAgICAgICAgICdPREJDIERyaXZlciAxNyBmb3IgU1FMIFNFUlZFUicsIHR1cFs0XSwgdHVwWzVdLCB0dXBbMl0sIHR1cFszXSkKICAgICAgICBjbnggPSBweW9kYmMuY29ubmVjdChjb25uZWN0aW9uU3RyaW5nLCBhdXRvY29tbWl0PVRydWUpCiAgICAgICAgbXljdXJzb3IgPSBjbnguY3Vyc29yKCkKICAgICAgICByZXMgPSBteWN1cnNvci5leGVjdXRlbWFueShxdWVyeSwgaW5wdXRkYXRhKQogICAgICAgIGNueC5jb21taXQoKQogICAgICAgIG15Y3Vyc29yLmNsb3NlKCkKICAgICAgICBjbnguY2xvc2UoKQogICAgICAgIHJldHVybiBUcnVlCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIGxvZ2dpbmcud2FybmluZyhleCkKICAgICAgICByZXR1cm4gRmFsc2UKCgpmcm9tIG11bHRpcHJvY2Vzc2luZy5kdW1teSBpbXBvcnQgUG9vbCBhcyBUaHJlYWRQb29sCgphdXhfdmFsID0gW10KdG90YWxsZW4gPSBsZW4ocGhyYXNlcykKbG9nZ2luZy5pbmZvKCdUb3RhbCBSZWNvcmRzOiB7MH0nLmZvcm1hdCh0b3RhbGxlbikpCnN0YXJ0ID0gMApzdGVwID0gMTAwMApmb3IgaSBpbiByYW5nZShzdGFydCwgdG90YWxsZW4sIHN0ZXApOgogICAgc3RvcCA9IGkgKyBzdGVwCiAgICBpZiAoc3RvcCA+IHRvdGFsbGVuKToKICAgICAgICBzdG9wID0gdG90YWxsZW4KICAgIHRyeToKICAgICAgICBhdXhfdmFsLmFwcGVuZCgocGhyYXNlc1tpOnN0b3BdLCBrZXl3b3JkcywgdXNlcm5hbWUsIHBhc3N3b3JkLCBzZXJ2ZXIsIGRhdGFiYXNlKSkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBsb2dnaW5nLmluZm8oZSkKCnBvb2wgPSBUaHJlYWRQb29sKDQpCmxvZ2dpbmcuaW5mbyhsZW4oYXV4X3ZhbCkpCmxvZ2dpbmcuaW5mbygnU3RhcnRpbmcgUHJvY2VzcycpCgptYXBkYXRhID0gcG9vbC5tYXAoZ2V0RUFTRSwgYXV4X3ZhbCkKCmxvZ2dpbmcuaW5mbygnQ29tcGxldGVkJykKCgoKCgoKCgo=","leo1311"
"DEMCDGNR69853","DEMCDGNR69853_leo1311.py","aW1wb3J0IHN5cwppbXBvcnQgb3MucGF0aAppbXBvcnQganNvbgppbXBvcnQgcmUKZnJvbSBsZWFwdXRpbHMgaW1wb3J0IERBRwoKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKCmFyZ3VtZW50cyA9IHN5cy5hcmd2CmRpY3QgPSB7fQpmb3IgYXJnIGluIGFyZ3VtZW50czoKICAgIHRyeToKICAgICAgICBkaWN0W2FyZy5zcGxpdCgnOicpWzBdXSA9ICgnOicpLmpvaW4oYXJnLnNwbGl0KCc6JylbMTpdKQogICAgZXhjZXB0OgogICAgICAgIGEgPSAnZXJyb3InCgoKIyBiYXNlIHNjcmlwdCBmb3IgU3BhcmsKZGVmIGJhc2VTY3JpcHQoKToKICAgIHJldHVybiAnJydmcm9tIHB5c3BhcmsubWwgaW1wb3J0IFBpcGVsaW5lCmZyb20gcHlzcGFyay5zcWwgaW1wb3J0IFNwYXJrU2Vzc2lvbgppbXBvcnQgbG9nZ2luZwpmcm9tIHB5c3BhcmsubWwuZmVhdHVyZSBpbXBvcnQgKgp7aW1wb3J0c30KCmRlZiBpbml0aWF0ZVNwYXJrKCk6CiAgICBzcGFyayA9IFNwYXJrU2Vzc2lvbi5idWlsZGVyLmFwcE5hbWUoJ3twaXBlbGluZU5hbWV9JykuZ2V0T3JDcmVhdGUoKQogICAgbG9nZ2luZy5iYXNpY0NvbmZpZyhsZXZlbD1sb2dnaW5nLklORk8sIGZvcm1hdD0nJShhc2N0aW1lKXMgLSAlKG1lc3NhZ2UpcycsIGRhdGVmbXQ9JyV5LyVtLyVkICVIOiVNOiVTJykKICAgIGxvZ2dpbmcuaW5mbygnSW5pdGlhdGVkIFNwYXJrJykKICAgIHJldHVybiBzcGFyawoKZGVmIGdldERhdGEoc3BhcmspOgogICAgbG9nZ2luZy5pbmZvKCdGZXRjaGluZyBEYXRhc2V0cycpCntleHRyYWN0b3JzfQogICAgcmV0dXJuIHtpbl9kYXRhc2V0c30Ke3ByZXByb2Nlc3NpbmdTY3JpcHR9CmRlZiBwaXBlbGluZShzcGFyaywgZGF0YXNldCk6CiAgICBsb2dnaW5nLmluZm8oJ0V4ZWN1dGluZyBQaXBlbGluZScpCiAgICBzcGxpdHMgPSBkYXRhc2V0LnJhbmRvbVNwbGl0KFswLjcsIDAuM10pCiAgICB0cmFpbmRzID0gc3BsaXRzWzBdCiAgICB0ZXN0ZHMgPSBzcGxpdHNbMV0KICAgIHBpcGVsaW5lU3RhZ2VzID0gW10Ke21vZGVsU291cmNlfQp7dHJhbnNmb3JtZXJzfQp7ZG9tYWluU29sdXRpb259CiAgICBwaXBlbGluZSA9IFBpcGVsaW5lKHN0YWdlcz1waXBlbGluZVN0YWdlcytbe3BpcGVsaW5lc3RhZ2VzfV0pCiAgICBtb2RlbCA9IHBpcGVsaW5lLmZpdCh0cmFpbmRzKQogICAge21vZGVsU2lua30KICAgIHJlc3VsdCA9IG1vZGVsLnRyYW5zZm9ybSh0ZXN0ZHMpCiAgICByZXR1cm4gbW9kZWwsIHJlc3VsdAp7cG9zdHByb2Nlc3NpbmdTY3JpcHR9Cntsb2FkZXJzfQoKZGVmIGV4ZWN1dGVQaXBlbGluZSgpOgogICAgc3BhcmsgPSBpbml0aWF0ZVNwYXJrKCkKICAgIHtpbl9kYXRhc2V0c309IGdldERhdGEoc3BhcmspCiAgICB7bWFpbl9wcmVwcm9jZXNzaW5nfQogICAgbW9kZWwsIHJlc3VsdCA9IHBpcGVsaW5lKHNwYXJrLCBkYXRhc2V0KQogICAge21haW5fcG9zdHByb2Nlc3Npbmd9CiAgICB7bWFpbl9sb2FkZXJzfQogICAgbG9nZ2luZy5pbmZvKCdDb21wbGV0ZWQnKQoKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBleGVjdXRlUGlwZWxpbmUoKQoKJycnCgoKIyBmaWxsIGFsbCBqb2IgcGFyYW1zIGluIHBpcGVsaW5lSnNvbgpkZWYgZmlsbEpvYlBhcmFtcyhwaXBlbGluZUpzb24pOgogICAgb3JnYW5pemF0aW9uID0gcGlwZWxpbmVKc29uLmdldCgnb3JnJywgJ0lORk9TWVMnKQoKICAgICMgU2V0IGFsbCBKb2IgUGFyYW1zCiAgICBqb2JQYXJhbXMgPSB7fQogICAgam9iUGFyYW1zWydOZXh0RXhlY3V0aW9uVGltZSddID0gcGlwZWxpbmVKc29uLmdldCgnTmV4dF9FeGVjdXRpb25fVGltZScsICcnKQogICAgam9iUGFyYW1zWydDdXJyZW50RXhlY3V0aW9uVGltZSddID0gcGlwZWxpbmVKc29uLmdldCgnQ3VycmVudF9FeGVjdXRpb25fVGltZScsICcnKQogICAgam9iUGFyYW1zWydMYXN0U3VjY2Vzc2Z1bEV4ZWN1dGlvblRpbWUnXSA9IHBpcGVsaW5lSnNvbi5nZXQoJ0xhc3RfU3VjY2Vzc2Z1bF9FeGVjdXRpb25fVGltZScsICcnKQogICAgam9iUGFyYW1zWydMYXN0RXhlY3V0aW9uVGltZSddID0gcGlwZWxpbmVKc29uLmdldCgnTGFzdF9FeGVjdXRpb25fVGltZScsICcnKQoKICAgIHJlZ0V4ID0gJzxqb2JQYXJhbXM6KFtcd1wuLV0rKTsoLio/KT4nCiAgICBwaXBlbGluZUpzb25MaXN0ID0gW10KCiAgICBmb3IgaXRlbSBpbiBwaXBlbGluZUpzb25bJ2VsZW1lbnRzJ106CiAgICAgICAgaXRlbVRleHQgPSBqc29uLmR1bXBzKGl0ZW0pCiAgICAgICAgIyByZXBsYWNlIE9yZwogICAgICAgIGl0ZW1UZXh0ID0gaXRlbVRleHQucmVwbGFjZSgnPGpvYlBhcmFtczpvcmdOYW1lPicsIG9yZ2FuaXphdGlvbikKICAgICAgICAjIHJlcGxhY2UgdGltZXN0YW1wcwogICAgICAgIHBhcmFtcyA9IHJlLmZpbmRhbGwocmVnRXgsIGl0ZW1UZXh0KQogICAgICAgIGZvciBwIGluIHBhcmFtczoKICAgICAgICAgICAgdGV4dFRvcmVwbGFjZSA9ICc8am9iUGFyYW1zOnswfTt7MX0+Jy5mb3JtYXQocFswXSwgcFsxXSkKICAgICAgICAgICAgaWYgam9iUGFyYW1zW3BbMF1dICE9ICcnIGFuZCBqb2JQYXJhbXNbcFswXV0gIT0gLTE6CiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgZHQgPSBkYXRldGltZS5zdHJwdGltZShqb2JQYXJhbXNbcFswXV0sICclYSwgJWQgJWIgJVkgJUg6JU06JVMnKQogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VXaXRoID0gZGF0ZXRpbWUuc3RyZnRpbWUoZHQsIHBbMV0pCiAgICAgICAgICAgICAgICAgICAgaXRlbVRleHQgPSBpdGVtVGV4dC5yZXBsYWNlKHRleHRUb3JlcGxhY2UsIHJlcGxhY2VXaXRoKQogICAgICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgICAgIGEgPSAxCiAgICAgICAgcGlwZWxpbmVKc29uTGlzdC5hcHBlbmQoanNvbi5sb2FkcyhpdGVtVGV4dCkpCiAgICByZXR1cm4gcGlwZWxpbmVKc29uTGlzdAoKCiMgQnVpbGQgREFHIG9mIGFsbCB0aGUgbm9kZXMKIyBSZXR1cm5zIHRoZSBsaXN0IG9mIGVsZW1lbnRzIGluIG9yZGVyCmRlZiBidWlsZERBRyhwaXBlbGluZUpzb25MaXN0KToKICAgIG9yZGVyZWRFbGVtZW50TGlzdCA9IERBRy5idWlsZChwaXBlbGluZUpzb25MaXN0KTsKICAgIG9yZGVyZWRFbGVtZW50TGlzdCA9IGxpc3QoZmlsdGVyKE5vbmUsIG9yZGVyZWRFbGVtZW50TGlzdCkpCiAgICByZXR1cm4gb3JkZXJlZEVsZW1lbnRMaXN0CgoKIyBmaWxsIG5vZGUgYXR0cmlidXRlcyB3aXRoIEFjdHVhbCBEYXRhCmRlZiBmaWxsRGF0YShub2RlLCBzY3JpcHQpOgogICAgYXR0cmlidXRlcyA9IHJlLmZpbmRhbGwoJ1w8KC4qPylcPicsIHNjcmlwdCkKICAgIGZvciBpdGVtIGluIGF0dHJpYnV0ZXM6CiAgICAgICAgaW5wdXRfc3BsaXQgPSBpdGVtLnNwbGl0KCcuJykKICAgICAgICBrZXlzID0gJycuam9pbihbZicnJ1sne2t9J10nJycgZm9yIGsgaW4gaW5wdXRfc3BsaXRdKQogICAgICAgIHRyeToKICAgICAgICAgICAgdmFsdWUgPSBldmFsKGYnJydub2RlLmF0dHJpYnV0ZXMnJycgKyBmJycne2tleXN9JycnKQogICAgICAgICAgICBzY3JpcHQgPSBzY3JpcHQucmVwbGFjZSgnPCcgKyBpdGVtICsgJz4nLCB2YWx1ZSkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGEgPSAxCiAgICByZXR1cm4gc2NyaXB0CgoKZGVmIGdlbmVyYXRlU2NyaXB0KCk6CiAgICB3aXRoIG9wZW4ob3MucGF0aC5qb2luKGRpY3RbJ3NjcmlwdFBhdGgnXSwncGlwZWxpbmUuanNvbicpKSBhcyBmOgogICAgICAgIHBpcGVsaW5lSnNvbiA9IGYucmVhZCgpCgogICAgcGlwZWxpbmVKc29uID0ganNvbi5sb2FkcyhwaXBlbGluZUpzb24pCgogICAgcGlwZWxpbmVFbGVtZW50cyA9IGZpbGxKb2JQYXJhbXMocGlwZWxpbmVKc29uKQogICAgb3JkZXJlZEVsZW1lbnRMaXN0ID0gYnVpbGREQUcocGlwZWxpbmVFbGVtZW50cykKCiAgICBpbXBvcnRfbGluZXMgPSBbXQogICAgZXh0cmFjdG9ycyA9IFtdCiAgICBpbl9kYXRhc2V0cyA9IFtdCiAgICBwcmVQcm9jZXNzaW5nU2NyaXB0ID0gJycKICAgIHRyYW5zZm9ybWVycyA9IFtdCiAgICBtb2RlbFNvdXJjZSA9ICcnCiAgICBwaXBlbGluZVN0YWdlcyA9IFtdCiAgICBtb2RlbFNpbmsgPSAnJwogICAgcG9zdFByb2Nlc3NpbmdTY3JpcHQgPSAnJwogICAgbG9hZGVycyA9IFtdCiAgICBkb21haW5Tb2x1dGlvbiA9ICcnCiAgICBvdXRfZGF0YXNldHMgPSBbXQogICAgbWFpbl9sb2FkZXJzID0gW10KICAgIG1haW5fcHJlcHJvY2Vzc2luZyA9ICcnCiAgICBtYWluX3Bvc3Rwcm9jZXNzaW5nID0gJycKCiAgICBmb3Igbm9kZSBpbiBvcmRlcmVkRWxlbWVudExpc3Q6CiAgICAgICAgIyBFeHRyYWN0b3JzCiAgICAgICAgZWxlbWVudCA9IG5leHQoZSBmb3IgZSBpbiBwaXBlbGluZUpzb25bJ2VsZW1lbnRzJ10gaWYgZVsnaWQnXSA9PSBub2RlLmlkKQogICAgICAgIGlmIG5vZGUuY2xhc3NOYW1lID09ICdEYXRhc2V0RXh0cmFjdG9yQ29uZmlnJzoKICAgICAgICAgICAgZXh0cmFjdG9yU2NyaXB0ID0gXAogICAgICAgICAgICAgICAgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVtub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWyd0eXBlJ11dWydzY3JpcHQnXQogICAgICAgICAgICBleHRyYWN0b3JTY3JpcHQgPSBleHRyYWN0b3JTY3JpcHQucmVwbGFjZSgnPGlkPicsIG5vZGUuaWQpCiAgICAgICAgICAgIG5vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydkYXRhc291cmNlJ11bJ2Nvbm5lY3Rpb25EZXRhaWxzJ10gPSBqc29uLmxvYWRzKAogICAgICAgICAgICAgICAgbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsnY29ubmVjdGlvbkRldGFpbHMnXSkKICAgICAgICAgICAgZXh0cmFjdG9yU2NyaXB0ID0gZmlsbERhdGEobm9kZSwgZXh0cmFjdG9yU2NyaXB0KQogICAgICAgICAgICBleHRyYWN0b3JzLmFwcGVuZChleHRyYWN0b3JTY3JpcHQpCiAgICAgICAgICAgIGluX2RhdGFzZXRzLmFwcGVuZCgnZGF0YXNldF97fScuZm9ybWF0KG5vZGUuaWQpKQogICAgICAgICAgICBpbXBvcnRfbGluZXMgPSBpbXBvcnRfbGluZXMgKyBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddXVsnaW1wb3J0cyddCiAgICAgICAgIyBUcmFuc2Zvcm1lcnMKICAgICAgICBpZiBub2RlLmNhdGVnb3J5ID09ICdUcmFuc2Zvcm1lckNvbmZpZyc6CiAgICAgICAgICAgIHRyYW5zZm9ybWVyU2NyaXB0ID0gZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVsnc2NyaXB0J10KICAgICAgICAgICAgdHJhbnNmb3JtZXJTY3JpcHQgPSB0cmFuc2Zvcm1lclNjcmlwdC5yZXBsYWNlKCc8aWQ+Jywgbm9kZS5pZCkKICAgICAgICAgICAgdHJhbnNmb3JtZXJTY3JpcHQgPSBmaWxsRGF0YShub2RlLCB0cmFuc2Zvcm1lclNjcmlwdCkKICAgICAgICAgICAgdHJhbnNmb3JtZXJzLmFwcGVuZCh0cmFuc2Zvcm1lclNjcmlwdCkKICAgICAgICAgICAgaW1wb3J0X2xpbmVzID0gaW1wb3J0X2xpbmVzICsgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVsnaW1wb3J0cyddCgogICAgICAgICMgTW9kZWxTaW5rCiAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgPT0gJ01vZGVsU2lua0NvbmZpZyc6CiAgICAgICAgICAgIG1vZGVsU2luayA9IGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bJ3NjcmlwdCddCiAgICAgICAgICAgIG1vZGVsU2luayA9IG1vZGVsU2luay5yZXBsYWNlKCc8aWQ+Jywgbm9kZS5pZCkKICAgICAgICAgICAgbW9kZWxTaW5rID0gZmlsbERhdGEobm9kZSwgbW9kZWxTaW5rKQogICAgICAgICAgICBpbXBvcnRfbGluZXMgPSBpbXBvcnRfbGluZXMgKyBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddWydpbXBvcnRzJ10KCiAgICAgICAgIyBBbmFseXplcgogICAgICAgIGlmIG5vZGUuY2F0ZWdvcnkgPT0gJ0FuYWx5emVyQ29uZmlnJzoKICAgICAgICAgICAgYW5hbHl6ZXJTY3JpcHQgPSBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddWydzY3JpcHQnXQogICAgICAgICAgICBhbmFseXplclNjcmlwdCA9IGFuYWx5emVyU2NyaXB0LnJlcGxhY2UoJzxpZD4nLCBub2RlLmlkKQogICAgICAgICAgICBhbmFseXplclNjcmlwdCA9IGZpbGxEYXRhKG5vZGUsIGFuYWx5emVyU2NyaXB0KQogICAgICAgICAgICB0cmFuc2Zvcm1lcnMuYXBwZW5kKGFuYWx5emVyU2NyaXB0KQogICAgICAgICAgICBpbXBvcnRfbGluZXMgPSBpbXBvcnRfbGluZXMgKyBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddWydpbXBvcnRzJ10KICAgICAgICAgICAgcGlwZWxpbmVTdGFnZXMuYXBwZW5kKCdhbmFseXplcl97MH0nLmZvcm1hdChub2RlLmlkKSkKCiAgICAgICAgIyBQcmUtcHJvY2Vzc2luZyBTY3JpcHQKICAgICAgICBpZiBub2RlLmNsYXNzTmFtZSA9PSAnUHJlUHJvY2Vzc2luZ1NjcmlwdENvbmZpZyc6CiAgICAgICAgICAgIHByZVByb2Nlc3NpbmdTY3JpcHQgPSAnJwogICAgICAgICAgICBwcmVQcm9jZXNzaW5nc2NyaXB0bGluZXMgPSBsaXN0KG5vZGUuYXR0cmlidXRlc1snc2NyaXB0J10pCgogICAgICAgICAgICBwcmVQcm9jZXNzaW5nU2NyaXB0ID0gcHJlUHJvY2Vzc2luZ1NjcmlwdCArICcnJycnJy5qb2luKG5vZGUuYXR0cmlidXRlc1snc2NyaXB0J10pCgogICAgICAgICAgICBpbXBvcnRzID0gcHJlUHJvY2Vzc2luZ1NjcmlwdFswOnByZVByb2Nlc3NpbmdTY3JpcHQuaW5kZXgoJ2NsYXNzIEN1c3RvbVB5dGhvbkNsYXNzKCcpXS5zcGxpdCgnXHInKQogICAgICAgICAgICBwcmVQcm9jZXNzaW5nQmFzZVNjcmlwdCA9ICcnJ1xyXG5kZWYgcHJlcHJvY2Vzc2luZyhzcGFyaywge2luX2RhdGFzZXRzfSk6CiAgICBsb2dnaW5nLmluZm8oJ1ByZSBQcm9jZXNzaW5nJylccicnJwogICAgICAgICAgICBwcmVQcm9jZXNzaW5nU2NyaXB0ID0gcHJlUHJvY2Vzc2luZ0Jhc2VTY3JpcHQgKyBwcmVQcm9jZXNzaW5nU2NyaXB0WwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVQcm9jZXNzaW5nU2NyaXB0LmluZGV4KCdjbGFzcyBDdXN0b21QeXRob25DbGFzcygnKTpdCiAgICAgICAgICAgIHByZVByb2Nlc3NpbmdTY3JpcHQgPSBbJyAgICAnICsgbCBmb3IgbCBpbiBwcmVQcm9jZXNzaW5nU2NyaXB0LnNwbGl0KCdccicpIGlmIGwuc3RyaXAoKSAhPSAnJ10KICAgICAgICAgICAgcHJlUHJvY2Vzc2luZ1NjcmlwdCA9ICdccicuam9pbihwcmVQcm9jZXNzaW5nU2NyaXB0KQogICAgICAgICAgICBwcmVQcm9jZXNzaW5nU2NyaXB0ID0gcHJlUHJvY2Vzc2luZ1NjcmlwdCArICcnJ1xyICAgIGRhdGFzZXQgPSBDdXN0b21QeXRob25DbGFzcy5fX21haW5fXygnJyx7aW5fZGF0YXNldHN9KVxyJycnICsgJycnICAgIHJldHVybiBkYXRhc2V0XHInJycKICAgICAgICAgICAgaW1wb3J0X2xpbmVzID0gaW1wb3J0X2xpbmVzICsgaW1wb3J0cwogICAgICAgICAgICBtYWluX3ByZXByb2Nlc3NpbmcgPSAnJydkYXRhc2V0ID0gcHJlcHJvY2Vzc2luZyhzcGFyaywge2luX2RhdGFzZXRzfSknJycKCiAgICAgICAgIyBQb3N0LXByb2Nlc3NpbmcgU2NyaXB0CiAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgPT0gJ1Bvc3RQcm9jZXNzaW5nU2NyaXB0Q29uZmlnJzoKICAgICAgICAgICAgcG9zdFByb2Nlc3NpbmdTY3JpcHQgPSAnJycnJycKICAgICAgICAgICAgcG9zdFByb2Nlc3NpbmdzY3JpcHRsaW5lcyA9IGxpc3Qobm9kZS5hdHRyaWJ1dGVzWydzY3JpcHQnXSkKICAgICAgICAgICAgcG9zdFByb2Nlc3NpbmdTY3JpcHQgPSBwb3N0UHJvY2Vzc2luZ1NjcmlwdCArICcnJycnJy5qb2luKHBvc3RQcm9jZXNzaW5nc2NyaXB0bGluZXMpCiAgICAgICAgICAgIGltcG9ydHMgPSBwb3N0UHJvY2Vzc2luZ1NjcmlwdFswOnBvc3RQcm9jZXNzaW5nU2NyaXB0LmluZGV4KCdjbGFzcyBDdXN0b21QeXRob25DbGFzcygnKV0uc3BsaXQoJ1xyJykKICAgICAgICAgICAgcG9zdFByb2Nlc3NpbmdCYXNlU2NyaXB0ID0gJycnXHJcbgpkZWYgcG9zdFByb2Nlc3Npbmcoc3BhcmssIG1vZGVsLCBkYXRhc2V0KToKICAgIGxvZ2dpbmcuaW5mbygnUG9zdCBQcm9jZXNzaW5nJylccicnJwogICAgICAgICAgICBwb3N0UHJvY2Vzc2luZ1NjcmlwdCA9IHBvc3RQcm9jZXNzaW5nQmFzZVNjcmlwdCArIHBvc3RQcm9jZXNzaW5nU2NyaXB0WwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RQcm9jZXNzaW5nU2NyaXB0LmluZGV4KCdjbGFzcyBDdXN0b21QeXRob25DbGFzcygnKTpdCiAgICAgICAgICAgIHBvc3RQcm9jZXNzaW5nU2NyaXB0ID0gWycgICAgJyArIGwgZm9yIGwgaW4gcG9zdFByb2Nlc3NpbmdTY3JpcHQuc3BsaXQoJ1xyJykgaWYgbC5zdHJpcCgpICE9ICcnXQogICAgICAgICAgICBwb3N0UHJvY2Vzc2luZ1NjcmlwdCA9ICdccicuam9pbihwb3N0UHJvY2Vzc2luZ1NjcmlwdCkKICAgICAgICAgICAgcG9zdFByb2Nlc3NpbmdTY3JpcHQgPSBwb3N0UHJvY2Vzc2luZ1NjcmlwdCArICcnJ1xyICAgIHtvdXRfZGF0YXNldHN9ID0gQ3VzdG9tUHl0aG9uQ2xhc3MuX19tYWluX18oJycsbW9kZWwsZGF0YXNldClccicnJyArICcnJyAgICByZXR1cm4ge291dF9kYXRhc2V0c31ccicnJwogICAgICAgICAgICBpbXBvcnRfbGluZXMgPSBpbXBvcnRfbGluZXMgKyBpbXBvcnRzCiAgICAgICAgICAgIG1haW5fcG9zdHByb2Nlc3NpbmcgPSAnJyd7b3V0X2RhdGFzZXRzfSA9IHBvc3RQcm9jZXNzaW5nKHNwYXJrLG1vZGVsLHJlc3VsdCknJycKCiAgICAgICAgIyBMb2FkZXJzCiAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgPT0gJ0RhdGFzZXRMb2FkZXJDb25maWcnOgogICAgICAgICAgICBsb2FkZXJiYXNlc2NyaXB0ID0gJycnZGVmIGxvYWREYXRhXzxpZD4oc3BhcmssZGF0YXNldF88aWQ+KTpcciAgICBsb2dnaW5nLmluZm8oJ1NhdmluZyBEYXRhc2V0IDxpZD4nKVxyJycnCiAgICAgICAgICAgIGxvYWRlcnNjcmlwdCA9IGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddXVsnc2NyaXB0J10KICAgICAgICAgICAgbG9hZGVyc2NyaXB0ID0gbG9hZGVyYmFzZXNjcmlwdCArIGxvYWRlcnNjcmlwdAogICAgICAgICAgICBvdXRfZGF0YXNldHMuYXBwZW5kKCdkYXRhc2V0X3t9Jy5mb3JtYXQobm9kZS5pZCkpCiAgICAgICAgICAgIGxvYWRlcnNjcmlwdCA9IGxvYWRlcnNjcmlwdC5yZXBsYWNlKCc8aWQ+Jywgbm9kZS5pZCkKICAgICAgICAgICAgbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsnY29ubmVjdGlvbkRldGFpbHMnXSA9IGpzb24ubG9hZHMoCiAgICAgICAgICAgICAgICBub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWydjb25uZWN0aW9uRGV0YWlscyddKQogICAgICAgICAgICBsb2FkZXJzY3JpcHQgPSBmaWxsRGF0YShub2RlLCBsb2FkZXJzY3JpcHQpCiAgICAgICAgICAgIGxvYWRlcnMuYXBwZW5kKGxvYWRlcnNjcmlwdCkKICAgICAgICAgICAgaW1wb3J0X2xpbmVzID0gaW1wb3J0X2xpbmVzICsgXAogICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddW25vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydkYXRhc291cmNlJ11bJ3R5cGUnXV1bCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaW1wb3J0cyddCiAgICAgICAgICAgIG1haW5fbG9hZGVycy5hcHBlbmQoJycnbG9hZERhdGFfPGlkPihzcGFyayxkYXRhc2V0XzxpZD4pJycnLnJlcGxhY2UoJzxpZD4nLCBub2RlLmlkKSkKCiAgICBpbXBvcnRfbGluZXMgPSBbbCBmb3IgbCBpbiBzZXQoaW1wb3J0X2xpbmVzKSBpZiBsICE9ICcnXQogICAgcGlwZWxpbmVDb2RlID0gYmFzZVNjcmlwdCgpCiAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne2ltcG9ydHN9JywgKCdccicpLmpvaW4oaW1wb3J0X2xpbmVzKSkKICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7cGlwZWxpbmVOYW1lfScsIGRpY3RbJ3BpcGVsaW5lTmFtZSddKQogICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3tleHRyYWN0b3JzfScsICgnXHInKS5qb2luKGV4dHJhY3RvcnMpKQogICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3twcmVwcm9jZXNzaW5nU2NyaXB0fScsIHByZVByb2Nlc3NpbmdTY3JpcHQpCiAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne3RyYW5zZm9ybWVyc30nLCAoJ1xyJykuam9pbih0cmFuc2Zvcm1lcnMpKQogICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3twaXBlbGluZXN0YWdlc30nLCAoJywnKS5qb2luKHBpcGVsaW5lU3RhZ2VzKSkKICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7cG9zdHByb2Nlc3NpbmdTY3JpcHR9JywgcG9zdFByb2Nlc3NpbmdTY3JpcHQpCiAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne2xvYWRlcnN9JywgKCdcclxuJykuam9pbihsb2FkZXJzKSkKICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7bW9kZWxTaW5rfScsIG1vZGVsU2luaykKICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7bW9kZWxTb3VyY2V9JywgbW9kZWxTb3VyY2UpCiAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne2RvbWFpblNvbHV0aW9ufScsIGRvbWFpblNvbHV0aW9uKQogICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3ttYWluX3ByZXByb2Nlc3Npbmd9JywgbWFpbl9wcmVwcm9jZXNzaW5nKQogICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3ttYWluX3Bvc3Rwcm9jZXNzaW5nfScsIG1haW5fcG9zdHByb2Nlc3NpbmcpCiAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne21haW5fbG9hZGVyc30nLCAoJ1xyICAgICcpLmpvaW4obWFpbl9sb2FkZXJzKSkKICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7aW5fZGF0YXNldHN9JywgKCcsICcpLmpvaW4oaW5fZGF0YXNldHMpKQogICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3tvdXRfZGF0YXNldHN9JywgKCcsICcpLmpvaW4ob3V0X2RhdGFzZXRzKSkKICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCdccicsICdcbicpCiAgICB3aXRoIG9wZW4ob3MucGF0aC5qb2luKGRpY3RbJ3NjcmlwdFBhdGgnXSwgZGljdFsncGlwZWxpbmVOYW1lJ10gKyAnX2dlbmVyYXRlZENvZGUucHknKSwgJ3cnKSBhcyBmOgogICAgICAgIGYud3JpdGVsaW5lcyhwaXBlbGluZUNvZGUpCgoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIGdlbmVyYXRlU2NyaXB0KCkKCnByaW50KCdDb21wbGV0ZWQnKQoKCgoKCgoKCgoK","leo1311"
"LEASNW_C26690","LEASNW_C26690_Leap.py","aW1wb3J0IHJlcXVlc3RzCmltcG9ydCBzeXMKaW1wb3J0IG9zCmltcG9ydCBweW9kYmMKaW1wb3J0IGpzb24KaW1wb3J0IGRhdGV0aW1lCmZyb20gdXJsbGliLnBhcnNlIGltcG9ydCBxdW90ZV9wbHVzLCB1cmxwYXJzZQpmcm9tIGxlYXAudXRpbHMuVXRpbGl0aWVzIGltcG9ydCBVdGlsaXRpZXMKaW1wb3J0IGxvZ2dpbmcgYXMgbG9nZ2VyCgoKbG9nZ2VyLmJhc2ljQ29uZmlnKGxldmVsPWxvZ2dlci5JTkZPLGZvcm1hdD0nJShhc2N0aW1lKXMgSU5GTyAlKG1lc3NhZ2UpcycsIGRhdGVmbXQ9JyV5LyVtLyVkICVIOiVNOiVTJykKCmFyZ3VtZW50cyA9c3lzLmFyZ3YKYXJnZGljdD17fQpmb3IgYXJnIGluIGFyZ3VtZW50czoKICAgICB0cnk6CiAgICAgICAgIGFyZ2RpY3RbYXJnLnNwbGl0KCc6JylbMF1dID0gKCc6Jykuam9pbihhcmcuc3BsaXQoJzonKVsxOl0pCiAgICAgZXhjZXB0OgogICAgICAgICBhPSdlcnJvcicKCgojU05vdyBEYXRhc291cmNlCnNub3dkcyA9IGFyZ2RpY3RbJ1Nub3dEYXRhU291cmNlJ10Kc25vd0RTZGljdD1qc29uLmxvYWRzKHNub3dkcykKCiMgU2V0IHRoZSByZXF1ZXN0IHBhcmFtZXRlcnMKdXJsID0gc25vd0RTZGljdFsnVXJsJ10KdXNlciA9IHNub3dEU2RpY3RbJ0F1dGhEZXRhaWxzJ11bJ3VzZXJuYW1lJ10KcHdkID0gVXRpbGl0aWVzLmRlY3J5cHQoc25vd0RTZGljdFsnQXV0aERldGFpbHMnXVsncGFzc3dvcmQnXSwgc25vd0RTZGljdFsnc2FsdCddKQphcGkgPSBhcmdkaWN0WydhcGknXQpwYXJhbXMgPWFyZ2RpY3RbJ3BhcmFtcyddCnRpY2tldFR5cGUgPSBhcmdkaWN0Wyd0aWNrZXRUeXBlJ10KdGFibGVuYW1lID0gYXJnZGljdFsnZGF0YVRhYmxlJ10KCmlmKHRpY2tldFR5cGUubG93ZXIoKSA9PSAnaW5jaWRlbnQnKToKICAgIHNub3d0YWJsZSA9ICdpbmNpZGVudCcKZWxpZih0aWNrZXRUeXBlLmxvd2VyKCk9PSdjaGFuZ2VyZXF1ZXN0LW5vcm1hbCcpOgogICAgc25vd3RhYmxlID0gJ2NoYW5nZV9yZXF1ZXN0JwplbGlmKHRpY2tldFR5cGUubG93ZXIoKSA9PSAnc2VydmljZXJlcXVlc3QnKToKICAgIHNub3d0YWJsZSA9ICdzY19yZXF1ZXN0JwplbGlmKHRpY2tldFR5cGUubG93ZXIoKSA9PSAnaW5jaWRlbnR0YXNrJyk6CiAgICBzbm93dGFibGUgPSAnaW5jaWRlbnRfdGFzaycKCmljbVBheWxvYWQgPSBhcmdkaWN0WydpbmNpZGVudFBheWxvYWQnXQppY21QYXlsb2FkID0ganNvbi5sb2FkcyhpY21QYXlsb2FkKQppY21QYXlsb2FkTWFwcGluZyA9IHsnbnVtYmVyJzonbnVtYmVyJywnc2hvcnRkZXNjcmlwdGlvbic6J3Nob3J0X2Rlc2NyaXB0aW9uJywncHJpb3JpdHkuc3lzdGVtSWQnOidwcmlvcml0eScsJ3N0YXRlLnN5c3RlbUlkJzonc3RhdGUnLCdkZXNjcmlwdGlvbic6J2Rlc2NyaXB0aW9uJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3N5c0lkJzonc3lzX2lkJywnY2F0ZWdvcnkuc3lzdGVtSWQnOidjYXRlZ29yeScsJ2ltcGFjdC5zeXN0ZW1JZCc6J2ltcGFjdCcsJ2Fzc2lnbm1lbnRncm91cC5zeXN0ZW1JZCc6J2Fzc2lnbm1lbnRfZ3JvdXAnLCdhc3NpZ25lZHRvLnN5c3RlbUlkJzonYXNzaWduZWRfdG8nLAogICAgICAgICAgICAgICAgICAgICAgICAnY29uZmlndXJhdGlvbml0ZW0uc3lzdGVtSWQnOidjbWRiX2NpJywndXJnZW5jeS5zeXN0ZW1JZCc6J3VyZ2VuY3knIH0KCnNub3dQYXlsb2FkID0ge30KZm9yIGtleSBpbiBpY21QYXlsb2FkTWFwcGluZy5rZXlzKCk6CiAgICBqdiA9IGljbVBheWxvYWQKICAgIGljbUNvbHVtbiA9IGtleS5zcGxpdCgnLicpCiAgICBmb3IgaXRlbSBpbiBpY21Db2x1bW46CiAgICAgICAgdHJ5OgogICAgICAgICAgICBqdiA9IGp2W2l0ZW1dCiAgICAgICAgICAgIHNub3dQYXlsb2FkW2ljbVBheWxvYWRNYXBwaW5nW2tleV1dID0ganYKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGE9J05vIG1hcHBpbmcnCiAgICAKCnNub3dQYXlsb2FkID0ganNvbi5kdW1wcyhzbm93UGF5bG9hZCkKCiNzZXRwcm94eQpwcm94eURpY3QgPXt9CmlmIGFyZ2RpY3RbJ3NldFByb3h5J10gPT0gJ1RydWUnOgogICAgcHJveHlEaWN0ID0gewogICAgICAgICAgICAgICAgICAnaHR0cCcgIDogb3MuZW52aXJvblsnSFRUUF9QUk9YWSddLAogICAgICAgICAgICAgICAgICAnaHR0cHMnIDogb3MuZW52aXJvblsnSFRUUFNfUFJPWFknXSAgICAgIAogICAgICAgICAgICAgICAgICB9CiNzZXQgaGVhZGVycwpoZWFkZXJzID0geydDb250ZW50LVR5cGUnOidhcHBsaWNhdGlvbi9qc29uJywnQWNjZXB0JzonYXBwbGljYXRpb24vanNvbid9CnVybCA9IHVybCthcGkrc25vd3RhYmxlKyc/JytwYXJhbXMKIyBEbyB0aGUgSFRUUCByZXF1ZXN0CnJlc3BvbnNlID0gcmVxdWVzdHMucG9zdCh1cmwsIGF1dGg9KHVzZXIsIHB3ZCksIGhlYWRlcnM9aGVhZGVycyAsZGF0YT1zbm93UGF5bG9hZCxwcm94aWVzID0gcHJveHlEaWN0ICkKCiMgQ2hlY2sgZm9yIEhUVFAgY29kZXMgb3RoZXIgdGhhbiAyMDEKaWYgcmVzcG9uc2Uuc3RhdHVzX2NvZGUgIT0gMjAxOgogICAgbG9nZ2VyLmluZm8oJ1N0YXR1czonLCByZXNwb25zZS5zdGF0dXNfY29kZSwgJ0hlYWRlcnM6JywgcmVzcG9uc2UuaGVhZGVycywgJ0Vycm9yIFJlc3BvbnNlOicscmVzcG9uc2UuanNvbigpKQogICAgZXhpdCgpCgojIERlY29kZSB0aGUgSlNPTiByZXNwb25zZSBpbnRvIGEgZGljdGlvbmFyeSBhbmQgdXNlIHRoZSBkYXRhCmRhdGEgPSByZXNwb25zZS5qc29uKCkKCmpzb25TdHJpbmdBcnJheSA9IFtdCgpyb3cgPSBkYXRhWydyZXN1bHQnXQppZih0aWNrZXRUeXBlLmxvd2VyKCkgPT0gJ3NlcnZpY2VyZXF1ZXN0Jyk6CiAgICByb3dbJ3ByaWNlJ10gPSBmbG9hdChyb3dbJ3ByaWNlJ11bMTpdKQpqc29uc3RyID1qc29uLmR1bXBzKHJvdykKanNvblN0cmluZ0FycmF5LmFwcGVuZChqc29uc3RyKQoKIyBzcGFyayA9IFNwYXJrU2Vzc2lvbi5idWlsZGVyLm1hc3RlcignbG9jYWwnKS5hcHBOYW1lKCdzbGEnKS5jb25maWcoJ3NwYXJrLnVpLnNob3dDb25zb2xlUHJvZ3Jlc3MnLCAnZmFsc2UnKS5nZXRPckNyZWF0ZSgpCgojICNjb252ZXJ0IGpzb24gdG8gc3BhcmsgZGF0YWZyYW1lCiMgZGYgPSBzcGFyay5yZWFkLmpzb24oc3Bhcmsuc3BhcmtDb250ZXh0LnBhcmFsbGVsaXplKGpzb25TdHJpbmdBcnJheSkpCmRmID0gcGQucmVhZF9jc3YoanNvblN0cmluZ0FycmF5KQoKc25vd1RvSWNtQ29sdW1uTWFwcGluZyA9IHsnbnVtYmVyJzonbnVtYmVyJywnc2hvcnRfZGVzY3JpcHRpb24nOidzaG9ydGRlc2NyaXB0aW9uJywncHJpb3JpdHknOidwcmlvcml0eScsJ3N0YXRlJzonc3RhdGUnLCdkZXNjcmlwdGlvbic6J2Rlc2NyaXB0aW9uJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3N5c19pZCc6J3N5c0lkJywnb3BlbmVkX2F0Jzonb3BlbmVkRGF0ZScsJ3N5c19jcmVhdGVkX29uJzonY3JlYXRlZERhdGUnLCdzeXNfdXBkYXRlZF9vbic6J3VwZGF0ZWREYXRlJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3NsYV9kdWUnOidzbGFkdWVEYXRlJywnY2xvc2VkX2F0JzonY2xvc2VkRGF0ZScsJ2R1ZV9kYXRlJzonZHVlZGF0ZScsJ3N5c19jcmVhdGVkX2J5JzonY3JlYXRlZGJ5JywKICAgICAgICAgICAgICAgICAgICAgICAgJ3Jlb3BlbmVkX3RpbWUnOidyZW9wZW5lZERhdGUnLCdyZXNvbHZlZF9hdCc6J3Jlc29sdmVkRGF0ZScsJ2NhdGVnb3J5JzonY2F0ZWdvcnknLAogICAgICAgICAgICAgICAgICAgICAgICAnY2xvc2VfY29kZSc6J2Nsb3NlY29kZScsJ2Nsb3NlX2NvZGUnOidyZXNvbHV0aW9uQ2F0ZWdvcnknLCdpbXBhY3QnOidpbXBhY3QnLCdyZXF1ZXN0ZWRfZm9yLmRpc3BsYXlfdmFsdWUnOidyZXF1ZXN0ZWRfZm9yJywKICAgICAgICAgICAgICAgICAgICAgICAgJ2Fzc2lnbm1lbnRfZ3JvdXAuZGlzcGxheV92YWx1ZSc6J2Fzc2lnbm1lbnRncm91cCcsJ2NhbGxlcl9pZC5kaXNwbGF5X3ZhbHVlJzonY2FsbGVyJywnYXNzaWduZWRfdG8uZGlzcGxheV92YWx1ZSc6J2Fzc2lnbmVkdG8nLAogICAgICAgICAgICAgICAgICAgICAgICAncmVzb2x2ZWRfYnkuZGlzcGxheV92YWx1ZSc6J3Jlc29sdmVkYnknLCdjbG9zZWRfYnkuZGlzcGxheV92YWx1ZSc6J2Nsb3NlZGJ5JywnY21kYl9jaS5kaXNwbGF5X3ZhbHVlJzonY29uZmlndXJhdGlvbkl0ZW0nLAogICAgICAgICAgICAgICAgICAgICAgICAnY2xvc2Vfbm90ZXMnOidjbG9zZW5vdGVzJywnY2xvc2Vfbm90ZXMnOidyZXNvbHV0aW9uX3N0ZXBzJywnbG9jYXRpb24uZGlzcGxheV92YWx1ZSc6J2xvY2F0aW9uJywncmVxdWVzdF9zdGF0ZSc6J3JlcXVlc3Rfc3RhdGUnLCdwcmljZSc6J3ByaWNlJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3NwZWNpYWxfaW5zdHJ1Y3Rpb25zJzonc3BlY2lhbF9pbnN0cnVjdGlvbnMnLCdhcHByb3ZhbCc6J2FwcHJvdmFsJywnYnVzaW5lc3Nfc2VydmljZSc6J2J1c2luZXNzX3NlcnZpY2UnLAogICAgICAgICAgICAgICAgICAgICAgICAncmlzayc6J3Jpc2snLCd0eXBlJzondHlwZScsJ3JlcXVlc3RlZF9ieS5kaXNwbGF5X3ZhbHVlJzoncmVxdWVzdGVkX2J5JywnaW5jaWRlbnQuZGlzcGxheV92YWx1ZSc6J3BhcmVudF9JbmNpZGVudCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VyZ2VuY3knOidzZXZlcml0eScgfQojbWFwQ29sdW1ucwpmb3VuZENvbHVtbnMgPSBbXQpmb3Iga2V5IGluIHNub3dUb0ljbUNvbHVtbk1hcHBpbmcua2V5cygpOgogICAgdHJ5OgogICAgICAgIGljbUNvbHVtbiA9c25vd1RvSWNtQ29sdW1uTWFwcGluZ1trZXldCiAgICAgICAgc25vd0NvbHVtbj0ga2V5CiAgICAgICAgZGZbaWNtQ29sdW1uXSA9IG5wLndoZXJlKGRmW3Nub3dDb2x1bW5dID09ICcnLCBOb25lLCBkZltzbm93Q29sdW1uXSkKICAgICAgICBmb3VuZENvbHVtbnMuYXBwZW5kKGljbUNvbHVtbikKICAgIGV4Y2VwdDoKICAgICAgICBlcnJvciA9ICdDb2x1bW4gTm90IGZvdW5kJwoKZGYgPSBkZltmb3VuZENvbHVtbnNdCgojIEFkZCBzdGF0aWMgY29sdW1ucyAtIElDTSBzcGVjaWZpYwoKZGZbJ3NvdXJjZSddID0gJ1NOT1cnCgpkZWYgcmVjb3JkVHlwZShpKToKICAgIHN3aXRjaGVyID0gewogICAgICAgICdpbmNpZGVudCc6ICdJbmNpZGVudCcsCiAgICAgICAgJ2NoYW5nZV9yZXF1ZXN0JzogJ0NoYW5nZVJlcXVlc3QtTm9ybWFsJywKICAgICAgICAnaW5jaWRlbnRfdGFzayc6ICdUYXNrJywKICAgICAgICAnc2NfcmVxdWVzdCc6ICdTZXJ2aWNlUmVxdWVzdCcKICAgIH0KICAgIHJldHVybiBzd2l0Y2hlci5nZXQoaSwgJ0luY2lkZW50JykKZGZbJ3R5cGUnXSA9IHJlY29yZFR5cGUoc25vd3RhYmxlLmxvd2VyKCkpCmRmWydsYXN0VXBkYXRlZCddID0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkKCiNMRUFQIERhdGFzb3VyY2UKbGVhcGRzID0gYXJnZGljdFsnTEVBUERhdGFTb3VyY2UnXQpsZWFwRFNkaWN0ID1qc29uLmxvYWRzKGxlYXBkcykKCiNzYXZlIHRvIGRiCmNvbHVtbkxpc3QgPSBkZi5jb2x1bW5zCnVzZXJuYW1lID0gbGVhcERTZGljdFsndXNlck5hbWUnXQpwYXNzd29yZCA9IFV0aWxpdGllcy5kZWNyeXB0KGxlYXBEU2RpY3RbJ3Bhc3N3b3JkJ10sbGVhcERTZGljdFsnc2FsdCddKQpzZXJ2ZXIgPSB1cmxwYXJzZShsZWFwRFNkaWN0Wyd1cmwnXVs1Ol0pLm5ldGxvYy5zcGxpdCgnOycsIDEpWzBdCmRhdGFiYXNlID0gdXJscGFyc2UobGVhcERTZGljdFsndXJsJ11bNTpdKS5uZXRsb2Muc3BsaXQoJzsnLCAxKVsxXS5zcGxpdCgnPScsMSlbMV0KbG9nZ2VyLmluZm8oZGYpCgpkZWYgcHJvY2Vzc19wYXJ0aXRpb24oaXRlcmF0b3IpOgogIGNvbm5lY3Rpb25TdHJpbmcgPSAnRFJJVkVSPXswfTtTRVJWRVI9ezF9OyAnIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0RBVEFCQVNFPXsyfTtVSUQ9ezN9O1BXRD17NH0nLmZvcm1hdCgKICAgICAgICAgICAgJ09EQkMgRHJpdmVyIDE3IGZvciBTUUwgU0VSVkVSJywgc2VydmVyLCBkYXRhYmFzZSwgdXNlcm5hbWUsIHBhc3N3b3JkKQogIGNueCA9IHB5b2RiYy5jb25uZWN0KGNvbm5lY3Rpb25TdHJpbmcpCiAgbXljdXJzb3IgPSBjbnguY3Vyc29yKCkKCiAgZm9yIHJvdyBpbiBpdGVyYXRvcjoKICAgIHRyeToKICAgICAgICBwYXJhbXNEaWN0ID0ge30KICAgICAgICB2YWx1ZXMgPSBbXQogICAgICAgIGNvbF92YWx1ZSA9IFtdCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoMCwgbGVuKGNvbHVtbkxpc3QpKToKICAgICAgICAgIHZhbCA9IHJvd1tjb2x1bW5MaXN0W2ldXQogICAgICAgICAgI3ByaW50KCdjb2x1bW46ezB9LHZhbHVlOnsxfScuZm9ybWF0KGNvbHVtbkxpc3RbaV0sIHZhbCkpCiAgICAgICAgICBpZiBpc2luc3RhbmNlKHJvd1tjb2x1bW5MaXN0W2ldXSxkYXRldGltZS5kYXRldGltZSk6CiAgICAgICAgICAgIHZhbCA9IHJvd1tjb2x1bW5MaXN0W2ldXS5zdHJmdGltZSgnJVktJW0tJWQgJUg6JU06JVMnKQogICAgICAgICAgZWxpZiAnZGF0ZScgaW4gY29sdW1uTGlzdFtpXS5sb3dlcigpOgogICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgdmFsPSBwYXJzZXIucGFyc2UodmFsKQogICAgICAgICAgICAgICAgICB2YWwgPSB2YWwuc3RyZnRpbWUoJyVZLSVtLSVkICVIOiVNOiVTJykKICAgICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICAgIHZhbD0nJwogICAgICAgICAgZWxpZiBpc2luc3RhbmNlKHZhbCwgc3RyKToKICAgICAgICAgICAgICB2YWwgPSB2YWwucmVwbGFjZSgnXCcnLCcnKQoKICAgICAgICAgICAgICAKICAgICAgICAgIHBhcmFtc0RpY3RbY29sdW1uTGlzdFtpXV0gPSB2YWwKICAgICAgICAgIHZhbHVlcy5hcHBlbmQodmFsKQogICAgICAgICAgY29sX3ZhbHVlLmFwcGVuZCgnJydbezB9XT0nezF9JyAnJycuZm9ybWF0KGNvbHVtbkxpc3RbaV0sIHZhbCkpCiAgICAgICAgICAKICAgICAgICBjb2x1bW5zID0gJywgJy5qb2luKCdbezB9XScuZm9ybWF0KGspIGZvciBrIGluIHBhcmFtc0RpY3QpCiAgICAgICAgY29sX3ZhbHVlcyA9ICcsICcuam9pbihjb2xfdmFsdWUpCiAgICAgICAgCiAgICAgICAgam9pbm9uID0gJyB0LltudW1iZXJdID0gcy5bbnVtYmVyXSAnCiAgICAgICAgdXBkYXRlVmFsdWVzID0gJywgJy5qb2luKCdbezB9XSA9IHMuW3swfV0nLmZvcm1hdChjb2wpIGZvciBjb2wgaW4gY29sdW1uTGlzdCkKICAgICAgICBpbnNlcnRWYWx1ZXMgPSAnLCAnLmpvaW4oJ3MuW3swfV0nLmZvcm1hdChjb2wpIGZvciBjb2wgaW4gY29sdW1uTGlzdCkKICAgICAgICAjZHVwbGljYXRlcyA9ICcsICcuam9pbignezB9PVZBTFVFUyh7MH0pJy5mb3JtYXQoaykgZm9yIGsgaW4gcGFyYW1zRGljdCkKICAgICAgICAjcGxhY2VfaG9sZGVycyA9ICcsICcuam9pbignPycuZm9ybWF0KGspIGZvciBrIGluIHBhcmFtc0RpY3QpCiAgICAgICAgI3F1ZXJ5ID0gJ1JFUExBQ0UgSU5UTyB7MH0gKHsxfSkgVkFMVUVTICh7Mn0pJy5mb3JtYXQodGFibGVuYW1lLCBjb2x1bW5zLCBwbGFjZV9ob2xkZXJzKQogICAgICAgICNxdWVyeSA9ICd7MH0gT04gRFVQTElDQVRFIEtFWSBVUERBVEUgezF9Jy5mb3JtYXQocXVlcnksIGR1cGxpY2F0ZXMpCiAgICAgICAgCiAgICAgICAgcXVlcnkgPSAnTUVSR0UgIElOVE8gW3swfV0gQVMgdCBVU0lORyAoU0VMRUNUIHsxfSkgQVMgcyAgT04gezJ9IFdIRU4gTUFUQ0hFRCBUSEVOIFVQREFURSBTRVQgezN9IFdIRU4gTk9UIE1BVENIRUQgVEhFTiBJTlNFUlQoezR9KSBWQUxVRVMoezV9KTsnLmZvcm1hdCgKICAgICAgICAgICAgdGFibGVuYW1lLCBjb2xfdmFsdWVzLCBqb2lub24sIHVwZGF0ZVZhbHVlcywgY29sdW1ucywgaW5zZXJ0VmFsdWVzKQogICAgICAgIAogICAgICAgIG15Y3Vyc29yLmV4ZWN1dGUocXVlcnkpCiAgICAgICAgCiAgICAgICAgY254LmNvbW1pdCgpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIAogICAgICAgIGxvZ2dlci5lcnJvcihleCkKICAgICAgICBwcmludChleCkKCnByb2Nlc3NfcGFydGl0aW9uKGRmLnRvX2RpY3QoJ3JlY29yZHMnKSkKICAgIApsb2dnZXIuaW5mbygnQ29tcGxldGVkJykKCg==","leo1311"
"LEASNWCN40863","LEASNWCN40863_Leap.py","aW1wb3J0IG9zCmltcG9ydCBzeXMKaW1wb3J0IG9zLnBhdGgKaW1wb3J0IHJlCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmZyb20gY29sbGVjdGlvbnMgaW1wb3J0IGRlZmF1bHRkaWN0Cgphcmd1bWVudHMgPSBzeXMuYXJndgphcmdzRGljdCA9IHt9CmZvciBhcmcgaW4gYXJndW1lbnRzOgogICAgdHJ5OgogICAgICAgIGFyZ3NEaWN0W2FyZy5zcGxpdCgnOicpWzBdXSA9ICgnOicpLmpvaW4oYXJnLnNwbGl0KCc6JylbMTpdKQogICAgZXhjZXB0OgogICAgICAgIGEgPSAnZXJyb3InCgpqc29uX2ZpbGUgPSBvcy5wYXRoLmpvaW4oYXJnc0RpY3RbJ3NjcmlwdFBhdGgnXSwgJ3BpcGVsaW5lLmpzb24nKQoKd2l0aCBvcGVuKGpzb25fZmlsZSkgYXMgZjoKICAgIGltcG9ydCBqc29uCgogICAgcGlwZWxpbmVfanNvbiA9IGpzb24ubG9hZChmKQoKCiMgYmFzZSBzY3JpcHQKZGVmIGJhc2VTY3JpcHQoKToKICAgIHJldHVybiAnJycKaW1wb3J0IHN5cwppbXBvcnQgc3VicHJvY2VzcwpyZXF1aXJlbWVudHMgPSBbe3JlcXVpcmVtZW50c31dCmZvciBtb2R1bGUgaW4gcmVxdWlyZW1lbnRzOgogICAgc3VicHJvY2Vzcy5ydW4oc3lzLmV4ZWN1dGFibGUgKyAnIC1tIHBpcCBpbnN0YWxsICcrIG1vZHVsZSArICcgLS1pbmRleC11cmwgaHR0cHM6Ly9zaHJleWFfYmFuc2FsQGFkLmluZm9zeXMuY29tOmNtVm1kR3R1T2pBeE9qRTNNakk1TXprMU1qQTZiMjVZYzNaVlJVWXhWMnRZUjFWRFMxcDNlbE5GTWt4UU9IcE1AaW5meWFydGlmYWN0b3J5Lmpmcm9nLmlvL2FydGlmYWN0b3J5L2FwaS9weXBpL3B5cGktcmVtb3RlL3NpbXBsZSAtLXRydXN0ZWQtaG9zdCBpbmZ5YXJ0aWZhY3RvcnkuamZyb2cuaW8nLHNoZWxsPVRydWUpCmltcG9ydCBvcwppbXBvcnQgbG9nZ2luZyBhcyBsb2dnZXIKaW1wb3J0IGpzb24KaW1wb3J0IGltcAoKe2ltcG9ydHN9Cgp7ZnVuY3Rpb25zfQoKZGVmIGV4ZWN1dGVQaXBlbGluZSgpOgp7ZXhlY3V0aW9uT3JkZXJ9CgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgZXhlY3V0ZVBpcGVsaW5lKCkKICAgIHByaW50KCdDb21wbGV0ZWQnKQonJycKCgojIE5vZGUKY2xhc3MgR3JhcGg6CiAgICBkZWYgX19pbml0X18oc2VsZiwgdmVydGljZXMpOgogICAgICAgIHNlbGYuZ3JhcGggPSBkZWZhdWx0ZGljdChsaXN0KQogICAgICAgIHNlbGYuViA9IHZlcnRpY2VzCgogICAgZGVmIGFkZEVkZ2Uoc2VsZiwgdSwgdik6CiAgICAgICAgc2VsZi5ncmFwaFt1XS5hcHBlbmQodikKCiAgICBkZWYgdG9wb2xvZ2ljYWxTb3J0VXRpbChzZWxmLCB2LCB2aXNpdGVkLCBzdGFjayk6CiAgICAgICAgdmlzaXRlZFt2XSA9IFRydWUKICAgICAgICBmb3IgaSBpbiBzZWxmLmdyYXBoW3ZdOgogICAgICAgICAgICBpZiB2aXNpdGVkW2ldID09IEZhbHNlOgogICAgICAgICAgICAgICAgc2VsZi50b3BvbG9naWNhbFNvcnRVdGlsKGksIHZpc2l0ZWQsIHN0YWNrKQogICAgICAgIHN0YWNrLmFwcGVuZCh2KQoKICAgIGRlZiB0b3BvbG9naWNhbFNvcnQoc2VsZik6CiAgICAgICAgdmlzaXRlZCA9IFtGYWxzZV0gKiBzZWxmLlYKICAgICAgICBzdGFjayA9IFtdCgogICAgICAgIGZvciBpIGluIHJhbmdlKHNlbGYuVik6CiAgICAgICAgICAgIGlmIHZpc2l0ZWRbaV0gPT0gRmFsc2U6CiAgICAgICAgICAgICAgICBzZWxmLnRvcG9sb2dpY2FsU29ydFV0aWwoaSwgdmlzaXRlZCwgc3RhY2spCgogICAgICAgIHJldHVybiBzdGFja1s6Oi0xXQoKCmNsYXNzIE5vZGU6CiAgICBkZWYgX19pbml0X18oc2VsZiwganNvbk9iamVjdCk6CiAgICAgICAgc2VsZi5sZXZlbCA9IDA7CiAgICAgICAgc2VsZi5pZCA9IGpzb25PYmplY3QuZ2V0KCdpZCcsICcnKTsKICAgICAgICBzZWxmLm5hbWUgPSBqc29uT2JqZWN0LmdldCgnbmFtZScsICcnKTsKICAgICAgICBzZWxmLmNsYXNzTmFtZSA9IGpzb25PYmplY3QuZ2V0KCdjbGFzc25hbWUnLCBzZWxmLm5hbWUgKyAnQ29uZmlnJyk7CiAgICAgICAgc2VsZi5jYXRlZ29yeSA9IGpzb25PYmplY3QuZ2V0KCdjYXRlZ29yeScsICcnKTsKICAgICAgICBzZWxmLmF0dHJpYnV0ZXMgPSBqc29uT2JqZWN0LmdldCgnYXR0cmlidXRlcycsICcnKTsKICAgICAgICBzZWxmLmNvbm5lY3RvcnMgPSBqc29uT2JqZWN0LmdldCgnY29ubmVjdG9ycycsICcnKTsKICAgICAgICBzZWxmLnBhcmVudCA9IE5vbmUKICAgICAgICBzZWxmLmZvcm1hdHMgPSBqc29uT2JqZWN0LmdldCgnZm9ybWF0cycsICcnKTsKCiAgICAjIEJ1aWxkaW5nIERBRyBvcmRlcgoKCmRlZiBidWlsZERBR09yZGVyKGVsZW1lbnRzKToKICAgICMgZ2V0IGFsbCBlbGVtZW50cyBmcm9tIGpzb24KICAgIGVsZW1lbnRsaXN0ID0gW10KICAgIG5vZGVsaXN0ID0gW10KICAgIGZvciBlIGluIGVsZW1lbnRzOgogICAgICAgIG5vZGUgPSBOb2RlKGUpCiAgICAgICAgbm9kZWxpc3QuYXBwZW5kKG5vZGUpCgogICAgaWRfdG9fbnVtID0ge30KICAgIG51bV90b19pZCA9IHt9CiAgICBpZF90b19ub2RlID0ge30KICAgIGZvciBpLCBlbGUgaW4gZW51bWVyYXRlKG5vZGVsaXN0KToKICAgICAgICBpZF90b19udW1bZWxlLmlkXSA9IGkKICAgICAgICBudW1fdG9faWRbaV0gPSBlbGUuaWQKICAgICAgICBpZF90b19ub2RlW2VsZS5pZF0gPSBlbGUKCiAgICB2ZXJ0ZXggPSBsZW4obm9kZWxpc3QpCiAgICBnID0gR3JhcGgodmVydGV4KQoKICAgIGZvciBpdGVtIGluIG5vZGVsaXN0OgogICAgICAgIHBhcmVudGlkID0gJycKICAgICAgICBjaGlsZGlkID0gJycKICAgICAgICBmb3IgY29ubmVjdG9yIGluIGl0ZW0uY29ubmVjdG9yczoKICAgICAgICAgICAgaWYgKGNvbm5lY3RvclsndHlwZSddID09ICd0YXJnZXQnKToKICAgICAgICAgICAgICAgIHBhcmVudGlkID0gY29ubmVjdG9yWydlbGVtZW50SWQnXQogICAgICAgICAgICAgICAgZy5hZGRFZGdlKGlkX3RvX251bVtwYXJlbnRpZF0sIGlkX3RvX251bVtpdGVtLmlkXSkKCiAgICAgICAgICAgIGlmIChjb25uZWN0b3JbJ3R5cGUnXSA9PSAnc291cmNlJyk6CiAgICAgICAgICAgICAgICBjaGlsZGlkID0gY29ubmVjdG9yWydlbGVtZW50SWQnXQogICAgICAgICAgICAgICAgZy5hZGRFZGdlKGlkX3RvX251bVtpdGVtLmlkXSwgaWRfdG9fbnVtW2NoaWxkaWRdKQoKICAgIHN0YWNrID0gZy50b3BvbG9naWNhbFNvcnQoKQogICAgc3RhY2sgPSBbbnVtX3RvX2lkW251bV0gZm9yIG51bSBpbiBzdGFja10KCiAgICBmb3IgaWQgaW4gc3RhY2s6CiAgICAgICAgZWxlbWVudGxpc3QuYXBwZW5kKGlkX3RvX25vZGVbaWRdKQogICAgcmV0dXJuIGVsZW1lbnRsaXN0CgoKIyBmaWxsIGFsbCBqb2IgcGFyYW1zIGluIHBpcGVsaW5lSnNvbgpkZWYgZmlsbEpvYlBhcmFtcyhwaXBlbGluZUpzb24pOgogICAgb3JnYW5pemF0aW9uID0gcGlwZWxpbmVKc29uLmdldCgnb3JnJywgJ0lORk9TWVMnKQoKICAgICMgU2V0IGFsbCBKb2IgUGFyYW1zCiAgICBqb2JQYXJhbXMgPSB7fQogICAgam9iUGFyYW1zWydOZXh0RXhlY3V0aW9uVGltZSddID0gcGlwZWxpbmVKc29uLmdldCgnTmV4dF9FeGVjdXRpb25fVGltZScsICcnKQogICAgam9iUGFyYW1zWydDdXJyZW50RXhlY3V0aW9uVGltZSddID0gcGlwZWxpbmVKc29uLmdldCgnQ3VycmVudF9FeGVjdXRpb25fVGltZScsICcnKQogICAgam9iUGFyYW1zWydMYXN0U3VjY2Vzc2Z1bEV4ZWN1dGlvblRpbWUnXSA9IHBpcGVsaW5lSnNvbi5nZXQoJ0xhc3RfU3VjY2Vzc2Z1bF9FeGVjdXRpb25fVGltZScsICcnKQogICAgam9iUGFyYW1zWydMYXN0RXhlY3V0aW9uVGltZSddID0gcGlwZWxpbmVKc29uLmdldCgnTGFzdF9FeGVjdXRpb25fVGltZScsICcnKQoKICAgIHJlZ0V4ID0gJzxqb2JQYXJhbXM6KFtcd1wuLV0rKTsoLio/KT4nCiAgICBwaXBlbGluZUpzb25MaXN0ID0gW10KCiAgICBmb3IgaXRlbSBpbiBwaXBlbGluZUpzb25bJ2VsZW1lbnRzJ106CiAgICAgICAgaXRlbVRleHQgPSBqc29uLmR1bXBzKGl0ZW0pCiAgICAgICAgIyByZXBsYWNlIE9yZwogICAgICAgIGl0ZW1UZXh0ID0gaXRlbVRleHQucmVwbGFjZSgnPGpvYlBhcmFtczpvcmdOYW1lPicsIG9yZ2FuaXphdGlvbikKICAgICAgICAjIHJlcGxhY2UgdGltZXN0YW1wcwogICAgICAgIHBhcmFtcyA9IHJlLmZpbmRhbGwocmVnRXgsIGl0ZW1UZXh0KQogICAgICAgIGZvciBwIGluIHBhcmFtczoKICAgICAgICAgICAgdGV4dFRvcmVwbGFjZSA9ICc8am9iUGFyYW1zOnswfTt7MX0+Jy5mb3JtYXQocFswXSwgcFsxXSkKICAgICAgICAgICAgaWYgam9iUGFyYW1zW3BbMF1dICE9ICcnIGFuZCBqb2JQYXJhbXNbcFswXV0gIT0gLTE6CiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgZHQgPSBkYXRldGltZS5zdHJwdGltZShqb2JQYXJhbXNbcFswXV0sICclYSwgJWQgJWIgJVkgJUg6JU06JVMnKQogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VXaXRoID0gZGF0ZXRpbWUuc3RyZnRpbWUoZHQsIHBbMV0pCiAgICAgICAgICAgICAgICAgICAgaXRlbVRleHQgPSBpdGVtVGV4dC5yZXBsYWNlKHRleHRUb3JlcGxhY2UsIHJlcGxhY2VXaXRoKQogICAgICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgICAgIGEgPSAxCiAgICAgICAgcGlwZWxpbmVKc29uTGlzdC5hcHBlbmQoanNvbi5sb2FkcyhpdGVtVGV4dCkpCiAgICByZXR1cm4gcGlwZWxpbmVKc29uTGlzdAoKCiMgQnVpbGQgREFHIG9mIGFsbCB0aGUgbm9kZXMKIyBSZXR1cm5zIHRoZSBsaXN0IG9mIGVsZW1lbnRzIGluIG9yZGVyCmRlZiBidWlsZERBRyhwaXBlbGluZUpzb25MaXN0KToKICAgIG9yZGVyZWRFbGVtZW50TGlzdCA9IGJ1aWxkREFHT3JkZXIocGlwZWxpbmVKc29uTGlzdCkgICMgREFHLmJ1aWxkKHBpcGVsaW5lSnNvbkxpc3QpOwogICAgb3JkZXJlZEVsZW1lbnRMaXN0ID0gbGlzdChmaWx0ZXIoTm9uZSwgb3JkZXJlZEVsZW1lbnRMaXN0KSkKICAgIHJldHVybiBvcmRlcmVkRWxlbWVudExpc3QKCgojIGZpbGwgbm9kZSBhdHRyaWJ1dGVzIHdpdGggQWN0dWFsIERhdGEKZGVmIGZpbGxEYXRhbm9kZShub2RlLCBzY3JpcHQpOgogICAgYXR0cmlidXRlcyA9IHJlLmZpbmRhbGwoJ1w8KC4qPylcPicsIHNjcmlwdCkKCiAgICBmb3IgaXRlbSBpbiBhdHRyaWJ1dGVzOgoKICAgICAgICBpbnB1dF9zcGxpdCA9IGl0ZW0uc3BsaXQoJy4nKQogICAgICAgIGtleXMgPSAnJy5qb2luKFsnJydbJ3swfSddJycnLmZvcm1hdChrKSBmb3IgayBpbiBpbnB1dF9zcGxpdF0pCgogICAgICAgIHRyeToKCiAgICAgICAgICAgIHZhbHVlID0gZXZhbCgnJydub2RlLmF0dHJpYnV0ZXMnJycgKyAnJyd7MH0nJycuZm9ybWF0KGtleXMpKQogICAgICAgICAgICBpZiBub2RlLmNsYXNzTmFtZSAhPSAnRGF0YXNldEV4dHJhY3RvckNvbmZpZycgYW5kIG5vZGUuY2xhc3NOYW1lICE9ICdEYXRhc2V0TG9hZGVyQ29uZmlnJzoKICAgICAgICAgICAgICAgIGZvcm0gPSBldmFsKCcnJ25vZGUuZm9ybWF0cycnJyArICcnJ3swfScnJy5mb3JtYXQoa2V5cykpCgogICAgICAgICAgICAgICAgaWYgZm9ybSA9PSAnYm9vbCc6CiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAnVHJ1ZScgaWYgdmFsdWUgPT0gJ3RydWUnIGVsc2UgJ0ZhbHNlJwoKICAgICAgICAgICAgc2NyaXB0ID0gc2NyaXB0LnJlcGxhY2UoJzwnICsgaXRlbSArICc+Jywgc3RyKHZhbHVlKSkKCgogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcHJpbnQoJ2luIEV4Y2VwdCcpCiAgICAgICAgICAgIHNjcmlwdCA9IHNjcmlwdC5yZXBsYWNlKCc8JyArIGl0ZW0gKyAnPicsICcnKQoKICAgIHJldHVybiBzY3JpcHQKCgoKZGVmIGdlbmVyYXRlU2NyaXB0KHBpcGVsaW5lSnNvbik6CiAgICAjIGZvcm1hdCB0eXBlIGZvciBwcmUtcHJvY2Vzc2luZyBub2RlL3B5dGhvbi1zY3JpcHQgbm9kZQogICAgZGVmIGNvbihzLCB0KToKICAgICAgICBpZiBzID09ICdpbnQnOgogICAgICAgICAgICByZXR1cm4gJ2ludGVnZXInCiAgICAgICAgZWxpZiBzID09ICdzdHInOgogICAgICAgICAgICByZXR1cm4gJ3RleHQnCiAgICAgICAgZWxpZiBzID09ICdsaXN0JzoKICAgICAgICAgICAgcmV0dXJuICdsaXN0JwogICAgICAgIGVsaWYgcyA9PSAnYm9vbCc6CiAgICAgICAgICAgIHJldHVybiAnYm9vbCcKICAgICAgICBlbGlmIGlzaW5zdGFuY2UodCwgc3RyKToKICAgICAgICAgICAgcmV0dXJuICd0ZXh0JwogICAgICAgIGVsaWYgaXNpbnN0YW5jZSh0LCBpbnQpOgogICAgICAgICAgICByZXR1cm4gJ2ludGVnZXInCiAgICAgICAgcmV0dXJuICdib29sJwoKICAgIHBpcGVsaW5lRWxlbWVudHMgPSBmaWxsSm9iUGFyYW1zKHBpcGVsaW5lSnNvbikKICAgIG9yZGVyZWRFbGVtZW50TGlzdCA9IGJ1aWxkREFHKHBpcGVsaW5lRWxlbWVudHMpCiAgICByZXF1aXJlbWVudHMgPSBbXQogICAgaW1wb3J0X2xpbmVzID0gW10KICAgIGZ1bmN0aW9ucyA9IFtdCiAgICBkYXRhc2V0X2V4dHJhY3Rvcl9wYXJhbSA9IHt9CiAgICBkYXRhc2V0X2xvYWRlcl9wYXJhbXMgPSBbXQogICAgZXh0cmFjdHNjcmlwdHN1ZmZpeCA9ICcnCiAgICBmdW5jdGlvbl9mbGFnID0ge30KCiAgICAjIFNjcmlwdCBnZW5lcmF0aW9uCiAgICBmb3Igbm9kZSBpbiBvcmRlcmVkRWxlbWVudExpc3Q6CgogICAgICAgICMgRXh0cmFjdG9ycwogICAgICAgIGVsZW1lbnQgPSBuZXh0KGUgZm9yIGUgaW4gcGlwZWxpbmVKc29uWydlbGVtZW50cyddIGlmIGVbJ2lkJ10gPT0gbm9kZS5pZCkKCiAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgPT0gJ0FkYXB0ZXJNZXRob2RDb25maWcnOgogICAgICAgICAgICBwcmludCgnbm9kZSBuYW1lIGlzOiAnLCBub2RlLm5hbWUpCiAgICAgICAgICAgIHRyYW5zZm9ybWVyU2NyaXB0ID0gZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVsnc2NyaXB0J10KCiAgICAgICAgICAgIG5vZGVuYW1lID0gJycuam9pbihub2RlLm5hbWUuc3BsaXQoJyAnKSkKCiAgICAgICAgICAgIHRyYW5zZm9ybWVyU2NyaXB0ID0gdHJhbnNmb3JtZXJTY3JpcHQucmVwbGFjZSgnXzxpZD4nLCAnJykKICAgICAgICAgICAgdHJhbnNmb3JtZXJTY3JpcHQgPSB0cmFuc2Zvcm1lclNjcmlwdC5yZXBsYWNlKCc8aWQ+Jywgbm9kZS5pZCkKCiAgICAgICAgICAgICMgQ2hlY2tpbmcgaWYgdGhlIGZ1bmN0aW9uIGRlZmluaXRpb24gaXMgYWxyZWFkeSBleGlzdHMgaW4gc2NyaXB0CiAgICAgICAgICAgIGlmIG5vZGUuY2xhc3NOYW1lIGluIGZ1bmN0aW9uX2ZsYWc6CiAgICAgICAgICAgICAgICBwcmludCgnZXhpdHMnLCBub2RlLmNsYXNzTmFtZSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGZ1bmN0aW9uX2ZsYWdbbm9kZS5jbGFzc05hbWVdID0gMQogICAgICAgICAgICAgICAgZnVuY3Rpb25zLmFwcGVuZCh0cmFuc2Zvcm1lclNjcmlwdCkKCiAgICAgICAgICAgIGltcG9ydF9saW5lcyA9IGltcG9ydF9saW5lcyArIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bJ2ltcG9ydHMnXQogICAgICAgICAgICBpZiBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddLmdldCgncmVxdWlyZW1lbnRzJywgJycpICE9ICcnOgogICAgICAgICAgICAgICAgcmVxdWlyZW1lbnRzID0gcmVxdWlyZW1lbnRzICsgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXS5nZXQoJ3JlcXVpcmVtZW50cycsIFtdKQogICAgICAgICAgICAgICAgcHJpbnQocmVxdWlyZW1lbnRzKQogICAgICAgICMgIFNjcmlwdAogICAgICAgIGVsaWYgbm9kZS5jbGFzc05hbWUgPT0gJ1NjcmlwdFRyYW5zZm9ybWVyQ29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUHJlUHJvY2Vzc2luZ1NjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1Bvc3RQcm9jZXNzaW5nU2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnTW9kZWxQcmVkaWN0U2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUHl0aG9uU2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUG9zdFB5dGhvblNjcmlwdENvbmZpZyc6CiAgICAgICAgICAgIHByb2Nlc3NpbmdTY3JpcHQgPSAnJwogICAgICAgICAgICBwcm9jZXNzaW5nU2NyaXB0ID0gKCcnKS5qb2luKG5vZGUuYXR0cmlidXRlc1snc2NyaXB0J10pCgogICAgICAgICAgICBwcm9jZXNzaW5nU2NyaXB0ID0gcHJvY2Vzc2luZ1NjcmlwdC5yZXBsYWNlKCdcclxcbicsICdccicpCiAgICAgICAgICAgIHByb2Nlc3NpbmdTY3JpcHQgPSBwcm9jZXNzaW5nU2NyaXB0LnJlcGxhY2UoJ1xuJywgJ1xcbicpCiAgICAgICAgICAgIHByb2Nlc3NpbmdTY3JpcHQgPSBwcm9jZXNzaW5nU2NyaXB0LnJlcGxhY2UoJ1xyJywgJ1xuJykKICAgICAgICAgICAgcHJvY2Vzc2luZ1NjcmlwdCA9IHByb2Nlc3NpbmdTY3JpcHQucmVwbGFjZSgnXzxpZD4nLCAnJykKICAgICAgICAgICAgcHJvY2Vzc2luZ1NjcmlwdCA9IHByb2Nlc3NpbmdTY3JpcHQucmVwbGFjZSgnPGlkPicsIG5vZGUuaWQpCiAgICAgICAgICAgIG5vZGVuYW1lID0gbm9kZS5hdHRyaWJ1dGVzLmdldCgnRnVuY3Rpb25OYW1lJywgJycpCgogICAgICAgICAgICAjIENoZWNraW5nIGlmIHRoZSBmdW5jdGlvbiBkZWZpbml0aW9uIGlzIGFscmVhZHkgZXhpc3RzIGluIHNjcmlwdAogICAgICAgICAgICBpZiBub2RlbmFtZSBpbiBmdW5jdGlvbl9mbGFnOgogICAgICAgICAgICAgICAgcHJpbnQoJ2V4aXRzJywgbm9kZW5hbWUpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBmdW5jdGlvbl9mbGFnW25vZGVuYW1lXSA9IDEKICAgICAgICAgICAgICAgIGZ1bmN0aW9ucy5hcHBlbmQocHJvY2Vzc2luZ1NjcmlwdCkKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShub2RlLmF0dHJpYnV0ZXNbJ3JlcXVpcmVtZW50cyddLCBzdHIpOgogICAgICAgICAgICAgICAgcmVxdWlyZW1lbnRzID0gcmVxdWlyZW1lbnRzICsgbm9kZS5hdHRyaWJ1dGVzWydyZXF1aXJlbWVudHMnXS5zcGxpdCgnLCcpCgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KCdub2RlIG5hbWUgaXM6ICcsIG5vZGUubmFtZSkKICAgICAgICAgICAgdHJhbnNmb3JtZXJTY3JpcHQgPSBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddWydzY3JpcHQnXQoKICAgICAgICAgICAgbm9kZW5hbWUgPSAnJy5qb2luKG5vZGUubmFtZS5zcGxpdCgnICcpKQoKICAgICAgICAgICAgdHJhbnNmb3JtZXJTY3JpcHQgPSB0cmFuc2Zvcm1lclNjcmlwdC5yZXBsYWNlKCdfPGlkPicsICcnKQogICAgICAgICAgICB0cmFuc2Zvcm1lclNjcmlwdCA9IHRyYW5zZm9ybWVyU2NyaXB0LnJlcGxhY2UoJzxpZD4nLCBub2RlLmlkKQoKICAgICAgICAgICAgIyBDaGVja2luZyBpZiB0aGUgZnVuY3Rpb24gZGVmaW5pdGlvbiBpcyBhbHJlYWR5IGV4aXN0cyBpbiBzY3JpcHQKICAgICAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgaW4gZnVuY3Rpb25fZmxhZzoKICAgICAgICAgICAgICAgIHByaW50KCdleGl0cycsIG5vZGUuY2xhc3NOYW1lKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgZnVuY3Rpb25fZmxhZ1tub2RlLmNsYXNzTmFtZV0gPSAxCiAgICAgICAgICAgICAgICBmdW5jdGlvbnMuYXBwZW5kKHRyYW5zZm9ybWVyU2NyaXB0KQoKICAgICAgICAgICAgaW1wb3J0X2xpbmVzID0gaW1wb3J0X2xpbmVzICsgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVsnaW1wb3J0cyddCiAgICAgICAgICAgIGlmIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ10uZ2V0KCdyZXF1aXJlbWVudHMnLCAnJykgIT0gJyc6CiAgICAgICAgICAgICAgICByZXF1aXJlbWVudHMgPSByZXF1aXJlbWVudHMgKyBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddLmdldCgncmVxdWlyZW1lbnRzJywgW10pCiAgICAgICAgICAgICAgICBwcmludChyZXF1aXJlbWVudHMpCgogICAgaW1wb3J0X2xpbmVzID0gW2wgZm9yIGwgaW4gc2V0KGltcG9ydF9saW5lcykgaWYgbCAhPSAnJ10KICAgIHJlcXVpcmVtZW50cyA9IFtsIGZvciBsIGluIHNldChyZXF1aXJlbWVudHMpIGlmIGwgIT0gJyddCiAgICBwaXBlbGluZUNvZGUgPSBiYXNlU2NyaXB0KCkKICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7aW1wb3J0c30nLCAoJ1xuJykuam9pbihpbXBvcnRfbGluZXMpKQogICAgaWYgbGVuKHJlcXVpcmVtZW50cykgPiAwOgogICAgICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7cmVxdWlyZW1lbnRzfScsICdcJycgKyAoJ1wnLFwnJykuam9pbihyZXF1aXJlbWVudHMpICsgJ1wnJykKICAgIGVsc2U6CiAgICAgICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3tyZXF1aXJlbWVudHN9JywgJycpCgogICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3twaXBlbGluZU5hbWV9JywgYXJnc0RpY3RbJ3BpcGVsaW5lTmFtZSddKQogICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3tmdW5jdGlvbnN9JywgKCdccicpLmpvaW4oZnVuY3Rpb25zKSkKICAgIGV4ZWN1dGlvbk9yZGVyID0gJ1xuJwoKICAgIGZvciBub2RlIGluIG9yZGVyZWRFbGVtZW50TGlzdDoKICAgICAgICBpbnB1dHMgPSBbXQoKICAgICAgICAjIEluaXRpYWxpemluZyBwb3NpdGlvbmluZyBvcmRlciBmb3IgaW5wdXQgZW50cmllcyBvZiBhIG5vZGUKICAgICAgICBwb3NpdGlvbl9vcmRlcmluZyA9IHsnTGVmdE1pZGRsZSc6IDAsICdUb3BDZW50ZXInOiAxLCAnUmlnaHRNaWRkbGUnOiAyLCAnQm90dG9tQ2VudGVyJzogM30KICAgICAgICBpbmRleF9vcmRlcmluZyA9IHswOiAnTGVmdE1pZGRsZScsIDE6ICdUb3BDZW50ZXInLCAyOiAnUmlnaHRNaWRkbGUnLCAzOiAnQm90dG9tQ2VudGVyJ30KICAgICAgICBvdXRwdXRzID0gW10KICAgICAgICBub2RlbmFtZSA9ICcnLmpvaW4obm9kZS5uYW1lLnNwbGl0KCcgJykpCiAgICAgICAgIyBub2RlbmFtZSA9ICdfJy5qb2luKG5vZGUubmFtZS5zdHJpcCgpLnNwbGl0KCcgJykpLmxvd2VyKCkKICAgICAgICBub2RlaWQgPSBub2RlLmlkCgogICAgICAgICMgaWYgbm9kZW5hbWUgPT0gJ0RhdGFzZXRFeHRyYWN0b3InOgogICAgICAgICMgICAgIG5vZGVuYW1lID0gbm9kZW5hbWUgKyBub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWyd0eXBlJ10KCiAgICAgICAgIyBpZiBub2RlbmFtZSA9PSAnUHl0aG9uU2NyaXB0JyBvciBub2RlbmFtZSA9PSAnUG9zdFB5dGhvblNjcmlwdCcgb3Igbm9kZW5hbWUgPT0gJ1Bvc3RQcm9jZXNzaW5nU2NyaXB0JyBvciBub2RlbmFtZSA9PSAnUHJlUHJvY2Vzc2luZ1NjcmlwdCc6CiAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgPT0gJ1NjcmlwdFRyYW5zZm9ybWVyQ29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUHJlUHJvY2Vzc2luZ1NjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1Bvc3RQcm9jZXNzaW5nU2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnTW9kZWxQcmVkaWN0U2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUHl0aG9uU2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUG9zdFB5dGhvblNjcmlwdENvbmZpZyc6CiAgICAgICAgICAgIG5vZGVuYW1lID0gbm9kZS5hdHRyaWJ1dGVzLmdldCgnRnVuY3Rpb25OYW1lJywgJycpCiAgICAgICAgICAgIG5vZGUuZm9ybWF0cyA9IHtwYXJhWyduYW1lJ10uc3BsaXQoJzonKVswXTogY29uKHBhcmFbJ25hbWUnXS5zcGxpdCgnOicpWy0xXSwgcGFyYVsndmFsdWUnXSkgZm9yIHBhcmEgaW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuYXR0cmlidXRlcy5nZXQoJ3BhcmFtcycsICcnKSBpZiBsZW4ocGFyYSkgPiAwfQogICAgICAgICAgICBub2RlLmF0dHJpYnV0ZXMgPSB7cGFyYVsnbmFtZSddLnNwbGl0KCc6JylbMF06IHBhcmFbJ3ZhbHVlJ10gZm9yIHBhcmEgaW4gbm9kZS5hdHRyaWJ1dGVzLmdldCgncGFyYW1zJywgJycpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBsZW4ocGFyYSkgPiAwfQoKICAgICAgICBmb3IgY29ubmVjdG9yIGluIG5vZGUuY29ubmVjdG9yczoKCiAgICAgICAgICAgIGlmIChjb25uZWN0b3JbJ3R5cGUnXSA9PSAndGFyZ2V0Jyk6CiAgICAgICAgICAgICAgICBpbnB1dHMuYXBwZW5kKHBvc2l0aW9uX29yZGVyaW5nW2Nvbm5lY3RvclsncG9zaXRpb24nXV0pCgogICAgICAgICAgICBpZiAoY29ubmVjdG9yWyd0eXBlJ10gPT0gJ3NvdXJjZScpOgogICAgICAgICAgICAgICAgb3V0cHV0cy5hcHBlbmQoJ2RzXycgKyBjb25uZWN0b3JbJ2VsZW1lbnRQb3NpdGlvbiddICsgJ18nICsgY29ubmVjdG9yWydlbGVtZW50SWQnXSkKCiAgICAgICAgIyBQb3NpdGlvbmluZyBpbnB1dCBlbnRyaWVzIGZvciBhIG5vZGUKICAgICAgICBpbnB1dHMuc29ydCgpCgogICAgICAgIGlucHV0cyA9IFsnZHNfJyArIGluZGV4X29yZGVyaW5nW3Bvc10gKyAnXycgKyBub2RlaWQgZm9yIHBvcyBpbiBpbnB1dHNdCgogICAgICAgICMgQWRkaW5nIHBhcmFtZXRlcnMgZm9yIHJlc3BlY3RpdmUgZnVuY3Rpb24gY2FsbAogICAgICAgIGRlZmF1bHRfcGFyYW1zID0gW10KICAgICAgIAoKICAgICAgICBpZiBub2RlLmNsYXNzTmFtZSA9PSAnQWRhcHRlck1ldGhvZENvbmZpZyc6CiAgICAgICAgICAgIGFjdHVhbF9wYXJhbXMgPSBub2RlLmF0dHJpYnV0ZXMKICAgICAgICAgICAgYWN0dWFsX3BhcmFtID0gbGlzdChhY3R1YWxfcGFyYW1zLmtleXMoKSkKICAgICAgICAgICAgc2NyaXB0X2JvZHkgPSB7cGFyYW06ICdfJy5qb2luKHJlLnNwbGl0KCdcc1xzKicsIHBhcmFtLnN0cmlwKCkpKSBmb3IgcGFyYW0gaW4gYWN0dWFsX3BhcmFtfQogICAgICAgICAgICBkZWZhdWx0X3BhcmFtcyA9IFtdCiAgICAgICAgICAgIGFjdHVhbF9mb3JtYXRzID0gbm9kZS5mb3JtYXRzCiAgICAgICAgICAgIE5vbmVUeXBlID0gdHlwZShOb25lKQoKICAgICAgICAgICAgIyBWYWx1ZSB0eXBlIGFzIFN0cmluZyBvciBOb24tc3RyaW5nIGRlcGVuZGluZyBvbiBmb3JtYXQgdHlwZQogICAgICAgICAgICBmb3Iga2V5LCB2YWwgaW4gc2NyaXB0X2JvZHkuaXRlbXMoKToKICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPTwnICsga2V5ICsgJz4nKQoKCgogICAgICAgICMgZWxpZiBub2RlLmNsYXNzTmFtZSA9PSAnUHl0aG9uU2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUG9zdFB5dGhvblNjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1ByZVByb2Nlc3NpbmdTY3JpcHRDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdQb3N0UHJvY2Vzc2luZ1NjcmlwdENvbmZpZyc6CiAgICAgICAgZWxpZiBub2RlLmNsYXNzTmFtZSA9PSAnU2NyaXB0VHJhbnNmb3JtZXJDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdQcmVQcm9jZXNzaW5nU2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUG9zdFByb2Nlc3NpbmdTY3JpcHRDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdNb2RlbFByZWRpY3RTY3JpcHRDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdQeXRob25TY3JpcHRDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdQb3N0UHl0aG9uU2NyaXB0Q29uZmlnJzoKICAgICAgICAgICAgYWN0dWFsX3BhcmFtcyA9IG5vZGUuYXR0cmlidXRlcwogICAgICAgICAgICBhY3R1YWxfcGFyYW0gPSBsaXN0KGFjdHVhbF9wYXJhbXMua2V5cygpKQogICAgICAgICAgICBzY3JpcHRfYm9keSA9IHtwYXJhbTogJ18nLmpvaW4ocmUuc3BsaXQoJ1xzXHMqJywgcGFyYW0ubG93ZXIoKS5zdHJpcCgpKSkgKyAnX3BhcmFtJyBmb3IgcGFyYW0gaW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsX3BhcmFtfQogICAgICAgICAgICBkZWZhdWx0X3BhcmFtcyA9IFtdCiAgICAgICAgICAgIGFjdHVhbF9mb3JtYXRzID0gbm9kZS5mb3JtYXRzCiAgICAgICAgICAgIE5vbmVUeXBlID0gdHlwZShOb25lKQogICAgICAgICAgICBwcmludChhY3R1YWxfZm9ybWF0cykKICAgICAgICAgICAgZm9yIGtleSwgdmFsIGluIHNjcmlwdF9ib2R5Lml0ZW1zKCk6CiAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICBpZiBrZXkgPT0gJ3NjcmlwdCc6CiAgICAgICAgICAgICAgICAgICAgcGFzcwoKICAgICAgICAgICAgICAgICMgVmFsdWUgdHlwZSBhcyBTdHJpbmcgb3IgTm9uLXN0cmluZyBkZXBlbmRpbmcgb24gZm9ybWF0IHR5cGUKICAgICAgICAgICAgICAgIGVsaWYgYWN0dWFsX2Zvcm1hdHNba2V5XSA9PSAndGV4dCc6CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9XCc8JyArIGtleSArICc+XCcnKQogICAgICAgICAgICAgICAgZWxpZiBhY3R1YWxfZm9ybWF0c1trZXldID09ICd0ZXh0YXJlYSc6CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9XCdcJ1wnPCcgKyBrZXkgKyAnPlwnXCdcJycpCiAgICAgICAgICAgICAgICBlbGlmIGFjdHVhbF9mb3JtYXRzW2tleV0gPT0gJ2ludGVnZXInOgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPTwnICsga2V5ICsgJz4nKQogICAgICAgICAgICAgICAgZWxpZiBhY3R1YWxfZm9ybWF0c1trZXldID09ICdib29sJzoKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X3BhcmFtcy5hcHBlbmQodmFsICsgJz08JyArIGtleSArICc+JykKICAgICAgICAgICAgICAgIGVsaWYgJ2Ryb3AnIGluIGFjdHVhbF9mb3JtYXRzW2tleV0ubG93ZXIoKTogICMgZm9yIGRyb3AgZG93biB2YWx1ZXMKICAgICAgICAgICAgICAgICAgICBpZiBhY3R1YWxfZm9ybWF0c1thY3R1YWxfZm9ybWF0c1trZXldXVswXS5pc2FscGhhKCk6CiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPVwnPCcgKyBrZXkgKyAnPlwnJykKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X3BhcmFtcy5hcHBlbmQodmFsICsgJz08JyArIGtleSArICc+JykKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9PCcgKyBrZXkgKyAnPicpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgYWN0dWFsX3BhcmFtcyA9IG5vZGUuYXR0cmlidXRlcwogICAgICAgICAgICBhY3R1YWxfcGFyYW0gPSBsaXN0KGFjdHVhbF9wYXJhbXMua2V5cygpKQogICAgICAgICAgICBzY3JpcHRfYm9keSA9IHtwYXJhbTogJ18nLmpvaW4ocmUuc3BsaXQoJ1xzXHMqJywgcGFyYW0ubG93ZXIoKS5zdHJpcCgpKSkgKyAnX3BhcmFtJyBmb3IgcGFyYW0gaW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsX3BhcmFtfQogICAgICAgICAgICBkZWZhdWx0X3BhcmFtcyA9IFtdCiAgICAgICAgICAgIGFjdHVhbF9mb3JtYXRzID0gbm9kZS5mb3JtYXRzCiAgICAgICAgICAgIE5vbmVUeXBlID0gdHlwZShOb25lKQogICAgICAgICAgICBwcmludChhY3R1YWxfZm9ybWF0cykKICAgICAgICAgICAgIyBWYWx1ZSB0eXBlIGFzIFN0cmluZyBvciBOb24tc3RyaW5nIGRlcGVuZGluZyBvbiBmb3JtYXQgdHlwZQogICAgICAgICAgICBmb3Iga2V5LCB2YWwgaW4gc2NyaXB0X2JvZHkuaXRlbXMoKToKICAgICAgICAgICAgICAgIGlmIGFjdHVhbF9mb3JtYXRzW2tleV0gPT0gJ3RleHQnOgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPVwnPCcgKyBrZXkgKyAnPlwnJykKICAgICAgICAgICAgICAgIGVsaWYgYWN0dWFsX2Zvcm1hdHNba2V5XSA9PSAndGV4dGFyZWEnOgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPVwnXCdcJzwnICsga2V5ICsgJz5cJ1wnXCcnKQogICAgICAgICAgICAgICAgZWxpZiBhY3R1YWxfZm9ybWF0c1trZXldID09ICdpbnRlZ2VyJyBvciBhY3R1YWxfZm9ybWF0c1trZXldID09ICdpbnQnOgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPTwnICsga2V5ICsgJz4nKQogICAgICAgICAgICAgICAgZWxpZiBhY3R1YWxfZm9ybWF0c1trZXldID09ICdib29sJzoKICAgICAgICAgICAgICAgICAgICAjIGtleSA9ICdUcnVlJyBpZiBrZXkgPT0gJ3RydWUnIGVsc2UgJ0ZhbHNlJwogICAgICAgICAgICAgICAgICAgIHByaW50KCdrZXknLCBrZXkpCiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9PCcgKyBrZXkgKyAnPicpCiAgICAgICAgICAgICAgICAjIGVsaWYgJ2Ryb3AnIGluIGFjdHVhbF9mb3JtYXRzW2tleV0ubG93ZXIoKTogICMgZm9yIGRyb3AgZG93biB2YWx1ZXMKICAgICAgICAgICAgICAgICMgICAgIGlmIGFjdHVhbF9mb3JtYXRzW2FjdHVhbF9mb3JtYXRzW2tleV1dWzBdLmlzYWxwaGEoKToKICAgICAgICAgICAgICAgICMgICAgICAgICBkZWZhdWx0X3BhcmFtcy5hcHBlbmQodmFsICsgJz1cJzwnICsga2V5ICsgJz5cJycpCiAgICAgICAgICAgICAgICAjICAgICBlbHNlOgogICAgICAgICAgICAgICAgIyAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPTwnICsga2V5ICsgJz4nKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X3BhcmFtcy5hcHBlbmQodmFsICsgJz08JyArIGtleSArICc+JykKCiAgICAgICAgIyBHZW5lcmF0aW5nIGZ1bmN0aW9uIGNhbGwKICAgICAgICBpZiBsZW4ob3V0cHV0cykgPiAwOgogICAgICAgICAgICBjYWxsID0gJyAgICAnICsgJywnLmpvaW4ob3V0cHV0cykgKyAnID0gJyArIG5vZGVuYW1lICsgJygnICsgJywnLmpvaW4oaW5wdXRzKQogICAgICAgICAgICBpZiBsZW4oZGVmYXVsdF9wYXJhbXMpID4gMDoKICAgICAgICAgICAgICAgIGNhbGwgKz0gJywgJyBpZiBsZW4oaW5wdXRzKSA+IDAgZWxzZSAnJwogICAgICAgICAgICAgICAgY2FsbCArPSAnLCcuam9pbihkZWZhdWx0X3BhcmFtcykKICAgICAgICAgICAgY2FsbCArPSAnKVxuJwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGNhbGwgPSAnICAgICcgKyBub2RlbmFtZSArICcoJyArICcsJy5qb2luKGlucHV0cykKICAgICAgICAgICAgaWYgbGVuKGRlZmF1bHRfcGFyYW1zKSA+IDA6CiAgICAgICAgICAgICAgICBjYWxsICs9ICcsICcgaWYgbGVuKGlucHV0cykgPiAwIGVsc2UgJycKICAgICAgICAgICAgICAgIGNhbGwgKz0gJywnLmpvaW4oZGVmYXVsdF9wYXJhbXMpCiAgICAgICAgICAgIGNhbGwgKz0gJylcbicKCiAgICAgICAgICAgICMgRmlsbGluZyB0aGUgdXNlciBpbnB1dHRlZCB2YWx1ZXMgaW4gZnVuY3Rpb24gY2FsbAogICAgICAgIGNhbGwgPSBmaWxsRGF0YW5vZGUobm9kZSwgY2FsbCkKCiAgICAgICAgZXhlY3V0aW9uT3JkZXIgPSBleGVjdXRpb25PcmRlciArIGNhbGwKCiAgICBwcmludCgnZXhlY3V0aW9uT3JkZXInLCBleGVjdXRpb25PcmRlcikKICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7ZXhlY3V0aW9uT3JkZXJ9JywgZXhlY3V0aW9uT3JkZXIpCiAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgnXHInLCAnXG4nKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oYXJnc0RpY3RbJ3NjcmlwdFBhdGgnXSwgYXJnc0RpY3RbJ3BpcGVsaW5lTmFtZSddICsgJ19nZW5lcmF0ZWRDb2RlLnB5JyksICd3JykgYXMgZjoKICAgICAgICBmLndyaXRlbGluZXMocGlwZWxpbmVDb2RlKQoKCmdlbmVyYXRlU2NyaXB0KHBpcGVsaW5lX2pzb24pCgpwcmludCgnQ29tcGxldGVkJykKCgoKCgoKCgoKCgoKCgoKCgoK","leo1311"
"LEACDGNR30505","LEACDGNR30505_leo1311.py","aW1wb3J0IG9zDQppbXBvcnQgc3lzDQppbXBvcnQgb3MucGF0aA0KaW1wb3J0IHJlDQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQ0KZnJvbSBjb2xsZWN0aW9ucyBpbXBvcnQgZGVmYXVsdGRpY3QNCg0KYXJndW1lbnRzID0gc3lzLmFyZ3YNCmFyZ3NEaWN0ID0ge30NCmZvciBhcmcgaW4gYXJndW1lbnRzOg0KICAgIHRyeToNCiAgICAgICAgYXJnc0RpY3RbYXJnLnNwbGl0KCc6JylbMF1dID0gKCc6Jykuam9pbihhcmcuc3BsaXQoJzonKVsxOl0pDQogICAgZXhjZXB0Og0KICAgICAgICBhID0gJ2Vycm9yJw0KDQpqc29uX2ZpbGUgPSBvcy5wYXRoLmpvaW4oYXJnc0RpY3RbJ3NjcmlwdFBhdGgnXSwgJ3BpcGVsaW5lLmpzb24nKQ0KDQp3aXRoIG9wZW4oanNvbl9maWxlKSBhcyBmOg0KICAgIGltcG9ydCBqc29uDQoNCiAgICBwaXBlbGluZV9qc29uID0ganNvbi5sb2FkKGYpDQoNCg0KIyBiYXNlIHNjcmlwdA0KZGVmIGJhc2VTY3JpcHQoKToNCiAgICByZXR1cm4gJycnDQppbXBvcnQgc3lzDQppbXBvcnQgc3VicHJvY2Vzcw0KcmVxdWlyZW1lbnRzID0gW3tyZXF1aXJlbWVudHN9XQ0KZm9yIG1vZHVsZSBpbiByZXF1aXJlbWVudHM6DQogICAgc3VicHJvY2Vzcy5ydW4oc3lzLmV4ZWN1dGFibGUgKyAnIC1tIHBpcCBpbnN0YWxsICcrIG1vZHVsZSArICcgLS1pbmRleC11cmwgaHR0cHM6Ly9zaHJleWFfYmFuc2FsQGFkLmluZm9zeXMuY29tOmNtVm1kR3R1T2pBeE9qRTNNakk1TXprMU1qQTZiMjVZYzNaVlJVWXhWMnRZUjFWRFMxcDNlbE5GTWt4UU9IcE1AaW5meWFydGlmYWN0b3J5Lmpmcm9nLmlvL2FydGlmYWN0b3J5L2FwaS9weXBpL3B5cGktcmVtb3RlL3NpbXBsZSAtLXRydXN0ZWQtaG9zdCBpbmZ5YXJ0aWZhY3RvcnkuamZyb2cuaW8nLHNoZWxsPVRydWUpDQoNCiMgZnJvbSBsZWFwdXRpbHMucHJvY2Vzc291dHB1dHMgaW1wb3J0IHByb2Nlc3NPdXRwdXQNCmltcG9ydCBvcw0KaW1wb3J0IGxvZ2dpbmcgYXMgbG9nZ2VyDQppbXBvcnQganNvbg0KDQpsb2dnZXIuYmFzaWNDb25maWcobGV2ZWw9bG9nZ2VyLklORk8sIGZvcm1hdD0nJShhc2N0aW1lKXMgLSAlKG1lc3NhZ2UpcycsIGRhdGVmbXQ9JyV5LyVtLyVkICVIOiVNOiVTJykNCg0Ke2ltcG9ydHN9DQoNCntmdW5jdGlvbnN9DQoNCmRlZiBleGVjdXRlUGlwZWxpbmUoKToNCntleGVjdXRpb25PcmRlcn0NCg0KaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoNCiAgICBleGVjdXRlUGlwZWxpbmUoKQ0KICAgIHByaW50KCdDb21wbGV0ZWQnKQ0KJycnDQojIGJhc2Ugc2NyaXB0IA0KZGVmIGJhc2VTY3JpcHRfZmxhc2soKToNCiAgICByZXR1cm4gJycnDQppbXBvcnQgc3lzDQppbXBvcnQgb3MNCmltcG9ydCBzdWJwcm9jZXNzDQojIG9zLmVudmlyb25bJ0hUVFBfUFJPWFknXT0naHR0cDovL2JscnByb3h5LmFkLmluZm9zeXMuY29tOjgwJw0KIyBvcy5lbnZpcm9uWydIVFRQU19QUk9YWSddPSdodHRwOi8vYmxycHJveHkuYWQuaW5mb3N5cy5jb206ODAnDQojIG9zLmVudmlyb25bJ2h0dHBfcHJveHknXT0naHR0cDovL2JscnByb3h5LmFkLmluZm9zeXMuY29tOjgwJw0KIyBvcy5lbnZpcm9uWydodHRwc19wcm94eSddPSdodHRwOi8vYmxycHJveHkuYWQuaW5mb3N5cy5jb206ODAnDQoNCiMgb3MuZW52aXJvblsnTk9fUFJPWFknXT0nMTAuKixsb2NhbGhvc3QsMC4wLjAuMCx2aWN0bHBhc3QwMiwwLjAuMC4wLDEyNy4wLjAuMSwxMC44MS43OC4xNDYsdmljdGNiZmMxNjAsMTAuMTU2Ljg5LjgsMTAuMjI0LjIxNi4xMCwxMC42Ni4xNS4xMDAnDQpyZXF1aXJlbWVudHMgPSBbe3JlcXVpcmVtZW50c31dDQpmb3IgbW9kdWxlIGluIHJlcXVpcmVtZW50czoNCiAgICBzdWJwcm9jZXNzLnJ1bihzeXMuZXhlY3V0YWJsZSArICcgLW0gcGlwIGluc3RhbGwgJysgbW9kdWxlICsgJyAtLWluZGV4LXVybCBodHRwczovL3NocmV5YV9iYW5zYWxAYWQuaW5mb3N5cy5jb206Y21WbWRHdHVPakF4T2pFM01qSTVNemsxTWpBNmIyNVljM1pWUlVZeFYydFlSMVZEUzFwM2VsTkZNa3hRT0hwTUBpbmZ5YXJ0aWZhY3RvcnkuamZyb2cuaW8vYXJ0aWZhY3RvcnkvYXBpL3B5cGkvcHlwaS1yZW1vdGUvc2ltcGxlIC0tdHJ1c3RlZC1ob3N0IGluZnlhcnRpZmFjdG9yeS5qZnJvZy5pbycsc2hlbGw9VHJ1ZSkNCmltcG9ydCBvcw0KaW1wb3J0IGxvZ2dpbmcgYXMgbG9nZ2VyDQoNCntpbXBvcnRzfQ0KDQp7ZnVuY3Rpb25zfQ0KDQpkZWYgZXhlY3V0ZVBpcGVsaW5lKCk6DQp7ZXhlY3V0aW9uT3JkZXJ9DQoNCmRlZiBleGVjdXRlKCk6DQp7ZXhlY3V0ZWZsYXNrfQ0KDQoNCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6DQogICAgZXhlY3V0ZSgpDQogICAgcHJpbnQoJ0NvbXBsZXRlZCcpDQonJycNCg0KDQojIE5vZGUNCmNsYXNzIEdyYXBoOg0KICAgIGRlZiBfX2luaXRfXyhzZWxmLCB2ZXJ0aWNlcyk6DQogICAgICAgIHNlbGYuZ3JhcGggPSBkZWZhdWx0ZGljdChsaXN0KQ0KICAgICAgICBzZWxmLlYgPSB2ZXJ0aWNlcw0KDQogICAgZGVmIGFkZEVkZ2Uoc2VsZiwgdSwgdik6DQogICAgICAgIHNlbGYuZ3JhcGhbdV0uYXBwZW5kKHYpDQoNCiAgICBkZWYgdG9wb2xvZ2ljYWxTb3J0VXRpbChzZWxmLCB2LCB2aXNpdGVkLCBzdGFjayk6DQogICAgICAgIHZpc2l0ZWRbdl0gPSBUcnVlDQogICAgICAgIGZvciBpIGluIHNlbGYuZ3JhcGhbdl06DQogICAgICAgICAgICBpZiB2aXNpdGVkW2ldID09IEZhbHNlOg0KICAgICAgICAgICAgICAgIHNlbGYudG9wb2xvZ2ljYWxTb3J0VXRpbChpLCB2aXNpdGVkLCBzdGFjaykNCiAgICAgICAgc3RhY2suYXBwZW5kKHYpDQoNCiAgICBkZWYgdG9wb2xvZ2ljYWxTb3J0KHNlbGYpOg0KICAgICAgICB2aXNpdGVkID0gW0ZhbHNlXSAqIHNlbGYuVg0KICAgICAgICBzdGFjayA9IFtdDQoNCiAgICAgICAgZm9yIGkgaW4gcmFuZ2Uoc2VsZi5WKToNCiAgICAgICAgICAgIGlmIHZpc2l0ZWRbaV0gPT0gRmFsc2U6DQogICAgICAgICAgICAgICAgc2VsZi50b3BvbG9naWNhbFNvcnRVdGlsKGksIHZpc2l0ZWQsIHN0YWNrKQ0KDQogICAgICAgIHJldHVybiBzdGFja1s6Oi0xXQ0KDQoNCmNsYXNzIE5vZGU6DQogICAgZGVmIF9faW5pdF9fKHNlbGYsIGpzb25PYmplY3QpOg0KICAgICAgICBzZWxmLmxldmVsID0gMDsNCiAgICAgICAgc2VsZi5pZCA9IGpzb25PYmplY3QuZ2V0KCdpZCcsICcnKTsNCiAgICAgICAgc2VsZi5uYW1lID0ganNvbk9iamVjdC5nZXQoJ25hbWUnLCAnJyk7DQogICAgICAgIHNlbGYuY2xhc3NOYW1lID0ganNvbk9iamVjdC5nZXQoJ2NsYXNzbmFtZScsIHNlbGYubmFtZSArICdDb25maWcnKTsNCiAgICAgICAgc2VsZi5jYXRlZ29yeSA9IGpzb25PYmplY3QuZ2V0KCdjYXRlZ29yeScsICcnKTsNCiAgICAgICAgc2VsZi5hdHRyaWJ1dGVzID0ganNvbk9iamVjdC5nZXQoJ2F0dHJpYnV0ZXMnLCAnJyk7DQogICAgICAgIHNlbGYuY29ubmVjdG9ycyA9IGpzb25PYmplY3QuZ2V0KCdjb25uZWN0b3JzJywgJycpOw0KICAgICAgICBzZWxmLnBhcmVudCA9IE5vbmUNCiAgICAgICAgc2VsZi5lbWl0c091dHB1dCA9IGpzb25PYmplY3QuZ2V0KCdhdHRyaWJ1dGVzJywge30pLmdldCgnZW1pdHNPdXRwdXQnLCBGYWxzZSkNCiAgICAgICAgc2VsZi5mb3JtYXRzID0ganNvbk9iamVjdC5nZXQoJ2Zvcm1hdHMnLCAnJyk7DQoNCiAgICAjIEJ1aWxkaW5nIERBRyBvcmRlcg0KDQoNCmRlZiBidWlsZERBR09yZGVyKGVsZW1lbnRzKToNCiAgICAjIGdldCBhbGwgZWxlbWVudHMgZnJvbSBqc29uDQogICAgZWxlbWVudGxpc3QgPSBbXQ0KICAgIG5vZGVsaXN0ID0gW10NCiAgICBmb3IgZSBpbiBlbGVtZW50czoNCiAgICAgICAgbm9kZSA9IE5vZGUoZSkNCiAgICAgICAgbm9kZWxpc3QuYXBwZW5kKG5vZGUpDQoNCiAgICBpZF90b19udW0gPSB7fQ0KICAgIG51bV90b19pZCA9IHt9DQogICAgaWRfdG9fbm9kZSA9IHt9DQogICAgZm9yIGksIGVsZSBpbiBlbnVtZXJhdGUobm9kZWxpc3QpOg0KICAgICAgICBpZF90b19udW1bZWxlLmlkXSA9IGkNCiAgICAgICAgbnVtX3RvX2lkW2ldID0gZWxlLmlkDQogICAgICAgIGlkX3RvX25vZGVbZWxlLmlkXSA9IGVsZQ0KDQogICAgdmVydGV4ID0gbGVuKG5vZGVsaXN0KQ0KICAgIGcgPSBHcmFwaCh2ZXJ0ZXgpDQoNCiAgICBmb3IgaXRlbSBpbiBub2RlbGlzdDoNCiAgICAgICAgcGFyZW50aWQgPSAnJw0KICAgICAgICBjaGlsZGlkID0gJycNCiAgICAgICAgZm9yIGNvbm5lY3RvciBpbiBpdGVtLmNvbm5lY3RvcnM6DQogICAgICAgICAgICBpZiAoY29ubmVjdG9yWyd0eXBlJ10gPT0gJ3RhcmdldCcpOg0KICAgICAgICAgICAgICAgIHBhcmVudGlkID0gY29ubmVjdG9yWydlbGVtZW50SWQnXQ0KICAgICAgICAgICAgICAgIGcuYWRkRWRnZShpZF90b19udW1bcGFyZW50aWRdLCBpZF90b19udW1baXRlbS5pZF0pDQoNCiAgICAgICAgICAgIGlmIChjb25uZWN0b3JbJ3R5cGUnXSA9PSAnc291cmNlJyk6DQogICAgICAgICAgICAgICAgY2hpbGRpZCA9IGNvbm5lY3RvclsnZWxlbWVudElkJ10NCiAgICAgICAgICAgICAgICBnLmFkZEVkZ2UoaWRfdG9fbnVtW2l0ZW0uaWRdLCBpZF90b19udW1bY2hpbGRpZF0pDQoNCiAgICBzdGFjayA9IGcudG9wb2xvZ2ljYWxTb3J0KCkNCiAgICBzdGFjayA9IFtudW1fdG9faWRbbnVtXSBmb3IgbnVtIGluIHN0YWNrXQ0KDQogICAgZm9yIGlkIGluIHN0YWNrOg0KICAgICAgICBlbGVtZW50bGlzdC5hcHBlbmQoaWRfdG9fbm9kZVtpZF0pDQogICAgcmV0dXJuIGVsZW1lbnRsaXN0DQoNCg0KIyBmaWxsIGFsbCBqb2IgcGFyYW1zIGluIHBpcGVsaW5lSnNvbg0KZGVmIGZpbGxKb2JQYXJhbXMocGlwZWxpbmVKc29uKToNCiAgICBvcmdhbml6YXRpb24gPSBwaXBlbGluZUpzb24uZ2V0KCdvcmcnLCAnSU5GT1NZUycpDQoNCiAgICAjIFNldCBhbGwgSm9iIFBhcmFtcw0KICAgIGpvYlBhcmFtcyA9IHt9DQogICAgam9iUGFyYW1zWydOZXh0RXhlY3V0aW9uVGltZSddID0gcGlwZWxpbmVKc29uLmdldCgnTmV4dF9FeGVjdXRpb25fVGltZScsICcnKQ0KICAgIGpvYlBhcmFtc1snQ3VycmVudEV4ZWN1dGlvblRpbWUnXSA9IHBpcGVsaW5lSnNvbi5nZXQoJ0N1cnJlbnRfRXhlY3V0aW9uX1RpbWUnLCAnJykNCiAgICBqb2JQYXJhbXNbJ0xhc3RTdWNjZXNzZnVsRXhlY3V0aW9uVGltZSddID0gcGlwZWxpbmVKc29uLmdldCgnTGFzdF9TdWNjZXNzZnVsX0V4ZWN1dGlvbl9UaW1lJywgJycpDQogICAgam9iUGFyYW1zWydMYXN0RXhlY3V0aW9uVGltZSddID0gcGlwZWxpbmVKc29uLmdldCgnTGFzdF9FeGVjdXRpb25fVGltZScsICcnKQ0KDQogICAgcmVnRXggPSAnPGpvYlBhcmFtczooW1x3XC4tXSspOyguKj8pPicNCiAgICBwaXBlbGluZUpzb25MaXN0ID0gW10NCg0KICAgIGZvciBpdGVtIGluIHBpcGVsaW5lSnNvblsnZWxlbWVudHMnXToNCiAgICAgICAgaXRlbVRleHQgPSBqc29uLmR1bXBzKGl0ZW0pDQogICAgICAgICMgcmVwbGFjZSBPcmcNCiAgICAgICAgaXRlbVRleHQgPSBpdGVtVGV4dC5yZXBsYWNlKCc8am9iUGFyYW1zOm9yZ05hbWU+Jywgb3JnYW5pemF0aW9uKQ0KICAgICAgICAjIHJlcGxhY2UgdGltZXN0YW1wcw0KICAgICAgICBwYXJhbXMgPSByZS5maW5kYWxsKHJlZ0V4LCBpdGVtVGV4dCkNCiAgICAgICAgZm9yIHAgaW4gcGFyYW1zOg0KICAgICAgICAgICAgdGV4dFRvcmVwbGFjZSA9ICc8am9iUGFyYW1zOnswfTt7MX0+Jy5mb3JtYXQocFswXSwgcFsxXSkNCiAgICAgICAgICAgIGlmIGpvYlBhcmFtc1twWzBdXSAhPSAnJyBhbmQgam9iUGFyYW1zW3BbMF1dICE9IC0xOg0KICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgZHQgPSBkYXRldGltZS5zdHJwdGltZShqb2JQYXJhbXNbcFswXV0sICclYSwgJWQgJWIgJVkgJUg6JU06JVMnKQ0KICAgICAgICAgICAgICAgICAgICByZXBsYWNlV2l0aCA9IGRhdGV0aW1lLnN0cmZ0aW1lKGR0LCBwWzFdKQ0KICAgICAgICAgICAgICAgICAgICBpdGVtVGV4dCA9IGl0ZW1UZXh0LnJlcGxhY2UodGV4dFRvcmVwbGFjZSwgcmVwbGFjZVdpdGgpDQogICAgICAgICAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgICAgICAgICBhID0gMQ0KICAgICAgICBwaXBlbGluZUpzb25MaXN0LmFwcGVuZChqc29uLmxvYWRzKGl0ZW1UZXh0KSkNCiAgICByZXR1cm4gcGlwZWxpbmVKc29uTGlzdA0KDQoNCiMgQnVpbGQgREFHIG9mIGFsbCB0aGUgbm9kZXMNCiMgUmV0dXJucyB0aGUgbGlzdCBvZiBlbGVtZW50cyBpbiBvcmRlcg0KZGVmIGJ1aWxkREFHKHBpcGVsaW5lSnNvbkxpc3QpOg0KICAgIG9yZGVyZWRFbGVtZW50TGlzdCA9IGJ1aWxkREFHT3JkZXIocGlwZWxpbmVKc29uTGlzdCkgICMgREFHLmJ1aWxkKHBpcGVsaW5lSnNvbkxpc3QpOw0KICAgIG9yZGVyZWRFbGVtZW50TGlzdCA9IGxpc3QoZmlsdGVyKE5vbmUsIG9yZGVyZWRFbGVtZW50TGlzdCkpDQogICAgcmV0dXJuIG9yZGVyZWRFbGVtZW50TGlzdA0KDQoNCiMgZmlsbCBub2RlIGF0dHJpYnV0ZXMgd2l0aCBBY3R1YWwgRGF0YQ0KZGVmIGZpbGxEYXRhbm9kZShub2RlLCBzY3JpcHQpOg0KICAgIGF0dHJpYnV0ZXMgPSByZS5maW5kYWxsKCdcPCguKj8pXD4nLCBzY3JpcHQpDQoNCiAgICBmb3IgaXRlbSBpbiBhdHRyaWJ1dGVzOg0KDQogICAgICAgIGlucHV0X3NwbGl0ID0gaXRlbS5zcGxpdCgnLicpDQogICAgICAgIGtleXMgPSAnJy5qb2luKFsnJydbJ3swfSddJycnLmZvcm1hdChrKSBmb3IgayBpbiBpbnB1dF9zcGxpdF0pDQoNCiAgICAgICAgdHJ5Og0KDQogICAgICAgICAgICB2YWx1ZSA9IGV2YWwoJycnbm9kZS5hdHRyaWJ1dGVzJycnICsgJycnezB9JycnLmZvcm1hdChrZXlzKSkNCiAgICAgICAgICAgIGlmIG5vZGUuY2xhc3NOYW1lICE9ICdEYXRhc2V0RXh0cmFjdG9yQ29uZmlnJyBhbmQgbm9kZS5jbGFzc05hbWUgIT0gJ0RhdGFzZXRMb2FkZXJDb25maWcnOg0KICAgICAgICAgICAgICAgIGZvcm0gPSBldmFsKCcnJ25vZGUuZm9ybWF0cycnJyArICcnJ3swfScnJy5mb3JtYXQoa2V5cykpDQoNCiAgICAgICAgICAgICAgICBpZiBmb3JtID09ICdib29sJzoNCiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAnVHJ1ZScgaWYgdmFsdWUgPT0gJ3RydWUnIGVsc2UgJ0ZhbHNlJw0KDQogICAgICAgICAgICBzY3JpcHQgPSBzY3JpcHQucmVwbGFjZSgnPCcgKyBpdGVtICsgJz4nLCBzdHIodmFsdWUpKQ0KDQoNCiAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgcHJpbnQoJ2luIEV4Y2VwdCcpDQogICAgICAgICAgICBzY3JpcHQgPSBzY3JpcHQucmVwbGFjZSgnPCcgKyBpdGVtICsgJz4nLCAnJykNCg0KICAgIHJldHVybiBzY3JpcHQNCg0KDQoNCmRlZiBnZW5lcmF0ZVNjcmlwdChwaXBlbGluZUpzb24pOg0KICAgICMgZm9ybWF0IHR5cGUgZm9yIHByZS1wcm9jZXNzaW5nIG5vZGUvcHl0aG9uLXNjcmlwdCBub2RlDQogICAgZGVmIGNvbihzLCB0KToNCiAgICAgICAgaWYgcyA9PSAnaW50JzoNCiAgICAgICAgICAgIHJldHVybiAnaW50ZWdlcicNCiAgICAgICAgZWxpZiBzID09ICdzdHInOg0KICAgICAgICAgICAgcmV0dXJuICd0ZXh0Jw0KICAgICAgICBlbGlmIHMgPT0gJ2xpc3QnOg0KICAgICAgICAgICAgcmV0dXJuICdsaXN0Jw0KICAgICAgICBlbGlmIHMgPT0gJ2Jvb2wnOg0KICAgICAgICAgICAgcmV0dXJuICdib29sJw0KICAgICAgICBlbGlmIG5vdCBzeXMucGxhdGZvcm0uc3RhcnRzd2l0aCgnamF2YScpIGFuZCBpc2luc3RhbmNlKHQsIGludCk6DQogICAgICAgICAgICByZXR1cm4gJ2ludGVnZXInDQogICAgICAgIGVsaWYgbm90IGlzaW5zdGFuY2UodCwgYm9vbCkgYW5kICBub3QgaXNpbnN0YW5jZSh0LCBpbnQpICBhbmQgc3lzLnBsYXRmb3JtLnN0YXJ0c3dpdGgoJ2phdmEnKSBhbmQgaXNpbnN0YW5jZSh0LmVuY29kZSgndXRmLTgnKSwgc3RyKToNCiAgICAgICAgICAgIHJldHVybiAndGV4dCcNCiAgICAgICAgZWxpZiBub3Qgc3lzLnBsYXRmb3JtLnN0YXJ0c3dpdGgoJ2phdmEnKSBhbmQgaXNpbnN0YW5jZSh0LCBzdHIpOg0KICAgICAgICAgICAgcmV0dXJuICd0ZXh0Jw0KICAgICAgICBlbGlmIG5vdCBpc2luc3RhbmNlKHQsIGJvb2wpIGFuZCAgbm90IGlzaW5zdGFuY2UodCwgaW50KSAgYW5kIHN5cy5wbGF0Zm9ybS5zdGFydHN3aXRoKCdqYXZhJykgYW5kIGlzaW5zdGFuY2UodCwgaW50KToNCiAgICAgICAgICAgIHJldHVybiAnaW50ZWdlcicNCiAgICAgICAgDQogICAgICAgIHJldHVybiAnYm9vbCcNCg0KICAgIHBpcGVsaW5lRWxlbWVudHMgPSBmaWxsSm9iUGFyYW1zKHBpcGVsaW5lSnNvbikNCiAgICBvcmRlcmVkRWxlbWVudExpc3QgPSBidWlsZERBRyhwaXBlbGluZUVsZW1lbnRzKQ0KICAgIHJlcXVpcmVtZW50cyA9IFtdDQogICAgaW1wb3J0X2xpbmVzID0gW10NCiAgICBmdW5jdGlvbnMgPSBbXQ0KICAgIGRhdGFzZXRfZXh0cmFjdG9yX3BhcmFtID0ge30NCiAgICBkYXRhc2V0X2xvYWRlcl9wYXJhbXMgPSBbXQ0KICAgIGV4dHJhY3RzY3JpcHRzdWZmaXggPSAnJw0KICAgIGZ1bmN0aW9uX2ZsYWcgPSB7fQ0KICAgIGZ1bmN0aW9uX2ZsYWcgPSB7fQ0KICAgIGZsYXNrX2ZsYWcgPSBGYWxzZQ0KICAgIGZsYXNrX2NhbGwgPSAnJw0KDQogICAgIyBTY3JpcHQgZ2VuZXJhdGlvbg0KICAgIGZvciBub2RlIGluIG9yZGVyZWRFbGVtZW50TGlzdDoNCg0KICAgICAgICAjIEV4dHJhY3RvcnMNCiAgICAgICAgZWxlbWVudCA9IG5leHQoZSBmb3IgZSBpbiBwaXBlbGluZUpzb25bJ2VsZW1lbnRzJ10gaWYgZVsnaWQnXSA9PSBub2RlLmlkKQ0KICAgICAgICBpZiBub2RlLmNsYXNzTmFtZSA9PSAnRmxhc2tBUFAnOg0KICAgICAgICAgICAgZmxhc2tfZmxhZyA9IFRydWUNCiAgICAgICAgICAgIHByb2Nlc3NpbmdTY3JpcHQgPSAnJw0KICAgICAgICAgICAgcHJvY2Vzc2luZ1NjcmlwdCA9ICgnJykuam9pbihub2RlLmF0dHJpYnV0ZXNbJ3NjcmlwdCddKQ0KICAgICAgICAgICAgZnVuY3Rpb25zLmFwcGVuZChwcm9jZXNzaW5nU2NyaXB0KQ0KDQogICAgICAgIGlmIG5vZGUuY2xhc3NOYW1lID09ICdBZGFwdGVyTWV0aG9kQ29uZmlnJzoNCiAgICAgICAgICAgIHByaW50KCdub2RlIG5hbWUgaXM6ICcsIG5vZGUubmFtZSkNCiAgICAgICAgICAgIHRyYW5zZm9ybWVyU2NyaXB0ID0gZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVsnc2NyaXB0J10NCg0KICAgICAgICAgICAgbm9kZW5hbWUgPSAnJy5qb2luKG5vZGUubmFtZS5zcGxpdCgnICcpKQ0KDQogICAgICAgICAgICB0cmFuc2Zvcm1lclNjcmlwdCA9IHRyYW5zZm9ybWVyU2NyaXB0LnJlcGxhY2UoJ188aWQ+JywgJycpDQogICAgICAgICAgICB0cmFuc2Zvcm1lclNjcmlwdCA9IHRyYW5zZm9ybWVyU2NyaXB0LnJlcGxhY2UoJzxpZD4nLCBub2RlLmlkKQ0KDQogICAgICAgICAgICAjIENoZWNraW5nIGlmIHRoZSBmdW5jdGlvbiBkZWZpbml0aW9uIGlzIGFscmVhZHkgZXhpc3RzIGluIHNjcmlwdA0KICAgICAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgaW4gZnVuY3Rpb25fZmxhZzoNCiAgICAgICAgICAgICAgICBwcmludCgnZXhpdHMnLCBub2RlLmNsYXNzTmFtZSkNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgZnVuY3Rpb25fZmxhZ1tub2RlLmNsYXNzTmFtZV0gPSAxDQogICAgICAgICAgICAgICAgZnVuY3Rpb25zLmFwcGVuZCh0cmFuc2Zvcm1lclNjcmlwdCkNCg0KICAgICAgICAgICAgaW1wb3J0X2xpbmVzID0gaW1wb3J0X2xpbmVzICsgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVsnaW1wb3J0cyddDQogICAgICAgICAgICBpZiBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddLmdldCgncmVxdWlyZW1lbnRzJywgJycpICE9ICcnOg0KICAgICAgICAgICAgICAgIHJlcXVpcmVtZW50cyA9IHJlcXVpcmVtZW50cyArIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ10uZ2V0KCdyZXF1aXJlbWVudHMnLCBbXSkNCiAgICAgICAgICAgICAgICBwcmludChyZXF1aXJlbWVudHMpDQogICAgICAgICMgIFNjcmlwdA0KICAgICAgICBlbGlmIG5vZGUuY2xhc3NOYW1lID09ICdTY3JpcHRUcmFuc2Zvcm1lckNvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1ByZVByb2Nlc3NpbmdTY3JpcHRDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdQb3N0UHJvY2Vzc2luZ1NjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ01vZGVsUHJlZGljdFNjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1B5dGhvblNjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1Bvc3RQeXRob25TY3JpcHRDb25maWcnOg0KICAgICAgICAgICAgcHJvY2Vzc2luZ1NjcmlwdCA9ICcnDQogICAgICAgICAgICBwcm9jZXNzaW5nU2NyaXB0ID0gKCcnKS5qb2luKG5vZGUuYXR0cmlidXRlc1snc2NyaXB0J10pDQoNCiAgICAgICAgICAgIHByb2Nlc3NpbmdTY3JpcHQgPSBwcm9jZXNzaW5nU2NyaXB0LnJlcGxhY2UoJ1xyXFxuJywgJ1xyJykNCiAgICAgICAgICAgIHByb2Nlc3NpbmdTY3JpcHQgPSBwcm9jZXNzaW5nU2NyaXB0LnJlcGxhY2UoJ1xuJywgJ1xcbicpDQogICAgICAgICAgICBwcm9jZXNzaW5nU2NyaXB0ID0gcHJvY2Vzc2luZ1NjcmlwdC5yZXBsYWNlKCdccicsICdcbicpDQogICAgICAgICAgICBwcm9jZXNzaW5nU2NyaXB0ID0gcHJvY2Vzc2luZ1NjcmlwdC5yZXBsYWNlKCdfPGlkPicsICcnKQ0KICAgICAgICAgICAgcHJvY2Vzc2luZ1NjcmlwdCA9IHByb2Nlc3NpbmdTY3JpcHQucmVwbGFjZSgnPGlkPicsIG5vZGUuaWQpDQogICAgICAgICAgICBub2RlbmFtZSA9IG5vZGUuYXR0cmlidXRlcy5nZXQoJ0Z1bmN0aW9uTmFtZScsICcnKQ0KDQogICAgICAgICAgICAjIENoZWNraW5nIGlmIHRoZSBmdW5jdGlvbiBkZWZpbml0aW9uIGlzIGFscmVhZHkgZXhpc3RzIGluIHNjcmlwdA0KICAgICAgICAgICAgaWYgbm9kZW5hbWUgaW4gZnVuY3Rpb25fZmxhZzoNCiAgICAgICAgICAgICAgICBwcmludCgnZXhpdHMnLCBub2RlbmFtZSkNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgZnVuY3Rpb25fZmxhZ1tub2RlbmFtZV0gPSAxDQogICAgICAgICAgICAgICAgZnVuY3Rpb25zLmFwcGVuZChwcm9jZXNzaW5nU2NyaXB0KQ0KICAgICAgICAgICAgI2lmIGlzaW5zdGFuY2Uobm9kZS5hdHRyaWJ1dGVzWydyZXF1aXJlbWVudHMnXSwgc3RyKToNCiAgICAgICAgICAgIHJlcXVpcmVtZW50cyA9IHJlcXVpcmVtZW50cyArIG5vZGUuYXR0cmlidXRlc1sncmVxdWlyZW1lbnRzJ10uc3BsaXQoJywnKQ0KDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBwcmludCgnbm9kZSBuYW1lIGlzOiAnLCBub2RlLm5hbWUpDQogICAgICAgICAgICB0cmFuc2Zvcm1lclNjcmlwdCA9IGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bJ3NjcmlwdCddDQoNCiAgICAgICAgICAgIG5vZGVuYW1lID0gJycuam9pbihub2RlLm5hbWUuc3BsaXQoJyAnKSkNCg0KICAgICAgICAgICAgdHJhbnNmb3JtZXJTY3JpcHQgPSB0cmFuc2Zvcm1lclNjcmlwdC5yZXBsYWNlKCdfPGlkPicsICcnKQ0KICAgICAgICAgICAgdHJhbnNmb3JtZXJTY3JpcHQgPSB0cmFuc2Zvcm1lclNjcmlwdC5yZXBsYWNlKCc8aWQ+Jywgbm9kZS5pZCkNCg0KICAgICAgICAgICAgIyBDaGVja2luZyBpZiB0aGUgZnVuY3Rpb24gZGVmaW5pdGlvbiBpcyBhbHJlYWR5IGV4aXN0cyBpbiBzY3JpcHQNCiAgICAgICAgICAgIGlmIG5vZGUuY2xhc3NOYW1lIGluIGZ1bmN0aW9uX2ZsYWc6DQogICAgICAgICAgICAgICAgcHJpbnQoJ2V4aXRzJywgbm9kZS5jbGFzc05hbWUpDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIGZ1bmN0aW9uX2ZsYWdbbm9kZS5jbGFzc05hbWVdID0gMQ0KICAgICAgICAgICAgICAgIGZ1bmN0aW9ucy5hcHBlbmQodHJhbnNmb3JtZXJTY3JpcHQpDQoNCiAgICAgICAgICAgIGltcG9ydF9saW5lcyA9IGltcG9ydF9saW5lcyArIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bJ2ltcG9ydHMnXQ0KICAgICAgICAgICAgaWYgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXS5nZXQoJ3JlcXVpcmVtZW50cycsICcnKSAhPSAnJzoNCiAgICAgICAgICAgICAgICByZXF1aXJlbWVudHMgPSByZXF1aXJlbWVudHMgKyBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddLmdldCgncmVxdWlyZW1lbnRzJywgW10pDQogICAgICAgICAgICAgICAgcHJpbnQocmVxdWlyZW1lbnRzKQ0KDQogICAgaW1wb3J0X2xpbmVzID0gW2wgZm9yIGwgaW4gc2V0KGltcG9ydF9saW5lcykgaWYgbCAhPSAnJ10NCiAgICByZXF1aXJlbWVudHMgPSBbbCBmb3IgbCBpbiBzZXQocmVxdWlyZW1lbnRzKSBpZiBsICE9ICcnXQ0KICAgIGlmIGZsYXNrX2ZsYWc6DQogICAgICAgIHBpcGVsaW5lQ29kZSA9IGJhc2VTY3JpcHRfZmxhc2soKQ0KICAgIGVsc2U6DQogICAgICAgIHBpcGVsaW5lQ29kZSA9IGJhc2VTY3JpcHQoKQ0KICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7aW1wb3J0c30nLCAoJ1xuJykuam9pbihpbXBvcnRfbGluZXMpKQ0KICAgIGlmIGxlbihyZXF1aXJlbWVudHMpID4gMDoNCiAgICAgICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3tyZXF1aXJlbWVudHN9JywgJ1wnJyArICgnXCcsXCcnKS5qb2luKHJlcXVpcmVtZW50cykgKyAnXCcnKQ0KICAgIGVsc2U6DQogICAgICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7cmVxdWlyZW1lbnRzfScsICcnKQ0KDQogICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3twaXBlbGluZU5hbWV9JywgYXJnc0RpY3RbJ3BpcGVsaW5lTmFtZSddKQ0KICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7ZnVuY3Rpb25zfScsICgnXHInKS5qb2luKGZ1bmN0aW9ucykpDQogICAgZXhlY3V0aW9uT3JkZXIgPSAnXG4nDQoNCiAgICBmb3Igbm9kZSBpbiBvcmRlcmVkRWxlbWVudExpc3Q6DQogICAgICAgIGlucHV0cyA9IFtdDQoNCiAgICAgICAgIyBJbml0aWFsaXppbmcgcG9zaXRpb25pbmcgb3JkZXIgZm9yIGlucHV0IGVudHJpZXMgb2YgYSBub2RlDQogICAgICAgIHBvc2l0aW9uX29yZGVyaW5nID0geydMZWZ0TWlkZGxlJzogMCwgJ1RvcENlbnRlcic6IDEsICdSaWdodE1pZGRsZSc6IDIsICdCb3R0b21DZW50ZXInOiAzfQ0KICAgICAgICBpbmRleF9vcmRlcmluZyA9IHswOiAnTGVmdE1pZGRsZScsIDE6ICdUb3BDZW50ZXInLCAyOiAnUmlnaHRNaWRkbGUnLCAzOiAnQm90dG9tQ2VudGVyJ30NCiAgICAgICAgb3V0cHV0cyA9IFtdDQogICAgICAgIG5vZGVuYW1lID0gJycuam9pbihub2RlLm5hbWUuc3BsaXQoJyAnKSkNCiAgICAgICAgIyBub2RlbmFtZSA9ICdfJy5qb2luKG5vZGUubmFtZS5zdHJpcCgpLnNwbGl0KCcgJykpLmxvd2VyKCkNCiAgICAgICAgbm9kZWlkID0gbm9kZS5pZA0KDQogICAgICAgICMgaWYgbm9kZW5hbWUgPT0gJ0RhdGFzZXRFeHRyYWN0b3InOg0KICAgICAgICAjICAgICBub2RlbmFtZSA9IG5vZGVuYW1lICsgbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddDQoNCiAgICAgICAgIyBpZiBub2RlbmFtZSA9PSAnUHl0aG9uU2NyaXB0JyBvciBub2RlbmFtZSA9PSAnUG9zdFB5dGhvblNjcmlwdCcgb3Igbm9kZW5hbWUgPT0gJ1Bvc3RQcm9jZXNzaW5nU2NyaXB0JyBvciBub2RlbmFtZSA9PSAnUHJlUHJvY2Vzc2luZ1NjcmlwdCc6DQogICAgICAgIGlmIG5vZGUuY2xhc3NOYW1lID09ICdTY3JpcHRUcmFuc2Zvcm1lckNvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1ByZVByb2Nlc3NpbmdTY3JpcHRDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdQb3N0UHJvY2Vzc2luZ1NjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ01vZGVsUHJlZGljdFNjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1B5dGhvblNjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1Bvc3RQeXRob25TY3JpcHRDb25maWcnOg0KICAgICAgICAgICAgbm9kZW5hbWUgPSBub2RlLmF0dHJpYnV0ZXMuZ2V0KCdGdW5jdGlvbk5hbWUnLCAnJykNCiAgICAgICAgICAgIG5vZGUuZm9ybWF0cyA9IHtwYXJhWyduYW1lJ10uc3BsaXQoJzonKVswXTogY29uKHBhcmFbJ25hbWUnXS5zcGxpdCgnOicpWy0xXSwgcGFyYVsndmFsdWUnXSkgZm9yIHBhcmEgaW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmF0dHJpYnV0ZXMuZ2V0KCdwYXJhbXMnLCAnJykgaWYgbGVuKHBhcmEpID4gMH0NCiAgICAgICAgICAgIG5vZGUuYXR0cmlidXRlcyA9IHtwYXJhWyduYW1lJ10uc3BsaXQoJzonKVswXTogcGFyYVsndmFsdWUnXSBmb3IgcGFyYSBpbiBub2RlLmF0dHJpYnV0ZXMuZ2V0KCdwYXJhbXMnLCAnJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBsZW4ocGFyYSkgPiAwfQ0KDQogICAgICAgIGZvciBjb25uZWN0b3IgaW4gbm9kZS5jb25uZWN0b3JzOg0KDQogICAgICAgICAgICBpZiAoY29ubmVjdG9yWyd0eXBlJ10gPT0gJ3RhcmdldCcpOg0KICAgICAgICAgICAgICAgIGlucHV0cy5hcHBlbmQocG9zaXRpb25fb3JkZXJpbmdbY29ubmVjdG9yWydwb3NpdGlvbiddXSkNCg0KICAgICAgICAgICAgaWYgKGNvbm5lY3RvclsndHlwZSddID09ICdzb3VyY2UnKToNCiAgICAgICAgICAgICAgICBvdXRwdXRzLmFwcGVuZCgnZHNfJyArIGNvbm5lY3RvclsnZWxlbWVudFBvc2l0aW9uJ10gKyAnXycgKyBjb25uZWN0b3JbJ2VsZW1lbnRJZCddKQ0KDQogICAgICAgICMgUG9zaXRpb25pbmcgaW5wdXQgZW50cmllcyBmb3IgYSBub2RlDQogICAgICAgIGlucHV0cy5zb3J0KCkNCg0KICAgICAgICBpbnB1dHMgPSBbJ2RzXycgKyBpbmRleF9vcmRlcmluZ1twb3NdICsgJ18nICsgbm9kZWlkIGZvciBwb3MgaW4gaW5wdXRzXQ0KDQogICAgICAgICMgQWRkaW5nIHBhcmFtZXRlcnMgZm9yIHJlc3BlY3RpdmUgZnVuY3Rpb24gY2FsbA0KICAgICAgICBkZWZhdWx0X3BhcmFtcyA9IFtdDQogICAgICAgDQoNCiAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgPT0gJ0FkYXB0ZXJNZXRob2RDb25maWcnOg0KICAgICAgICAgICAgYWN0dWFsX3BhcmFtcyA9IG5vZGUuYXR0cmlidXRlcw0KICAgICAgICAgICAgYWN0dWFsX3BhcmFtID0gbGlzdChhY3R1YWxfcGFyYW1zLmtleXMoKSkNCiAgICAgICAgICAgIHNjcmlwdF9ib2R5ID0ge3BhcmFtOiAnXycuam9pbihyZS5zcGxpdCgnXHNccyonLCBwYXJhbS5zdHJpcCgpKSkgZm9yIHBhcmFtIGluIGFjdHVhbF9wYXJhbX0NCiAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zID0gW10NCiAgICAgICAgICAgIGFjdHVhbF9mb3JtYXRzID0gbm9kZS5mb3JtYXRzDQogICAgICAgICAgICBOb25lVHlwZSA9IHR5cGUoTm9uZSkNCg0KICAgICAgICAgICAgIyBWYWx1ZSB0eXBlIGFzIFN0cmluZyBvciBOb24tc3RyaW5nIGRlcGVuZGluZyBvbiBmb3JtYXQgdHlwZQ0KICAgICAgICAgICAgZm9yIGtleSwgdmFsIGluIHNjcmlwdF9ib2R5Lml0ZW1zKCk6DQogICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9PCcgKyBrZXkgKyAnPicpDQoNCg0KDQogICAgICAgICMgZWxpZiBub2RlLmNsYXNzTmFtZSA9PSAnUHl0aG9uU2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUG9zdFB5dGhvblNjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1ByZVByb2Nlc3NpbmdTY3JpcHRDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdQb3N0UHJvY2Vzc2luZ1NjcmlwdENvbmZpZyc6DQogICAgICAgIGVsaWYgbm9kZS5jbGFzc05hbWUgPT0gJ1NjcmlwdFRyYW5zZm9ybWVyQ29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUHJlUHJvY2Vzc2luZ1NjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1Bvc3RQcm9jZXNzaW5nU2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnTW9kZWxQcmVkaWN0U2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUHl0aG9uU2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUG9zdFB5dGhvblNjcmlwdENvbmZpZyc6DQogICAgICAgICAgICBhY3R1YWxfcGFyYW1zID0gbm9kZS5hdHRyaWJ1dGVzDQogICAgICAgICAgICBhY3R1YWxfcGFyYW0gPSBsaXN0KGFjdHVhbF9wYXJhbXMua2V5cygpKQ0KICAgICAgICAgICAgc2NyaXB0X2JvZHkgPSB7cGFyYW06ICdfJy5qb2luKHJlLnNwbGl0KCdcc1xzKicsIHBhcmFtLmxvd2VyKCkuc3RyaXAoKSkpICsgJ19wYXJhbScgZm9yIHBhcmFtIGluDQogICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxfcGFyYW19DQogICAgICAgICAgICBkZWZhdWx0X3BhcmFtcyA9IFtdDQogICAgICAgICAgICBhY3R1YWxfZm9ybWF0cyA9IG5vZGUuZm9ybWF0cw0KICAgICAgICAgICAgTm9uZVR5cGUgPSB0eXBlKE5vbmUpDQogICAgICAgICAgICBwcmludChhY3R1YWxfZm9ybWF0cykNCiAgICAgICAgICAgIGZvciBrZXksIHZhbCBpbiBzY3JpcHRfYm9keS5pdGVtcygpOg0KICAgICAgICAgICAgICAgIA0KDQogICAgICAgICAgICAgICAgaWYga2V5ID09ICdzY3JpcHQnOg0KICAgICAgICAgICAgICAgICAgICBwYXNzDQoNCiAgICAgICAgICAgICAgICAjIFZhbHVlIHR5cGUgYXMgU3RyaW5nIG9yIE5vbi1zdHJpbmcgZGVwZW5kaW5nIG9uIGZvcm1hdCB0eXBlDQogICAgICAgICAgICAgICAgZWxpZiBhY3R1YWxfZm9ybWF0c1trZXldID09ICd0ZXh0JzoNCiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9XCc8JyArIGtleSArICc+XCcnKQ0KICAgICAgICAgICAgICAgIGVsaWYgYWN0dWFsX2Zvcm1hdHNba2V5XSA9PSAndGV4dGFyZWEnOg0KICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X3BhcmFtcy5hcHBlbmQodmFsICsgJz1cJ1wnXCc8JyArIGtleSArICc+XCdcJ1wnJykNCiAgICAgICAgICAgICAgICBlbGlmIGFjdHVhbF9mb3JtYXRzW2tleV0gPT0gJ2ludGVnZXInOg0KICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X3BhcmFtcy5hcHBlbmQodmFsICsgJz08JyArIGtleSArICc+JykNCiAgICAgICAgICAgICAgICBlbGlmIGFjdHVhbF9mb3JtYXRzW2tleV0gPT0gJ2Jvb2wnOg0KICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X3BhcmFtcy5hcHBlbmQodmFsICsgJz08JyArIGtleSArICc+JykNCiAgICAgICAgICAgICAgICBlbGlmICdkcm9wJyBpbiBhY3R1YWxfZm9ybWF0c1trZXldLmxvd2VyKCk6ICAjIGZvciBkcm9wIGRvd24gdmFsdWVzDQogICAgICAgICAgICAgICAgICAgIGlmIGFjdHVhbF9mb3JtYXRzW2FjdHVhbF9mb3JtYXRzW2tleV1dWzBdLmlzYWxwaGEoKToNCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPVwnPCcgKyBrZXkgKyAnPlwnJykNCiAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPTwnICsga2V5ICsgJz4nKQ0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPTwnICsga2V5ICsgJz4nKQ0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgYWN0dWFsX3BhcmFtcyA9IG5vZGUuYXR0cmlidXRlcw0KICAgICAgICAgICAgYWN0dWFsX3BhcmFtID0gbGlzdChhY3R1YWxfcGFyYW1zLmtleXMoKSkNCiAgICAgICAgICAgIHNjcmlwdF9ib2R5ID0ge3BhcmFtOiAnXycuam9pbihyZS5zcGxpdCgnXHNccyonLCBwYXJhbS5sb3dlcigpLnN0cmlwKCkpKSArICdfcGFyYW0nIGZvciBwYXJhbSBpbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsX3BhcmFtfQ0KICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMgPSBbXQ0KICAgICAgICAgICAgYWN0dWFsX2Zvcm1hdHMgPSBub2RlLmZvcm1hdHMNCiAgICAgICAgICAgIE5vbmVUeXBlID0gdHlwZShOb25lKQ0KICAgICAgICAgICAgcHJpbnQoYWN0dWFsX2Zvcm1hdHMpDQogICAgICAgICAgICAjIFZhbHVlIHR5cGUgYXMgU3RyaW5nIG9yIE5vbi1zdHJpbmcgZGVwZW5kaW5nIG9uIGZvcm1hdCB0eXBlDQogICAgICAgICAgICBmb3Iga2V5LCB2YWwgaW4gc2NyaXB0X2JvZHkuaXRlbXMoKToNCiAgICAgICAgICAgICAgICBpZiBhY3R1YWxfZm9ybWF0c1trZXldID09ICd0ZXh0JzoNCiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9XCc8JyArIGtleSArICc+XCcnKQ0KICAgICAgICAgICAgICAgIGVsaWYgYWN0dWFsX2Zvcm1hdHNba2V5XSA9PSAndGV4dGFyZWEnOg0KICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X3BhcmFtcy5hcHBlbmQodmFsICsgJz1cJ1wnXCc8JyArIGtleSArICc+XCdcJ1wnJykNCiAgICAgICAgICAgICAgICBlbGlmIGFjdHVhbF9mb3JtYXRzW2tleV0gPT0gJ2ludGVnZXInIG9yIGFjdHVhbF9mb3JtYXRzW2tleV0gPT0gJ2ludCc6DQogICAgICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPTwnICsga2V5ICsgJz4nKQ0KICAgICAgICAgICAgICAgIGVsaWYgYWN0dWFsX2Zvcm1hdHNba2V5XSA9PSAnYm9vbCc6DQogICAgICAgICAgICAgICAgICAgICMga2V5ID0gJ1RydWUnIGlmIGtleSA9PSAndHJ1ZScgZWxzZSAnRmFsc2UnDQogICAgICAgICAgICAgICAgICAgIHByaW50KCdrZXknLCBrZXkpDQogICAgICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPTwnICsga2V5ICsgJz4nKQ0KICAgICAgICAgICAgICAgICMgZWxpZiAnZHJvcCcgaW4gYWN0dWFsX2Zvcm1hdHNba2V5XS5sb3dlcigpOiAgIyBmb3IgZHJvcCBkb3duIHZhbHVlcw0KICAgICAgICAgICAgICAgICMgICAgIGlmIGFjdHVhbF9mb3JtYXRzW2FjdHVhbF9mb3JtYXRzW2tleV1dWzBdLmlzYWxwaGEoKToNCiAgICAgICAgICAgICAgICAjICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9XCc8JyArIGtleSArICc+XCcnKQ0KICAgICAgICAgICAgICAgICMgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgIyAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPTwnICsga2V5ICsgJz4nKQ0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPTwnICsga2V5ICsgJz4nKQ0KDQogICAgICAgIHByb2Nlc3Nfb3V0X2NhbGwgPSAnJw0KICAgICAgICAjIEdlbmVyYXRpbmcgZnVuY3Rpb24gY2FsbA0KICAgICAgICBpZiBsZW4ob3V0cHV0cykgPiAwOg0KICAgICAgICAgICAgY2FsbCA9ICcgICAgJyArICcsJy5qb2luKG91dHB1dHMpICsgJyA9ICcgKyBub2RlbmFtZSArICcoJyArICcsJy5qb2luKGlucHV0cykNCiAgICAgICAgICAgIGlmIGxlbihkZWZhdWx0X3BhcmFtcykgPiAwOg0KICAgICAgICAgICAgICAgIGNhbGwgKz0gJywgJyBpZiBsZW4oaW5wdXRzKSA+IDAgZWxzZSAnJw0KICAgICAgICAgICAgICAgIGNhbGwgKz0gJywnLmpvaW4oZGVmYXVsdF9wYXJhbXMpDQogICAgICAgICAgICBjYWxsICs9ICcpXG4nDQogICAgICAgICAgICBpZiBub2RlLmVtaXRzT3V0cHV0Og0KICAgICAgICAgICAgICAgIHByb2Nlc3Nfb3V0X2NhbGwgKz0gICcgICAgcHJvY2Vzc091dHB1dChcJycgKyBub2RlbmFtZSArICdcJywgJyArICcsJy5qb2luKG91dHB1dHMpICsgJylcbicNCiAgICAgICAgICAgICMgcHJvY2Vzc19vdXRfY2FsbCArPSAgZicgICAgcHJvY2Vzc091dHB1dCgne25vZGVuYW1lfScsICcgKyAnLCcuam9pbihvdXRwdXRzKSArICcpXG4nDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBjYWxsID0gJyAgICAnICsgbm9kZW5hbWUgKyAnKCcgKyAnLCcuam9pbihpbnB1dHMpDQogICAgICAgICAgICBpZiBsZW4oZGVmYXVsdF9wYXJhbXMpID4gMDoNCiAgICAgICAgICAgICAgICBjYWxsICs9ICcsICcgaWYgbGVuKGlucHV0cykgPiAwIGVsc2UgJycNCiAgICAgICAgICAgICAgICBjYWxsICs9ICcsJy5qb2luKGRlZmF1bHRfcGFyYW1zKQ0KICAgICAgICAgICAgY2FsbCArPSAnKVxuJw0KDQogICAgICAgICAgICAjIEZpbGxpbmcgdGhlIHVzZXIgaW5wdXR0ZWQgdmFsdWVzIGluIGZ1bmN0aW9uIGNhbGwNCiAgICAgICAgY2FsbCA9IGZpbGxEYXRhbm9kZShub2RlLCBjYWxsKQ0KDQogICAgICAgIGlmIG5vZGUuY2xhc3NOYW1lID09ICdGbGFza0FQUCc6DQogICAgICAgICAgICBmbGFza19jYWxsICs9IGNhbGwNCiAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgIT0gJ0ZsYXNrQVBQJzoNCiAgICAgICAgICAgIGV4ZWN1dGlvbk9yZGVyID0gZXhlY3V0aW9uT3JkZXIgKyBjYWxsIA0KDQogICAgICAgIGlmIGxlbihwcm9jZXNzX291dF9jYWxsKSA+IDA6DQogICAgICAgICAgICBleGVjdXRpb25PcmRlciA9IGV4ZWN1dGlvbk9yZGVyICsgcHJvY2Vzc19vdXRfY2FsbA0KDQogICAgcHJpbnQoJ2V4ZWN1dGlvbk9yZGVyJywgZXhlY3V0aW9uT3JkZXIpDQogICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3tleGVjdXRpb25PcmRlcn0nLCBleGVjdXRpb25PcmRlcikNCiAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne2V4ZWN1dGVmbGFza30nLCBmbGFza19jYWxsKQ0KICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCdccicsICdcbicpDQoNCiAgICB3aXRoIG9wZW4ob3MucGF0aC5qb2luKGFyZ3NEaWN0WydzY3JpcHRQYXRoJ10sIGFyZ3NEaWN0WydwaXBlbGluZU5hbWUnXSArICdfZ2VuZXJhdGVkQ29kZS5weScpLCAndycpIGFzIGY6DQogICAgICAgIGYud3JpdGVsaW5lcyhwaXBlbGluZUNvZGUpDQoNCg0KZ2VuZXJhdGVTY3JpcHQocGlwZWxpbmVfanNvbikNCg0KcHJpbnQoJ0NvbXBsZXRlZCcpDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg==","leo1311"
"LEOCDGNR10099","LEOCDGNR10099_leo1311.py","aW1wb3J0IHN5cywgb3MKIyBmcm9tIHVybGxpYi5wYXJzZSBpbXBvcnQgdXJscGFyc2UKaW1wb3J0IHN5cwppbXBvcnQgb3MucGF0aAppbXBvcnQganNvbgppbXBvcnQgcmUKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKZnJvbSBjb2xsZWN0aW9ucyBpbXBvcnQgZGVmYXVsdGRpY3QKCmFyZ3VtZW50cyA9IHN5cy5hcmd2CmFyZ3NEaWN0ID0ge30KZm9yIGFyZyBpbiBhcmd1bWVudHM6CiAgICB0cnk6CiAgICAgICAgYXJnc0RpY3RbYXJnLnNwbGl0KCc6JylbMF1dID0gKCc6Jykuam9pbihhcmcuc3BsaXQoJzonKVsxOl0pCiAgICBleGNlcHQ6CiAgICAgICAgYSA9ICdlcnJvcicKCmpzb25fZmlsZSA9IG9zLnBhdGguam9pbihhcmdzRGljdFsnc2NyaXB0UGF0aCddLCAncGlwZWxpbmUuanNvbicpCndpdGggb3Blbihqc29uX2ZpbGUpIGFzIGY6CiAgICBpbXBvcnQganNvbgoKICAgIHBpcGVsaW5lX2pzb24gPSBqc29uLmxvYWQoZikKICAgIHByaW50KHBpcGVsaW5lX2pzb24pCiAKCiMgYmFzZSBzY3JpcHQgCmRlZiBiYXNlU2NyaXB0KCk6CiAgICByZXR1cm4gJycnCmltcG9ydCBzeXMKaW1wb3J0IG9zCmltcG9ydCBzdWJwcm9jZXNzCiMgb3MuZW52aXJvblsnSFRUUF9QUk9YWSddPSdodHRwOi8vYmxycHJveHkuYWQuaW5mb3N5cy5jb206ODAnCiMgb3MuZW52aXJvblsnSFRUUFNfUFJPWFknXT0naHR0cDovL2JscnByb3h5LmFkLmluZm9zeXMuY29tOjgwJwojIG9zLmVudmlyb25bJ2h0dHBfcHJveHknXT0naHR0cDovL2JscnByb3h5LmFkLmluZm9zeXMuY29tOjgwJwojIG9zLmVudmlyb25bJ2h0dHBzX3Byb3h5J109J2h0dHA6Ly9ibHJwcm94eS5hZC5pbmZvc3lzLmNvbTo4MCcKCiMgb3MuZW52aXJvblsnTk9fUFJPWFknXT0nMTAuKixsb2NhbGhvc3QsMC4wLjAuMCx2aWN0bHBhc3QwMiwwLjAuMC4wLDEyNy4wLjAuMSwxMC44MS43OC4xNDYsdmljdGNiZmMxNjAsMTAuMTU2Ljg5LjgsMTAuMjI0LjIxNi4xMCwxMC42Ni4xNS4xMDAnCnJlcXVpcmVtZW50cyA9IFt7cmVxdWlyZW1lbnRzfV0KZm9yIG1vZHVsZSBpbiByZXF1aXJlbWVudHM6CiAgICBzdWJwcm9jZXNzLnJ1bihzeXMuZXhlY3V0YWJsZSArICcgLW0gcGlwIGluc3RhbGwgJysgbW9kdWxlICsgJyAtLWluZGV4LXVybCBodHRwczovL3NocmV5YV9iYW5zYWxAYWQuaW5mb3N5cy5jb206Y21WbWRHdHVPakF4T2pFM01qSTVNemsxTWpBNmIyNVljM1pWUlVZeFYydFlSMVZEUzFwM2VsTkZNa3hRT0hwTUBpbmZ5YXJ0aWZhY3RvcnkuamZyb2cuaW8vYXJ0aWZhY3RvcnkvYXBpL3B5cGkvcHlwaS1yZW1vdGUvc2ltcGxlIC0tdHJ1c3RlZC1ob3N0IGluZnlhcnRpZmFjdG9yeS5qZnJvZy5pbycsc2hlbGw9VHJ1ZSkKICAgICMgc3VicHJvY2Vzcy5ydW4oc3lzLmV4ZWN1dGFibGUgKyAnIC1tIHBpcCBpbnN0YWxsICcrIG1vZHVsZSkKICAgIHByaW50KCJJTlNUQUxMSU5HIittb2R1bGUpCmltcG9ydCBvcwppbXBvcnQgbG9nZ2luZyBhcyBsb2dnZXIKCntpbXBvcnRzfQoKe2Z1bmN0aW9uc30KCmRlZiBleGVjdXRlUGlwZWxpbmUoKToKe2V4ZWN1dGlvbk9yZGVyfQoKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBleGVjdXRlUGlwZWxpbmUoKQogICAgcHJpbnQoJ0NvbXBsZXRlZCcpCicnJwoKIyBiYXNlIHNjcmlwdCAKZGVmIGJhc2VTY3JpcHRfZmxhc2soKToKICAgIHJldHVybiAnJycKaW1wb3J0IHN5cwppbXBvcnQgb3MKaW1wb3J0IHN1YnByb2Nlc3MKIyBvcy5lbnZpcm9uWydIVFRQX1BST1hZJ109J2h0dHA6Ly9ibHJwcm94eS5hZC5pbmZvc3lzLmNvbTo4MCcKIyBvcy5lbnZpcm9uWydIVFRQU19QUk9YWSddPSdodHRwOi8vYmxycHJveHkuYWQuaW5mb3N5cy5jb206ODAnCiMgb3MuZW52aXJvblsnaHR0cF9wcm94eSddPSdodHRwOi8vYmxycHJveHkuYWQuaW5mb3N5cy5jb206ODAnCiMgb3MuZW52aXJvblsnaHR0cHNfcHJveHknXT0naHR0cDovL2JscnByb3h5LmFkLmluZm9zeXMuY29tOjgwJwoKIyBvcy5lbnZpcm9uWydOT19QUk9YWSddPScxMC4qLGxvY2FsaG9zdCwwLjAuMC4wLHZpY3RscGFzdDAyLDAuMC4wLjAsMTI3LjAuMC4xLDEwLjgxLjc4LjE0Nix2aWN0Y2JmYzE2MCwxMC4xNTYuODkuOCwxMC4yMjQuMjE2LjEwLDEwLjY2LjE1LjEwMCcKcmVxdWlyZW1lbnRzID0gW3tyZXF1aXJlbWVudHN9XQpmb3IgbW9kdWxlIGluIHJlcXVpcmVtZW50czoKICAgIHN1YnByb2Nlc3MucnVuKHN5cy5leGVjdXRhYmxlICsgJyAtbSBwaXAgaW5zdGFsbCAnKyBtb2R1bGUgKyAnIC0taW5kZXgtdXJsIGh0dHBzOi8vc2hyZXlhX2JhbnNhbEBhZC5pbmZvc3lzLmNvbTpjbVZtZEd0dU9qQXhPakUzTWpJNU16azFNakE2YjI1WWMzWlZSVVl4VjJ0WVIxVkRTMXAzZWxORk1reFFPSHBNQGluZnlhcnRpZmFjdG9yeS5qZnJvZy5pby9hcnRpZmFjdG9yeS9hcGkvcHlwaS9weXBpLXJlbW90ZS9zaW1wbGUgLS10cnVzdGVkLWhvc3QgaW5meWFydGlmYWN0b3J5Lmpmcm9nLmlvJyxzaGVsbD1UcnVlKQppbXBvcnQgb3MKaW1wb3J0IGxvZ2dpbmcgYXMgbG9nZ2VyCgp7aW1wb3J0c30KCntmdW5jdGlvbnN9CntmbGFza19hcHB9CgpkZWYgZXhlY3V0ZSgpOgp7ZXhlY3V0ZWZsYXNrfQoKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBleGVjdXRlKCkKICAgIHByaW50KCdDb21wbGV0ZWQnKQonJycKCiMgTm9kZSAKY2xhc3MgR3JhcGg6CglkZWYgX19pbml0X18oc2VsZiwgdmVydGljZXMpOgoJCXNlbGYuZ3JhcGggPSBkZWZhdWx0ZGljdChsaXN0KQoJCXNlbGYuViA9IHZlcnRpY2VzCgkKCWRlZiBhZGRFZGdlKHNlbGYsIHUsIHYpOgoJCXNlbGYuZ3JhcGhbdV0uYXBwZW5kKHYpCgoJZGVmIHRvcG9sb2dpY2FsU29ydFV0aWwoc2VsZiwgdiwgdmlzaXRlZCwgc3RhY2spOgoJCXZpc2l0ZWRbdl0gPSBUcnVlCgkJZm9yIGkgaW4gc2VsZi5ncmFwaFt2XToKCQkJaWYgdmlzaXRlZFtpXSA9PSBGYWxzZToKCQkJCXNlbGYudG9wb2xvZ2ljYWxTb3J0VXRpbChpLCB2aXNpdGVkLCBzdGFjaykKCQlzdGFjay5hcHBlbmQodikKCglkZWYgdG9wb2xvZ2ljYWxTb3J0KHNlbGYpOgoJCXZpc2l0ZWQgPSBbRmFsc2VdKnNlbGYuVgoJCXN0YWNrID0gW10KCgkJZm9yIGkgaW4gcmFuZ2Uoc2VsZi5WKToKCQkJaWYgdmlzaXRlZFtpXSA9PSBGYWxzZToKCQkJCXNlbGYudG9wb2xvZ2ljYWxTb3J0VXRpbChpLCB2aXNpdGVkLCBzdGFjaykKCgkJcmV0dXJuIHN0YWNrWzo6LTFdIAoKY2xhc3MgTm9kZToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBqc29uT2JqZWN0KToKICAgICAgICBzZWxmLmxldmVsID0gMDsKICAgICAgICBzZWxmLmlkID0ganNvbk9iamVjdC5nZXQoJ2lkJywnJyk7CiAgICAgICAgc2VsZi5uYW1lID0ganNvbk9iamVjdC5nZXQoJ25hbWUnLCcnKTsKICAgICAgICBzZWxmLmNsYXNzTmFtZSA9IGpzb25PYmplY3QuZ2V0KCdjbGFzc25hbWUnLCBzZWxmLm5hbWUgKyAnQ29uZmlnJyk7CiAgICAgICAgc2VsZi5jYXRlZ29yeSA9IGpzb25PYmplY3QuZ2V0KCdjYXRlZ29yeScsJycpOwogICAgICAgIHNlbGYuYXR0cmlidXRlcyA9IGpzb25PYmplY3QuZ2V0KCdhdHRyaWJ1dGVzJywnJyk7CiAgICAgICAgc2VsZi5jb25uZWN0b3JzID0ganNvbk9iamVjdC5nZXQoJ2Nvbm5lY3RvcnMnLCcnKTsKICAgICAgICBzZWxmLnBhcmVudCA9IE5vbmUKICAgICAgICBzZWxmLmZvcm1hdHMgPSBqc29uT2JqZWN0LmdldCgnZm9ybWF0cycsJycpOyAgICAgICAgCgojIEJ1aWxkaW5nIERBRyBvcmRlcgpkZWYgYnVpbGREQUdPcmRlcihlbGVtZW50cyk6CiAgICAjIGdldCBhbGwgZWxlbWVudHMgZnJvbSBqc29uCiAgICBlbGVtZW50bGlzdCA9IFtdCiAgICBub2RlbGlzdCA9IFtdCiAgICBmb3IgZSBpbiBlbGVtZW50czoKICAgICAgICBub2RlID0gTm9kZShlKQogICAgICAgIG5vZGVsaXN0LmFwcGVuZChub2RlKQoKICAgIGlkX3RvX251bSA9IHt9CiAgICBudW1fdG9faWQgPSB7fQogICAgaWRfdG9fbm9kZSA9IHt9CiAgICBmb3IgaSwgZWxlIGluIGVudW1lcmF0ZShub2RlbGlzdCk6CiAgICAgICAgaWRfdG9fbnVtW2VsZS5pZF0gPSBpCiAgICAgICAgbnVtX3RvX2lkW2ldID0gZWxlLmlkCiAgICAgICAgaWRfdG9fbm9kZVtlbGUuaWRdID0gZWxlCgogICAgdmVydGV4ID0gbGVuKG5vZGVsaXN0KQogICAgZyA9IEdyYXBoKHZlcnRleCkgIAoKICAgIGZvciBpdGVtIGluIG5vZGVsaXN0OgogICAgICAgIHBhcmVudGlkID0gJycKICAgICAgICBjaGlsZGlkID0gJycKICAgICAgICBmb3IgY29ubmVjdG9yIGluIGl0ZW0uY29ubmVjdG9yczoKICAgICAgICAgICAgaWYgKGNvbm5lY3RvclsndHlwZSddID09ICd0YXJnZXQnKToKICAgICAgICAgICAgICAgIHBhcmVudGlkID0gY29ubmVjdG9yWydlbGVtZW50SWQnXQogICAgICAgICAgICAgICAgZy5hZGRFZGdlKGlkX3RvX251bVtwYXJlbnRpZF0sIGlkX3RvX251bVtpdGVtLmlkXSkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoY29ubmVjdG9yWyd0eXBlJ10gPT0gJ3NvdXJjZScpOgogICAgICAgICAgICAgICAgY2hpbGRpZCA9IGNvbm5lY3RvclsnZWxlbWVudElkJ10KICAgICAgICAgICAgICAgIGcuYWRkRWRnZShpZF90b19udW1baXRlbS5pZF0sIGlkX3RvX251bVtjaGlsZGlkXSkKCiAgICBzdGFjayA9IGcudG9wb2xvZ2ljYWxTb3J0KCkKICAgIHN0YWNrID0gW251bV90b19pZFtudW1dIGZvciBudW0gaW4gc3RhY2tdCgogICAgZm9yIGlkIGluIHN0YWNrOgogICAgICAgICAgZWxlbWVudGxpc3QuYXBwZW5kKGlkX3RvX25vZGVbaWRdKQogICAgcmV0dXJuIGVsZW1lbnRsaXN0CgojIGZpbGwgYWxsIGpvYiBwYXJhbXMgaW4gcGlwZWxpbmVKc29uCmRlZiBmaWxsSm9iUGFyYW1zKHBpcGVsaW5lSnNvbik6CgogICAgb3JnYW5pemF0aW9uID0gcGlwZWxpbmVKc29uLmdldCgnb3JnJywgJ0lORk9TWVMnKQoKICAgICMgU2V0IGFsbCBKb2IgUGFyYW1zCiAgICBqb2JQYXJhbXMgPSB7fQogICAgam9iUGFyYW1zWydOZXh0RXhlY3V0aW9uVGltZSddID0gcGlwZWxpbmVKc29uLmdldCgnTmV4dF9FeGVjdXRpb25fVGltZScsICcnKQogICAgam9iUGFyYW1zWydDdXJyZW50RXhlY3V0aW9uVGltZSddID0gcGlwZWxpbmVKc29uLmdldCgnQ3VycmVudF9FeGVjdXRpb25fVGltZScsICcnKQogICAgam9iUGFyYW1zWydMYXN0U3VjY2Vzc2Z1bEV4ZWN1dGlvblRpbWUnXSA9IHBpcGVsaW5lSnNvbi5nZXQoJ0xhc3RfU3VjY2Vzc2Z1bF9FeGVjdXRpb25fVGltZScsICcnKQogICAgam9iUGFyYW1zWydMYXN0RXhlY3V0aW9uVGltZSddID0gcGlwZWxpbmVKc29uLmdldCgnTGFzdF9FeGVjdXRpb25fVGltZScsICcnKQoKICAgIHJlZ0V4ID0gJzxqb2JQYXJhbXM6KFtcd1wuLV0rKTsoLio/KT4nCiAgICBwaXBlbGluZUpzb25MaXN0ID0gW10KCiAgICBmb3IgaXRlbSBpbiBwaXBlbGluZUpzb25bJ2VsZW1lbnRzJ106CiAgICAgICAgaXRlbVRleHQgPSBqc29uLmR1bXBzKGl0ZW0pCiAgICAgICAgIyByZXBsYWNlIE9yZwogICAgICAgIGl0ZW1UZXh0ID0gaXRlbVRleHQucmVwbGFjZSgnPGpvYlBhcmFtczpvcmdOYW1lPicsIG9yZ2FuaXphdGlvbikKICAgICAgICAjIHJlcGxhY2UgdGltZXN0YW1wcwogICAgICAgIHBhcmFtcyA9IHJlLmZpbmRhbGwocmVnRXgsIGl0ZW1UZXh0KQogICAgICAgIGZvciBwIGluIHBhcmFtczoKICAgICAgICAgICAgdGV4dFRvcmVwbGFjZSA9ICc8am9iUGFyYW1zOnswfTt7MX0+Jy5mb3JtYXQocFswXSwgcFsxXSkKICAgICAgICAgICAgaWYgam9iUGFyYW1zW3BbMF1dICE9ICcnIGFuZCBqb2JQYXJhbXNbcFswXV0gIT0gLTE6CiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgZHQgPSBkYXRldGltZS5zdHJwdGltZShqb2JQYXJhbXNbcFswXV0sICclYSwgJWQgJWIgJVkgJUg6JU06JVMnKQogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VXaXRoID0gZGF0ZXRpbWUuc3RyZnRpbWUoZHQsIHBbMV0pCiAgICAgICAgICAgICAgICAgICAgaXRlbVRleHQgPSBpdGVtVGV4dC5yZXBsYWNlKHRleHRUb3JlcGxhY2UsIHJlcGxhY2VXaXRoKQogICAgICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgICAgIGEgPSAxCiAgICAgICAgcGlwZWxpbmVKc29uTGlzdC5hcHBlbmQoanNvbi5sb2FkcyhpdGVtVGV4dCkpCiAgICByZXR1cm4gcGlwZWxpbmVKc29uTGlzdAoKCiMgQnVpbGQgREFHIG9mIGFsbCB0aGUgbm9kZXMKIyBSZXR1cm5zIHRoZSBsaXN0IG9mIGVsZW1lbnRzIGluIG9yZGVyCmRlZiBidWlsZERBRyhwaXBlbGluZUpzb25MaXN0KToKICAgIHByaW50KCdwaXBlbGluZUpzb25MaXN0JywgKQogICAgb3JkZXJlZEVsZW1lbnRMaXN0ID0gYnVpbGREQUdPcmRlcihwaXBlbGluZUpzb25MaXN0KSAjIERBRy5idWlsZChwaXBlbGluZUpzb25MaXN0KTsKICAgIG9yZGVyZWRFbGVtZW50TGlzdCA9IGxpc3QoZmlsdGVyKE5vbmUsIG9yZGVyZWRFbGVtZW50TGlzdCkpCiAgICByZXR1cm4gb3JkZXJlZEVsZW1lbnRMaXN0CgoKIyBmaWxsIG5vZGUgYXR0cmlidXRlcyB3aXRoIEFjdHVhbCBEYXRhCmRlZiBmaWxsRGF0YW5vZGUobm9kZSwgc2NyaXB0KToKICAgIGF0dHJpYnV0ZXMgPSByZS5maW5kYWxsKCdcPCguKj8pXD4nLCBzY3JpcHQpCiAgICAKICAgIGZvciBpdGVtIGluIGF0dHJpYnV0ZXM6CgogICAgICAgIGlucHV0X3NwbGl0ID0gaXRlbS5zcGxpdCgnLicpCiAgICAgICAga2V5cyA9ICcnLmpvaW4oWycnJ1snezB9J10nJycuZm9ybWF0KGspIGZvciBrIGluIGlucHV0X3NwbGl0XSkKICAgICAgICAKICAgICAgICB0cnk6CiAgICAgICAgICAgIAogICAgICAgICAgICB2YWx1ZSA9IGV2YWwoJycnbm9kZS5hdHRyaWJ1dGVzJycnICsgJycnezB9JycnLmZvcm1hdChrZXlzKSkKICAgICAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgIT0gJ0RhdGFzZXRFeHRyYWN0b3JDb25maWcnIGFuZCBub2RlLmNsYXNzTmFtZSAhPSAnRGF0YXNldExvYWRlckNvbmZpZyc6CiAgICAgICAgICAgICAgICBmb3JtID0gZXZhbCgnJydub2RlLmZvcm1hdHMnJycgKyAnJyd7MH0nJycuZm9ybWF0KGtleXMpKQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiBmb3JtID09ICdib29sJzoKICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICdUcnVlJyBpZiB2YWx1ZT09J3RydWUnIGVsc2UgJ0ZhbHNlJwogICAgICAgICAgICAKICAgICAgICAgICAgc2NyaXB0ID0gc2NyaXB0LnJlcGxhY2UoJzwnICsgaXRlbSArICc+Jywgc3RyKHZhbHVlKSkKICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcHJpbnQoJ2luIEV4Y2VwdCcpCiAgICAgICAgICAgIHNjcmlwdCA9IHNjcmlwdC5yZXBsYWNlKCc8JyArIGl0ZW0gKyAnPicsICcnKQoKICAgIHJldHVybiBzY3JpcHQKCiMgZmlsbCBub2RlIGF0dHJpYnV0ZXMgd2l0aCBBY3R1YWwgRGF0YQpkZWYgZmlsbERhdGFub2RlKG5vZGUsIHNjcmlwdCk6CiAgICBhdHRyaWJ1dGVzID0gcmUuZmluZGFsbCgnXDwoLio/KVw+Jywgc2NyaXB0KQogICAgCiAgICBmb3IgaXRlbSBpbiBhdHRyaWJ1dGVzOgoKICAgICAgICBpbnB1dF9zcGxpdCA9IGl0ZW0uc3BsaXQoJy4nKQogICAgICAgIGtleXMgPSAnJy5qb2luKFsnJydbJ3swfSddJycnLmZvcm1hdChrKSBmb3IgayBpbiBpbnB1dF9zcGxpdF0pCiAgICAgICAgCiAgICAgICAgdHJ5OgogICAgICAgICAgICAKICAgICAgICAgICAgdmFsdWUgPSBldmFsKCcnJ25vZGUuYXR0cmlidXRlcycnJyArICcnJ3swfScnJy5mb3JtYXQoa2V5cykpCiAgICAgICAgICAgIGlmIG5vZGUuY2xhc3NOYW1lICE9ICdEYXRhc2V0RXh0cmFjdG9yQ29uZmlnJzoKICAgICAgICAgICAgICAgIGZvcm0gPSBldmFsKCcnJ25vZGUuYXR0cmlidXRlcycnJyArICcnJ3swfScnJy5mb3JtYXQoa2V5cykpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIGZvcm0gPT0gJ2Jvb2wnOgogICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJ1RydWUnIGlmIHZhbHVlLmxvd2VyKCk9PSd0cnVlJyBlbHNlICdGYWxzZScKICAgICAgICAgICAgCiAgICAgICAgICAgIHNjcmlwdCA9IHNjcmlwdC5yZXBsYWNlKCc8JyArIGl0ZW0gKyAnPicsIHN0cih2YWx1ZSkpCiAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHByaW50KCdpbiBFeGNlcHQnKQogICAgICAgICAgICBzY3JpcHQgPSBzY3JpcHQucmVwbGFjZSgnPCcgKyBpdGVtICsgJz4nLCAnJykKCiAgICByZXR1cm4gc2NyaXB0CgpkZWYgZ2VuZXJhdGVTY3JpcHQocGlwZWxpbmVKc29uKToKCiAgICAjIGZvcm1hdCB0eXBlIGZvciBwcmUtcHJvY2Vzc2luZyBub2RlL3B5dGhvbi1zY3JpcHQgbm9kZQogICAgZGVmIGNvbihzLCB0KToKICAgICAgICBpZiBzPT0naW50JzoKICAgICAgICAgICAgcmV0dXJuICdpbnRlZ2VyJwogICAgICAgIGVsaWYgcz09J3N0cic6CiAgICAgICAgICAgIHJldHVybiAndGV4dCcKICAgICAgICBlbGlmIHM9PSdsaXN0JzoKICAgICAgICAgICAgcmV0dXJuICdsaXN0JwogICAgICAgIGVsaWYgcz09J2Jvb2wnOgogICAgICAgICAgICByZXR1cm4gJ2Jvb2wnCiAgICAgICAgZWxpZiBpc2luc3RhbmNlKHQsIHN0cik6CiAgICAgICAgICAgIHJldHVybiAndGV4dCcKICAgICAgICBlbGlmIGlzaW5zdGFuY2UodCwgaW50KToKICAgICAgICAgICAgcmV0dXJuICdpbnRlZ2VyJwogICAgICAgIHJldHVybiAnYm9vbCcKCgogICAgcGlwZWxpbmVFbGVtZW50cyA9IGZpbGxKb2JQYXJhbXMocGlwZWxpbmVKc29uKQogICAgb3JkZXJlZEVsZW1lbnRMaXN0ID0gYnVpbGREQUcocGlwZWxpbmVFbGVtZW50cykKICAgIHJlcXVpcmVtZW50cyA9IFtdCiAgICBpbXBvcnRfbGluZXMgPSBbXQogICAgZnVuY3Rpb25zID0gW10KICAgIGRhdGFzZXRfZXh0cmFjdG9yX3BhcmFtID0ge30KICAgIGRhdGFzZXRfbG9hZGVyX3BhcmFtcyA9IFtdCiAgICBleHRyYWN0c2NyaXB0c3VmZml4ID0gJycKICAgIGZ1bmN0aW9uX2ZsYWcgPSB7fQogICAgZmxhc2tfZmxhZyA9IEZhbHNlCiAgICBmbGFza19jYWxsID0gJycKICAgIGZsYXNrX2FwcCA9IFtdCgogICAgIyBTY3JpcHQgZ2VuZXJhdGlvbgogICAgZm9yIG5vZGUgaW4gb3JkZXJlZEVsZW1lbnRMaXN0OgogICAgICAgICMgRXh0cmFjdG9ycwogICAgICAgIGVsZW1lbnQgPSBuZXh0KGUgZm9yIGUgaW4gcGlwZWxpbmVKc29uWydlbGVtZW50cyddIGlmIGVbJ2lkJ10gPT0gbm9kZS5pZCkKICAgICAgICAKICAgICAgICAKICAgICAgICAKCiAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgPT0gJ0RhdGFzZXRFeHRyYWN0b3JDb25maWcnOiAgIAogICAgICAgICAgICBleHRyYWN0b3JTY3JpcHQgPSBcCiAgICAgICAgICAgICAgICBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddW25vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydkYXRhc291cmNlJ11bJ3R5cGUnXV1bJ3NjcmlwdCddCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgCiAgICAgICAgICAgIGV4dHJhY3RvclNjcmlwdCA9IGV4dHJhY3RvclNjcmlwdC5yZXBsYWNlKCdfPGlkPicsICcnKQogICAgICAgICAgICBleHRyYWN0b3JwYXJhbXMgPSByZS5maW5kYWxsKCdkZWYgRGF0YXNldEV4dHJhY3Rvci4qXCguKj9cKScsIGV4dHJhY3RvclNjcmlwdCkKCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICMgUmV0cml2aW5nIHBhcmFtZXRlcnMgb2YgRGF0YXNldCBFeHRyYWN0b3IKICAgICAgICAgICAgICAgIGV4dHJhY3RvcnBhcmFtcyA9IHJlLmZpbmRhbGwoJ1woLio/XCknLCBleHRyYWN0b3JwYXJhbXNbMF0pCiAgICAgICAgICAgICAgICBleHRyYWN0b3JwYXJhbXMgPSBleHRyYWN0b3JwYXJhbXNbMF1bMTotMV0uc3BsaXQoJywgJykKICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgZXh0cmFjdG9ycGFyYW1zID0gW10KICAgICAgICAgICAgCiAgICAgICAgICAgIHBhcmEgPSBbXQogICAgICAgICAgICBmb3IgcCBpbiBleHRyYWN0b3JwYXJhbXM6CiAgICAgICAgICAgICAgICBwYXJhLmV4dGVuZChwLnNwbGl0KCcsJykpCiAgICAgICAgICAgIAogICAgICAgICAgICBkYXRhc2V0X2V4dHJhY3Rvcl9wYXJhbVtub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWyd0eXBlJ11dID0gW3Auc3BsaXQoJz0nKVswXS5zdHJpcCgpIGZvciBwIGluIHBhcmFdCiAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICAgICAgZXh0cmFjdG9yU2NyaXB0ID0gZXh0cmFjdG9yU2NyaXB0LnJlcGxhY2UoJzxpZD4nLCBub2RlLmlkKQoKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnYXR0cmlidXRlcyddLCBzdHIpOgogICAgICAgICAgICAgICAgbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2F0dHJpYnV0ZXMnXSA9IGpzb24ubG9hZHMobm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2F0dHJpYnV0ZXMnXSkKICAgICAgICAgICAgbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsnY29ubmVjdGlvbkRldGFpbHMnXSA9IGpzb24ubG9hZHMoCiAgICAgICAgICAgICAgICBub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWydjb25uZWN0aW9uRGV0YWlscyddKQogICAgICAgICAgICAKICAgICAgICAgICAgZXh0cmFjdHNjcmlwdHN1ZmZpeCA9IGV4dHJhY3RvclNjcmlwdAogICAgICAgICAgICAKICAgICAgICAgICAgIyBDaGVja2luZyBpZiB0aGUgZnVuY3Rpb24gZGVmaW5pdGlvbiBpcyBhbHJlYWR5IGV4aXN0cyBpbiBzY3JpcHQKICAgICAgICAgICAgaWYgKG5vZGUuY2xhc3NOYW1lICsgbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddKSBpbiBmdW5jdGlvbl9mbGFnOgogICAgICAgICAgICAgICAgcHJpbnQoJ2V4aXRzJywgKG5vZGUuY2xhc3NOYW1lICsgbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddKSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGZ1bmN0aW9uX2ZsYWdbKG5vZGUuY2xhc3NOYW1lICsgbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddKV0gPSAxCiAgICAgICAgICAgICAgICBmdW5jdGlvbnMuYXBwZW5kKGV4dHJhY3RvclNjcmlwdCkKICAgICAgICAgICAgCiAgICAgICAgICAgIGltcG9ydF9saW5lcyA9IGltcG9ydF9saW5lcyArIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVtub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWyd0eXBlJ11dWydpbXBvcnRzJ10KICAgICAgICAgICAgcmVxdWlyZW1lbnRzID0gcmVxdWlyZW1lbnRzICsgXAogICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddW25vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydkYXRhc291cmNlJ11bJ3R5cGUnXV0uZ2V0KCdyZXF1aXJlbWVudHMnLFtdKQoKICAgICAgICBlbGlmIG5vZGUuY2xhc3NOYW1lID09ICdBZGFwdGVyTWV0aG9kQ29uZmlnJzoKICAgICAgICAgICAgcHJpbnQoJ25vZGUgbmFtZSBpczogJywgbm9kZS5uYW1lKQogICAgICAgICAgICB0cmFuc2Zvcm1lclNjcmlwdCA9IGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bJ3NjcmlwdCddCiAgICAgICAgICAgIHByaW50KGVsZW1lbnQpCiAgICAgICAgICAgIG5vZGVuYW1lID0gJycuam9pbihub2RlLm5hbWUuc3BsaXQoJyAnKSkKICAgICAgICAgICAgCiAgICAgICAgICAgIHRyYW5zZm9ybWVyU2NyaXB0ID0gdHJhbnNmb3JtZXJTY3JpcHQucmVwbGFjZSgnXzxpZD4nLCAnJykKICAgICAgICAgICAgdHJhbnNmb3JtZXJTY3JpcHQgPSB0cmFuc2Zvcm1lclNjcmlwdC5yZXBsYWNlKCc8aWQ+Jywgbm9kZS5pZCkKICAgICAgICAgICAgCiAgICAgICAgICAgICMgQ2hlY2tpbmcgaWYgdGhlIGZ1bmN0aW9uIGRlZmluaXRpb24gaXMgYWxyZWFkeSBleGlzdHMgaW4gc2NyaXB0CiAgICAgICAgICAgIGlmIG5vZGUuY2xhc3NOYW1lIGluIGZ1bmN0aW9uX2ZsYWc6CiAgICAgICAgICAgICAgICBwcmludCgnZXhpdHMnLCBub2RlLmNsYXNzTmFtZSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGZ1bmN0aW9uX2ZsYWdbbm9kZS5jbGFzc05hbWVdID0gMQogICAgICAgICAgICAgICAgZnVuY3Rpb25zLmFwcGVuZCh0cmFuc2Zvcm1lclNjcmlwdCkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICBpbXBvcnRfbGluZXMgPSBpbXBvcnRfbGluZXMgKyBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddWydpbXBvcnRzJ10KICAgICAgICAgICAgaWYgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXS5nZXQoJ3JlcXVpcmVtZW50cycsICcnKSAhPSAnJzoKICAgICAgICAgICAgICAgIHJlcXVpcmVtZW50cyA9IHJlcXVpcmVtZW50cyArIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ10uZ2V0KCdyZXF1aXJlbWVudHMnLCBbXSkKICAgICAgICAgICAgICAgIHByaW50KHJlcXVpcmVtZW50cykKCiAgICAgICAgICAgICAgCiAgICAgICAgIyBQcmUtcHJvY2Vzc2luZyBTY3JpcHQKICAgICAgICBlbGlmIG5vZGUuY2xhc3NOYW1lID09ICdTY3JpcHRUcmFuc2Zvcm1lckNvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1ByZVByb2Nlc3NpbmdTY3JpcHRDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdQb3N0UHJvY2Vzc2luZ1NjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ01vZGVsUHJlZGljdFNjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1B5dGhvblNjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1Bvc3RQeXRob25TY3JpcHRDb25maWcnOgogICAgICAgICAgICBwcm9jZXNzaW5nU2NyaXB0ID0gJycKICAgICAgICAgICAgcHJvY2Vzc2luZ1NjcmlwdCA9ICgnJykuam9pbihub2RlLmF0dHJpYnV0ZXNbJ3NjcmlwdCddKQogICAgICAgICAgICBwcmludChwcm9jZXNzaW5nU2NyaXB0KQogICAgICAgICAgICBwcm9jZXNzaW5nU2NyaXB0ID0gcHJvY2Vzc2luZ1NjcmlwdC5yZXBsYWNlKCdcXG4nLCAnXHInKQogICAgICAgICAgICAjcHJvY2Vzc2luZ1NjcmlwdCA9IHByb2Nlc3NpbmdTY3JpcHQucmVwbGFjZSgnXG4nLCAnXG4nKQogICAgICAgICAgICAjcHJvY2Vzc2luZ1NjcmlwdCA9IHByb2Nlc3NpbmdTY3JpcHQucmVwbGFjZSgnXHInLCAnXG4nKQogICAgICAgICAgICBwcmludChwcm9jZXNzaW5nU2NyaXB0KQogICAgICAgICAgICBwcm9jZXNzaW5nU2NyaXB0ID0gcHJvY2Vzc2luZ1NjcmlwdC5yZXBsYWNlKCdfPGlkPicsICcnKQogICAgICAgICAgICBwcm9jZXNzaW5nU2NyaXB0ID0gcHJvY2Vzc2luZ1NjcmlwdC5yZXBsYWNlKCc8aWQ+Jywgbm9kZS5pZCkKICAgICAgICAgICAgbm9kZW5hbWUgPSBub2RlLmF0dHJpYnV0ZXMuZ2V0KCdGdW5jdGlvbk5hbWUnLCAnJykKICAgICAgICAgICAgCiAgICAgICAgICAgICMgQ2hlY2tpbmcgaWYgdGhlIGZ1bmN0aW9uIGRlZmluaXRpb24gaXMgYWxyZWFkeSBleGlzdHMgaW4gc2NyaXB0CiAgICAgICAgICAgIGlmIG5vZGVuYW1lIGluIGZ1bmN0aW9uX2ZsYWc6CiAgICAgICAgICAgICAgICBwcmludCgnZXhpdHMnLCBub2RlbmFtZSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGZ1bmN0aW9uX2ZsYWdbbm9kZW5hbWVdID0gMQogICAgICAgICAgICAgICAgZnVuY3Rpb25zLmFwcGVuZChwcm9jZXNzaW5nU2NyaXB0KQogICAgICAgICAgICBpZiBpc2luc3RhbmNlKG5vZGUuYXR0cmlidXRlc1sncmVxdWlyZW1lbnRzJ10sc3RyKSA6CiAgICAgICAgICAgICAgICByZXF1aXJlbWVudHMgPSByZXF1aXJlbWVudHMgKyBub2RlLmF0dHJpYnV0ZXNbJ3JlcXVpcmVtZW50cyddLnNwbGl0KCcsJykKICAgICAgICAKCiAgICAgICAgIyBMb2FkZXJzCiAgICAgICAgZWxpZiBub2RlLmNsYXNzTmFtZSA9PSAnRGF0YXNldExvYWRlckNvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ01vZGVsTG9hZGVyQ29uZmlnJzoKCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGxvYWRlcnNjcmlwdCA9IGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddXVsnc2NyaXB0J10KICAgICAgICAgICAgICAgIHJlcXVpcmVtZW50cyA9IHJlcXVpcmVtZW50cyArIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddXS5nZXQoJ3JlcXVpcmVtZW50cycsW10pCgogICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICBsb2FkZXJzY3JpcHQgPSBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddWydzY3JpcHQnXQogICAgICAgICAgICAgICAgcmVxdWlyZW1lbnRzID0gcmVxdWlyZW1lbnRzICsgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXS5nZXQoJ3JlcXVpcmVtZW50cycsJycpCiAgICAgICAgICAgIGxvYWRlcnNjcmlwdCA9IGxvYWRlcnNjcmlwdC5yZXBsYWNlKCdfPGlkPicsICcnKQogICAgICAgICAgICAKICAgICAgICAgICAgIyBSZXRyaXZpbmcgcGFyYW1ldGVycyBvZiBEYXRhc2V0IExvYWRlcgogICAgICAgICAgICBleHRyYWN0b3JwYXJhbXMgPSByZS5maW5kYWxsKCdkZWYgRGF0YXNldExvYWRlclwoLio/XCknLCBsb2FkZXJzY3JpcHQpCgogICAgICAgICAgICBleHRyYWN0b3JwYXJhbXMgPSByZS5maW5kYWxsKCdcKC4qP1wpJywgZXh0cmFjdG9ycGFyYW1zWzBdKQogICAgICAgICAgICAKICAgICAgICAgICAgZXh0cmFjdG9ycGFyYW1zID0gZXh0cmFjdG9ycGFyYW1zWzBdWzE6LTFdLnNwbGl0KCcsICcpCiAgICAgICAgICAgIHBhcmEgPSBbXQogICAgICAgICAgICBmb3IgcCBpbiBleHRyYWN0b3JwYXJhbXM6CiAgICAgICAgICAgICAgICBwYXJhLmV4dGVuZChwLnNwbGl0KCcsJykpCiAgICAgICAgICAgIAogICAgICAgICAgICBkYXRhc2V0X2xvYWRlcl9wYXJhbXMgPSBbcC5zcGxpdCgnPScpWzBdLnN0cmlwKCkgZm9yIHAgaW4gcGFyYV0KICAgICAgICAgICAgbG9hZGVyc2NyaXB0ID0gbG9hZGVyc2NyaXB0LnJlcGxhY2UoJzxpZD4nLCBub2RlLmlkKQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgbm9kZS5hdHRyaWJ1dGVzLmdldCgnZGF0YXNldCcsICcnKSAhPSAnJyBhbmQgaXNpbnN0YW5jZShub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnYXR0cmlidXRlcyddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cik6CiAgICAgICAgICAgICAgICBub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnYXR0cmlidXRlcyddID0ganNvbi5sb2Fkcyhub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnYXR0cmlidXRlcyddKQogICAgICAgICAgICBpZiBub2RlLmF0dHJpYnV0ZXMuZ2V0KCdkYXRhc2V0JywgJycpICE9ICcnIGFuZCBpc2luc3RhbmNlKG5vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydkYXRhc291cmNlJ11bJ2Nvbm5lY3Rpb25EZXRhaWxzJ10gLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cik6CiAgICAgICAgICAgICAgICBub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWydjb25uZWN0aW9uRGV0YWlscyddID0ganNvbi5sb2FkcygKICAgICAgICAgICAgICAgICAgICBub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWydjb25uZWN0aW9uRGV0YWlscyddKQogICAgICAgICAgICAKICAgICAgICAgICAgIyBDaGVja2luZyBpZiB0aGUgZnVuY3Rpb24gZGVmaW5pdGlvbiBpcyBhbHJlYWR5IGV4aXN0cyBpbiBzY3JpcHQKICAgICAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgaW4gZnVuY3Rpb25fZmxhZzoKICAgICAgICAgICAgICAgIHByaW50KCdleGl0cycsIG5vZGUuY2xhc3NOYW1lKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgZnVuY3Rpb25fZmxhZ1tub2RlLmNsYXNzTmFtZV0gPSAxCiAgICAgICAgICAgICAgICBmdW5jdGlvbnMuYXBwZW5kKGxvYWRlcnNjcmlwdCkKCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGltcG9ydF9saW5lcyA9IGltcG9ydF9saW5lcyArIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddXVsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaW1wb3J0cyddCgogICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICBpbXBvcnRfbGluZXMgPSBpbXBvcnRfbGluZXMgKyBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddWydpbXBvcnRzJ10KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgIGVsaWYgbm9kZS5jbGFzc05hbWUgPT0gJ0ZsYXNrQXBwJzoKICAgICAgICAgICAgZmxhc2tfZmxhZyA9IFRydWUKICAgICAgICAgICAgcHJvY2Vzc2luZ1NjcmlwdCA9ICcnCiAgICAgICAgICAgIHByb2Nlc3NpbmdTY3JpcHQgPSAoJycpLmpvaW4obm9kZS5hdHRyaWJ1dGVzWydzY3JpcHQnXSkKICAgICAgICAgICAgZmxhc2tfYXBwLmFwcGVuZChwcm9jZXNzaW5nU2NyaXB0KQogICAgICAgICAgICB0cmFuc2Zvcm1lclNjcmlwdCA9IGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bJ3NjcmlwdCddCiAgICAgICAgICAgIGZ1bmN0aW9ucy5hcHBlbmQodHJhbnNmb3JtZXJTY3JpcHQpCiAgICAgICAgICAgIGltcG9ydF9saW5lcyA9IGltcG9ydF9saW5lcyArIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bJ2ltcG9ydHMnXQogICAgICAgICAgICBpZiBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddLmdldCgncmVxdWlyZW1lbnRzJywgJycpICE9ICcnOgogICAgICAgICAgICAgICAgcmVxdWlyZW1lbnRzID0gcmVxdWlyZW1lbnRzICsgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXS5nZXQoJ3JlcXVpcmVtZW50cycsIFtdKQogICAgICAgICAgICAgICAgcHJpbnQocmVxdWlyZW1lbnRzKQogICAgICAgICAgICAgICAgCiAgICAgICAgZWxpZiBub2RlLmNsYXNzTmFtZSA9PSAnRmxhc2tBUFAnOgogICAgICAgICAgICBmbGFza19mbGFnID0gVHJ1ZQogICAgICAgICAgICBwcm9jZXNzaW5nU2NyaXB0ID0gJycKICAgICAgICAgICAgcHJvY2Vzc2luZ1NjcmlwdCA9ICgnJykuam9pbihub2RlLmF0dHJpYnV0ZXNbJ3NjcmlwdCddKQogICAgICAgICAgICBmbGFza19hcHAuYXBwZW5kKHByb2Nlc3NpbmdTY3JpcHQpCiAgICAgICAgICAgIHRyYW5zZm9ybWVyU2NyaXB0ID0gZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVsnc2NyaXB0J10KICAgICAgICAgICAgZnVuY3Rpb25zLmFwcGVuZCh0cmFuc2Zvcm1lclNjcmlwdCkKICAgICAgICAgICAgaW1wb3J0X2xpbmVzID0gaW1wb3J0X2xpbmVzICsgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVsnaW1wb3J0cyddCiAgICAgICAgICAgIGlmIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ10uZ2V0KCdyZXF1aXJlbWVudHMnLCAnJykgIT0gJyc6CiAgICAgICAgICAgICAgICByZXF1aXJlbWVudHMgPSByZXF1aXJlbWVudHMgKyBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddLmdldCgncmVxdWlyZW1lbnRzJywgW10pCiAgICAgICAgICAgICAgICBwcmludChyZXF1aXJlbWVudHMpCiAgICAgICAgCiAgICAgICAgZWxpZiBub2RlLmNsYXNzTmFtZT09J1B5dGhvbkNsYXNzJzoKICAgICAgICAgICAgZmxhc2tfZmxhZyA9IFRydWUKICAgICAgICAgICAgcHJvY2Vzc2luZ1NjcmlwdCA9ICcnCiAgICAgICAgICAgIHByb2Nlc3NpbmdTY3JpcHQgPSAoJycpLmpvaW4obm9kZS5hdHRyaWJ1dGVzWydzY3JpcHQnXSkKICAgICAgICAgICAgZnVuY3Rpb25zLmFwcGVuZChwcm9jZXNzaW5nU2NyaXB0KQoKICAgICAgICAjIFRyYW5zZm9ybWVycwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KCdub2RlIG5hbWUgaXM6ICcsIG5vZGUubmFtZSkKICAgICAgICAgICAgdHJhbnNmb3JtZXJTY3JpcHQgPSBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddWydzY3JpcHQnXQogICAgICAgICAgICBwcmludChlbGVtZW50KQogICAgICAgICAgICBub2RlbmFtZSA9ICcnLmpvaW4obm9kZS5uYW1lLnNwbGl0KCcgJykpCiAgICAgICAgICAgIAogICAgICAgICAgICB0cmFuc2Zvcm1lclNjcmlwdCA9IHRyYW5zZm9ybWVyU2NyaXB0LnJlcGxhY2UoJ188aWQ+JywgJycpCiAgICAgICAgICAgIHRyYW5zZm9ybWVyU2NyaXB0ID0gdHJhbnNmb3JtZXJTY3JpcHQucmVwbGFjZSgnPGlkPicsIG5vZGUuaWQpCiAgICAgICAgICAgIAogICAgICAgICAgICAjIENoZWNraW5nIGlmIHRoZSBmdW5jdGlvbiBkZWZpbml0aW9uIGlzIGFscmVhZHkgZXhpc3RzIGluIHNjcmlwdAogICAgICAgICAgICBpZiBub2RlLmNsYXNzTmFtZSBpbiBmdW5jdGlvbl9mbGFnOgogICAgICAgICAgICAgICAgcHJpbnQoJ2V4aXRzJywgbm9kZS5jbGFzc05hbWUpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBmdW5jdGlvbl9mbGFnW25vZGUuY2xhc3NOYW1lXSA9IDEKICAgICAgICAgICAgICAgIGZ1bmN0aW9ucy5hcHBlbmQodHJhbnNmb3JtZXJTY3JpcHQpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgaW1wb3J0X2xpbmVzID0gaW1wb3J0X2xpbmVzICsgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVsnaW1wb3J0cyddCiAgICAgICAgICAgIGlmIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ10uZ2V0KCdyZXF1aXJlbWVudHMnLCAnJykgIT0gJyc6CiAgICAgICAgICAgICAgICByZXF1aXJlbWVudHMgPSByZXF1aXJlbWVudHMgKyBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddLmdldCgncmVxdWlyZW1lbnRzJywgW10pCiAgICAgICAgICAgICAgICBwcmludChyZXF1aXJlbWVudHMpCiAgICAgICAgICAgIAoKCiAgICBpbXBvcnRfbGluZXMgPSBbbCBmb3IgbCBpbiBzZXQoaW1wb3J0X2xpbmVzKSBpZiBsICE9ICcnXQogICAgcmVxdWlyZW1lbnRzID0gW2wgZm9yIGwgaW4gc2V0KHJlcXVpcmVtZW50cykgaWYgbCAhPSAnJ10KICAgIAogICAgaWYgZmxhc2tfZmxhZzoKICAgICAgICBwaXBlbGluZUNvZGUgPSBiYXNlU2NyaXB0X2ZsYXNrKCkKICAgIGVsc2U6CiAgICAgICAgcGlwZWxpbmVDb2RlID0gYmFzZVNjcmlwdCgpCiAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne2ltcG9ydHN9JywgKCdcbicpLmpvaW4oaW1wb3J0X2xpbmVzKSkKICAgIGlmIGxlbihyZXF1aXJlbWVudHMpPjA6CiAgICAgICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3tyZXF1aXJlbWVudHN9JywgJ1wnJysgKCdcJyxcJycpLmpvaW4ocmVxdWlyZW1lbnRzKSsnXCcnKQogICAgZWxzZToKICAgICAgICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3tyZXF1aXJlbWVudHN9JywgJycpCiAgICAgICAgCiAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne3BpcGVsaW5lTmFtZX0nLCBhcmdzRGljdFsncGlwZWxpbmVOYW1lJ10pCiAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne2Z1bmN0aW9uc30nLCAoJ1xyJykuam9pbihmdW5jdGlvbnMpKQogICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3tmbGFza19hcHB9JywgKCdccicpLmpvaW4oZmxhc2tfYXBwKSkKICAgIGV4ZWN1dGlvbk9yZGVyID0gJ1xuJwogICAgCiAgICAKICAgIAogICAgZm9yIG5vZGUgaW4gb3JkZXJlZEVsZW1lbnRMaXN0OgogICAgICAgIGlucHV0cyA9IFtdCiAgICAgICAgCiAgICAgICAgIyBJbml0aWFsaXppbmcgcG9zaXRpb25pbmcgb3JkZXIgZm9yIGlucHV0IGVudHJpZXMgb2YgYSBub2RlCiAgICAgICAgcG9zaXRpb25fb3JkZXJpbmcgPSB7J0xlZnRNaWRkbGUnOiAwLCdUb3BDZW50ZXInOiAxLCAnUmlnaHRNaWRkbGUnOiAyLCAnQm90dG9tQ2VudGVyJzogM30KICAgICAgICBpbmRleF9vcmRlcmluZyA9IHswOiAnTGVmdE1pZGRsZScsIDE6ICdUb3BDZW50ZXInLCAyOiAnUmlnaHRNaWRkbGUnLCAzOiAnQm90dG9tQ2VudGVyJ30KICAgICAgICBvdXRwdXRzID0gW10KICAgICAgICBub2RlbmFtZSA9ICcnLmpvaW4obm9kZS5uYW1lLnNwbGl0KCcgJykpCiAgICAgICAgIyBub2RlbmFtZSA9ICdfJy5qb2luKG5vZGUubmFtZS5zdHJpcCgpLnNwbGl0KCcgJykpLmxvd2VyKCkKICAgICAgICBub2RlaWQgPSBub2RlLmlkCiAgICAgICAgCiAgICAgICAgaWYgbm9kZW5hbWUgPT0gJ0RhdGFzZXRFeHRyYWN0b3InOgogICAgICAgICAgICBub2RlbmFtZSA9IG5vZGVuYW1lICsgbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddCiAgICAgICAgCiAgICAgICAgIyBpZiBub2RlbmFtZSA9PSAnUHl0aG9uU2NyaXB0JyBvciBub2RlbmFtZSA9PSAnUG9zdFB5dGhvblNjcmlwdCcgb3Igbm9kZW5hbWUgPT0gJ1Bvc3RQcm9jZXNzaW5nU2NyaXB0JyBvciBub2RlbmFtZSA9PSAnUHJlUHJvY2Vzc2luZ1NjcmlwdCc6CiAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgPT0gJ1NjcmlwdFRyYW5zZm9ybWVyQ29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUHJlUHJvY2Vzc2luZ1NjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1Bvc3RQcm9jZXNzaW5nU2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnTW9kZWxQcmVkaWN0U2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUHl0aG9uU2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUG9zdFB5dGhvblNjcmlwdENvbmZpZyc6CiAgICAgICAgICAgIG5vZGVuYW1lID0gbm9kZS5hdHRyaWJ1dGVzLmdldCgnRnVuY3Rpb25OYW1lJywgJycpCiAgICAgICAgICAgIG5vZGUuZm9ybWF0cyA9IHtwYXJhWyduYW1lJ10uc3BsaXQoJzonKVswXTogY29uKHBhcmFbJ25hbWUnXS5zcGxpdCgnOicpWy0xXSwgcGFyYVsndmFsdWUnXSkgZm9yIHBhcmEgaW4gbm9kZS5hdHRyaWJ1dGVzLmdldCgncGFyYW1zJywgJycpIGlmIGxlbihwYXJhKSA+IDB9CiAgICAgICAgICAgIG5vZGUuYXR0cmlidXRlcyA9IHtwYXJhWyduYW1lJ10uc3BsaXQoJzonKVswXTogcGFyYVsndmFsdWUnXSBmb3IgcGFyYSBpbiBub2RlLmF0dHJpYnV0ZXMuZ2V0KCdwYXJhbXMnLCAnJykgaWYgbGVuKHBhcmEpID4gMH0KCiAgICAgICAgCiAgICAgICAgZm9yIGNvbm5lY3RvciBpbiBub2RlLmNvbm5lY3RvcnM6CgogICAgICAgICAgICBpZiAoY29ubmVjdG9yWyd0eXBlJ10gPT0gJ3RhcmdldCcpOgogICAgICAgICAgICAgICAgaW5wdXRzLmFwcGVuZChwb3NpdGlvbl9vcmRlcmluZ1tjb25uZWN0b3JbJ3Bvc2l0aW9uJ11dKQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChjb25uZWN0b3JbJ3R5cGUnXSA9PSAnc291cmNlJyk6CiAgICAgICAgICAgICAgICBvdXRwdXRzLmFwcGVuZCgnZHNfJyArIGNvbm5lY3RvclsnZWxlbWVudFBvc2l0aW9uJ10gKyAnXycgKyBjb25uZWN0b3JbJ2VsZW1lbnRJZCddKQogICAgICAgIAogICAgICAgICMgUG9zaXRpb25pbmcgaW5wdXQgZW50cmllcyBmb3IgYSBub2RlICAgICAgICAKICAgICAgICBpbnB1dHMuc29ydCgpCiAgICAgICAgCiAgICAgICAgaW5wdXRzID0gWydkc18nICsgaW5kZXhfb3JkZXJpbmdbcG9zXSArICdfJyArIG5vZGVpZCBmb3IgcG9zIGluIGlucHV0c10KICAgICAgICAKICAgICAgICAjIEFkZGluZyBwYXJhbWV0ZXJzIGZvciByZXNwZWN0aXZlIGZ1bmN0aW9uIGNhbGwKICAgICAgICBkZWZhdWx0X3BhcmFtcyA9IFtdCiAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgPT0gJ0RhdGFzZXRFeHRyYWN0b3JDb25maWcnOgogICAgICAgICAgICBkZWZhdWx0X3BhcmFtcyA9IFtdCiAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zID0gW2UgKyAnPVwnPCcgKyBlLnJlcGxhY2UoJ18nLCAnLicpICsgJz5cJycgZm9yIGUgaW4gZGF0YXNldF9leHRyYWN0b3JfcGFyYW1bbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddXV0KICAgICAgICAgICAgCiAgICAgICAgZWxpZiBub2RlLmNsYXNzTmFtZSA9PSAnQWRhcHRlck1ldGhvZENvbmZpZyc6CiAgICAgICAgICAgIGFjdHVhbF9wYXJhbXMgPSBub2RlLmF0dHJpYnV0ZXMgICAgICAgICAgICAKICAgICAgICAgICAgYWN0dWFsX3BhcmFtID0gbGlzdChhY3R1YWxfcGFyYW1zLmtleXMoKSkKICAgICAgICAgICAgc2NyaXB0X2JvZHkgPSB7cGFyYW06ICdfJy5qb2luKHJlLnNwbGl0KCdcc1xzKicsIHBhcmFtLnN0cmlwKCkpKSBmb3IgcGFyYW0gaW4gYWN0dWFsX3BhcmFtfQogICAgICAgICAgICBkZWZhdWx0X3BhcmFtcyA9IFtdCiAgICAgICAgICAgIGFjdHVhbF9mb3JtYXRzID0gbm9kZS5mb3JtYXRzCiAgICAgICAgICAgIE5vbmVUeXBlID0gdHlwZShOb25lKQogICAgICAgIAogICAgICAgICAgICAjIFZhbHVlIHR5cGUgYXMgU3RyaW5nIG9yIE5vbi1zdHJpbmcgZGVwZW5kaW5nIG9uIGZvcm1hdCB0eXBlCiAgICAgICAgICAgIGZvciBrZXksIHZhbCBpbiBzY3JpcHRfYm9keS5pdGVtcygpOiAKICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPTwnICsga2V5ICsgJz4nKQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgIGVsaWYgbm9kZS5jbGFzc05hbWUgPT0gJ0RhdGFzZXRMb2FkZXJDb25maWcnOgogICAgICAgICAgICBkZWZhdWx0X3BhcmFtcyA9IFtdCiAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zID0gW2UgKyAnPVwnPCcgKyBlLnJlcGxhY2UoJ18nLCAnLicpICsgJz5cJycgZm9yIGUgaW4gZGF0YXNldF9sb2FkZXJfcGFyYW1zWzE6XV0KICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICMgZWxpZiBub2RlLmNsYXNzTmFtZSA9PSAnUHl0aG9uU2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUG9zdFB5dGhvblNjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1ByZVByb2Nlc3NpbmdTY3JpcHRDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdQb3N0UHJvY2Vzc2luZ1NjcmlwdENvbmZpZyc6CiAgICAgICAgZWxpZiBub2RlLmNsYXNzTmFtZSA9PSAnU2NyaXB0VHJhbnNmb3JtZXJDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdQcmVQcm9jZXNzaW5nU2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUG9zdFByb2Nlc3NpbmdTY3JpcHRDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdNb2RlbFByZWRpY3RTY3JpcHRDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdQeXRob25TY3JpcHRDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdQb3N0UHl0aG9uU2NyaXB0Q29uZmlnJzoKICAgICAgICAgICAgYWN0dWFsX3BhcmFtcyA9IG5vZGUuYXR0cmlidXRlcyAgICAgICAgICAgIAogICAgICAgICAgICBhY3R1YWxfcGFyYW0gPSBsaXN0KGFjdHVhbF9wYXJhbXMua2V5cygpKQogICAgICAgICAgICBzY3JpcHRfYm9keSA9IHtwYXJhbTogJ18nLmpvaW4ocmUuc3BsaXQoJ1xzXHMqJywgcGFyYW0ubG93ZXIoKS5zdHJpcCgpKSkgKyAnX3BhcmFtJyBmb3IgcGFyYW0gaW4gYWN0dWFsX3BhcmFtfQogICAgICAgICAgICBkZWZhdWx0X3BhcmFtcyA9IFtdCiAgICAgICAgICAgIGFjdHVhbF9mb3JtYXRzID0gbm9kZS5mb3JtYXRzCiAgICAgICAgICAgIE5vbmVUeXBlID0gdHlwZShOb25lKQogICAgICAgIAogICAgICAgICAgICBmb3Iga2V5LCB2YWwgaW4gc2NyaXB0X2JvZHkuaXRlbXMoKTogCiAgICAKICAgICAgICAgICAgICAgIGlmIGtleSA9PSAnc2NyaXB0JzoKICAgICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgIyBWYWx1ZSB0eXBlIGFzIFN0cmluZyBvciBOb24tc3RyaW5nIGRlcGVuZGluZyBvbiBmb3JtYXQgdHlwZQogICAgICAgICAgICAgICAgZWxpZiBhY3R1YWxfZm9ybWF0c1trZXldID09ICd0ZXh0JzoKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X3BhcmFtcy5hcHBlbmQodmFsICsgJz1cJzwnICsga2V5ICsgJz5cJycpIAogICAgICAgICAgICAgICAgZWxpZiBhY3R1YWxfZm9ybWF0c1trZXldID09ICd0ZXh0YXJlYSc6CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9XCdcJ1wnPCcgKyBrZXkgKyAnPlwnXCdcJycpIAogICAgICAgICAgICAgICAgZWxpZiBhY3R1YWxfZm9ybWF0c1trZXldID09ICdpbnRlZ2VyJzoKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X3BhcmFtcy5hcHBlbmQodmFsICsgJz08JyArIGtleSArICc+JykKICAgICAgICAgICAgICAgIGVsaWYgYWN0dWFsX2Zvcm1hdHNba2V5XSA9PSAnYm9vbCc6CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9PCcgKyBrZXkgKyAnPicpCiAgICAgICAgICAgICAgICBlbGlmICdkcm9wJyBpbiBhY3R1YWxfZm9ybWF0c1trZXldLmxvd2VyKCk6ICAjIGZvciBkcm9wIGRvd24gdmFsdWVzCiAgICAgICAgICAgICAgICAgICAgaWYgYWN0dWFsX2Zvcm1hdHNbYWN0dWFsX2Zvcm1hdHNba2V5XV1bMF0uaXNhbHBoYSgpOgogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X3BhcmFtcy5hcHBlbmQodmFsICsgJz1cJzwnICsga2V5ICsgJz5cJycpCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9PCcgKyBrZXkgKyAnPicpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPTwnICsga2V5ICsgJz4nKQogICAgICAgIGVsc2U6ICAgICAgICAgICAgICAgCiAgICAgICAgICAgIGFjdHVhbF9wYXJhbXMgPSBub2RlLmF0dHJpYnV0ZXMgICAgICAgICAgICAKICAgICAgICAgICAgYWN0dWFsX3BhcmFtID0gbGlzdChhY3R1YWxfcGFyYW1zLmtleXMoKSkKICAgICAgICAgICAgc2NyaXB0X2JvZHkgPSB7cGFyYW06ICdfJy5qb2luKHJlLnNwbGl0KCdcc1xzKicsIHBhcmFtLmxvd2VyKCkuc3RyaXAoKSkpICsgJ19wYXJhbScgZm9yIHBhcmFtIGluIGFjdHVhbF9wYXJhbX0KICAgICAgICAgICAgcHJpbnQoJy8vLy8vLy8vLy8vLy8vJyxzY3JpcHRfYm9keSkKICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMgPSBbXQogICAgICAgICAgICBhY3R1YWxfZm9ybWF0cyA9IG5vZGUuZm9ybWF0cwogICAgICAgICAgICBOb25lVHlwZSA9IHR5cGUoTm9uZSkKICAgICAgICAKICAgICAgICAgICAgIyBWYWx1ZSB0eXBlIGFzIFN0cmluZyBvciBOb24tc3RyaW5nIGRlcGVuZGluZyBvbiBmb3JtYXQgdHlwZQogICAgICAgICAgICBmb3Iga2V5LCB2YWwgaW4gc2NyaXB0X2JvZHkuaXRlbXMoKTogCiAgICAgICAgICAgICAgICBpZiBhY3R1YWxfZm9ybWF0c1trZXldID09ICd0ZXh0JzoKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X3BhcmFtcy5hcHBlbmQodmFsICsgJz1cJzwnICsga2V5ICsgJz5cJycpIAogICAgICAgICAgICAgICAgZWxpZiBhY3R1YWxfZm9ybWF0c1trZXldID09ICd0ZXh0YXJlYSc6CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9XCdcJ1wnPCcgKyBrZXkgKyAnPlwnXCdcJycpIAogICAgICAgICAgICAgICAgZWxpZiBhY3R1YWxfZm9ybWF0c1trZXldID09ICdpbnRlZ2VyJyBvciBhY3R1YWxfZm9ybWF0c1trZXldID09ICdpbnQnOgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPTwnICsga2V5ICsgJz4nKQogICAgICAgICAgICAgICAgZWxpZiBhY3R1YWxfZm9ybWF0c1trZXldID09ICdib29sJzoKICAgICAgICAgICAgICAgICAgICAjIGtleSA9ICdUcnVlJyBpZiBrZXkgPT0gJ3RydWUnIGVsc2UgJ0ZhbHNlJwogICAgICAgICAgICAgICAgICAgIHByaW50KCdrZXknLCBrZXkpCiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9PCcgKyBrZXkgKyAnPicpCiAgICAgICAgICAgICAgICBlbGlmICdkcm9wJyBpbiBhY3R1YWxfZm9ybWF0c1trZXldLmxvd2VyKCk6ICAjIGZvciBkcm9wIGRvd24gdmFsdWVzCiAgICAgICAgICAgICAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgPT0gJ0RhdGFFeHRyYWN0b3InOgogICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxfZm9ybWF0c1thY3R1YWxfZm9ybWF0c1trZXldXSA9IFt7fV0KICAgICAgICAgICAgICAgICAgICBpZiBpc2luc3RhbmNlKGFjdHVhbF9mb3JtYXRzW2FjdHVhbF9mb3JtYXRzW2tleV1dWzBdLCBzdHIpIGFuZCBhY3R1YWxfZm9ybWF0c1thY3R1YWxfZm9ybWF0c1trZXldXVswXS5pc2FscGhhKCk6CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X3BhcmFtcy5hcHBlbmQodmFsICsgJz1cJzwnICsga2V5ICsgJz5cJycpCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9PCcgKyBrZXkgKyAnPicpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPTwnICsga2V5ICsgJz4nKQogICAgICAgICAgICAgICAgCiAgICAgICAgIyBHZW5lcmF0aW5nIGZ1bmN0aW9uIGNhbGwKICAgICAgICBpZiBsZW4ob3V0cHV0cykgPiAwOgogICAgICAgICAgICBjYWxsID0gJyAgICAnICsgJywnLmpvaW4ob3V0cHV0cykgKyAnID0gJyArIG5vZGVuYW1lICsgJygnICsgJywnLmpvaW4oaW5wdXRzKQogICAgICAgICAgICBpZiBsZW4oZGVmYXVsdF9wYXJhbXMpID4gMDoKICAgICAgICAgICAgICAgIGNhbGwgKz0gJywgJyBpZiBsZW4oaW5wdXRzKSA+IDAgZWxzZSAnJwogICAgICAgICAgICAgICAgY2FsbCArPSAnLCcuam9pbihkZWZhdWx0X3BhcmFtcykKICAgICAgICAgICAgY2FsbCArPSAgJylcbicKICAgICAgICBlbHNlOgogICAgICAgICAgICBjYWxsID0gJyAgICAnICsgbm9kZW5hbWUgKyAnKCcgKyAnLCcuam9pbihpbnB1dHMpCiAgICAgICAgICAgIGlmIGxlbihkZWZhdWx0X3BhcmFtcykgPiAwOgogICAgICAgICAgICAgICAgY2FsbCArPSAnLCAnIGlmIGxlbihpbnB1dHMpID4gMCBlbHNlICcnCiAgICAgICAgICAgICAgICBjYWxsICs9ICcsJy5qb2luKGRlZmF1bHRfcGFyYW1zKQogICAgICAgICAgICBjYWxsICs9ICAnKVxuJyAgIAogICAgICAgICAgICAKICAgICAgICAjIEZpbGxpbmcgdGhlIHVzZXIgaW5wdXR0ZWQgdmFsdWVzIGluIGZ1bmN0aW9uIGNhbGwKICAgICAgICBjYWxsID0gZmlsbERhdGFub2RlKG5vZGUsIGNhbGwpIAogICAgICAgIAogICAgICAgIGlmIG5vZGUuY2xhc3NOYW1lID09ICdGbGFza0FQUCcgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ0ZsYXNrQXBwJzoKICAgICAgICAgICAgZmxhc2tfY2FsbCArPSBjYWxsCiAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgIT0gJ0ZsYXNrQVBQJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnRmxhc2tBUFAnOgogICAgICAgICAgICBleGVjdXRpb25PcmRlciA9IGV4ZWN1dGlvbk9yZGVyICsgY2FsbCAgICAKCiAgICBwcmludCgnZXhlY3V0aW9uT3JkZXInLCBleGVjdXRpb25PcmRlcikKICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7ZXhlY3V0aW9uT3JkZXJ9JywgZXhlY3V0aW9uT3JkZXIpCiAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne2V4ZWN1dGVmbGFza30nLCBmbGFza19jYWxsKQogICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ1xyJywgJ1xuJykKICAgIAogICAgCiAgICB3aXRoIG9wZW4ob3MucGF0aC5qb2luKGFyZ3NEaWN0WydzY3JpcHRQYXRoJ10sIGFyZ3NEaWN0WydwaXBlbGluZU5hbWUnXSArICdfZ2VuZXJhdGVkQ29kZS5weScpLCAndycpIGFzIGY6CiAgICAgICAgZi53cml0ZWxpbmVzKHBpcGVsaW5lQ29kZSkKCgpnZW5lcmF0ZVNjcmlwdChwaXBlbGluZV9qc29uKQoKcHJpbnQoJ0NvbXBsZXRlZCcpCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgo=","leo1311"
"LEOPRMTH45227","LEOPRMTH45227_leo1311.py","aW1wb3J0IHJlcXVlc3RzDQppbXBvcnQganNvbg0KaW1wb3J0IGxvZ2dpbmcgYXMgbG9nZ2VyDQppbXBvcnQgb3MNCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lICwgdGltZXpvbmUgLCB0aW1lZGVsdGENCmltcG9ydCBteXNxbC5jb25uZWN0b3IgYXMgY29ubmVjdG9yDQoNCg0KDQoNCg0KbG9nZ2VyLmJhc2ljQ29uZmlnKA0KICAgIGxldmVsPWxvZ2dlci5JTkZPLA0KICAgIGZvcm1hdD0nJShhc2N0aW1lKXMgSU5GTyAlKG1lc3NhZ2UpcycsDQogICAgZGF0ZWZtdD0nJXkvJW0vJWQgJUg6JU06JVMnLA0KKQ0KDQojU2V0dGluZyBOb3Byb3h5DQpvcy5lbnZpcm9uWydIVFRQX1BST1hZJ109JycNCm9zLmVudmlyb25bJ0hUVFBTX1BST1hZJ109JycNCm9zLmVudmlyb25bJ2h0dHBfcHJveHknXT0nJw0Kb3MuZW52aXJvblsnaHR0cHNfcHJveHknXT0nJw0KDQoNCmN1cnJlbnRfdGltZSA9IGRhdGV0aW1lLm5vdyh0aW1lem9uZS51dGMpDQplbmRfZGF0ZXRpbWUgPSBjdXJyZW50X3RpbWUuc3RyZnRpbWUoIiVZLSVtLSVkVCVIOiVNOiVTWiIpDQpzdGFydD1jdXJyZW50X3RpbWUtIHRpbWVkZWx0YShtaW51dGVzPTUpDQpzdGFydF9kYXRldGltZT1zdGFydC5zdHJmdGltZSgiJVktJW0tJWRUJUg6JU06JVNaIikNCmxvZ2dlci5pbmZvKGVuZF9kYXRldGltZSkNCmxvZ2dlci5pbmZvKHN0YXJ0X2RhdGV0aW1lKQ0KDQoNCiNEQiBkZXRhaWxzDQp1c2VybmFtZT0ic3JlaW50Ig0KcGFzc3dvcmQ9IjVkXkZac3ZtIg0KaG9zdD0iMTAuODIuMTIyLjk0Ig0KcG9ydCA9IDMzMDYNCmRhdGFiYXNlID0gJ3NyZWludCcNCg0KDQp0cnk6DQogICAgY29ubmVjdGlvbiA9IGNvbm5lY3Rvci5jb25uZWN0KA0KICAgICAgICB1c2VyPXVzZXJuYW1lLCBwYXNzd29yZD1wYXNzd29yZCwgaG9zdD1ob3N0LCBwb3J0PXBvcnQsIGRhdGFiYXNlPWRhdGFiYXNlDQogICAgKQ0KICAgIGN1cnNvciA9IGNvbm5lY3Rpb24uY3Vyc29yKCkNCiAgICBxdWVyeT1mJ1NFTEVDVCAqIEZST00gYGluc3RhbmNlX2NpX3RocmVzaG9sZGA7Jw0KICAgIHF1ZXJ5Mj1mJ1NFTEVDVCAqIEZST00gYENNREJfTWV0cmljYDsnDQogICAgcXVlcnkzPWYnU0VMRUNUICogRlJPTSBgQ01EQl9DSWA7Jw0KICAgIGxvZ2dlci5pbmZvKCdxdWVyeScpDQogICAgbG9nZ2VyLmluZm8ocXVlcnkpDQogICAgY3Vyc29yLmV4ZWN1dGUocXVlcnkpDQogICAgbWFwcGluZ190YWJsZT1jdXJzb3IuZmV0Y2hhbGwoKTsNCiAgICBsb2dnZXIuaW5mbygncmVzdWx0IG9mIHN1YnF1ZXJ5JykNCiAgICAjbG9nZ2VyLmluZm8obWFwcGluZ190YWJsZSkNCiAgICBtYXBwaW5nID0ge30NCiAgICBmb3IgaSBpbiBtYXBwaW5nX3RhYmxlOg0KICAgICAgICBtYXBwaW5nW2lbMF0rJyAnK2lbMl1dPWlbMV0NCiAgICBsb2dnZXIuaW5mbyhtYXBwaW5nKQ0KICAgIGN1cnNvci5leGVjdXRlKHF1ZXJ5MikNCiAgICBDTURCX01ldHJpY190YWJsZT1jdXJzb3IuZmV0Y2hhbGwoKTsNCiAgICBsb2dnZXIuaW5mbygncmVzdWx0IG9mIHN1YnF1ZXJ5JykNCiAgICAjbG9nZ2VyLmluZm8oQ01EQl9NZXRyaWNfdGFibGUpDQogICAgQ01EQl9NZXRyaWMgPSB7fQ0KICAgIGZvciBpIGluIENNREJfTWV0cmljX3RhYmxlOg0KICAgICAgICBDTURCX01ldHJpY1tpWzFdXT1pWzBdDQogICAgbG9nZ2VyLmluZm8oQ01EQl9NZXRyaWMpDQogICAgDQogICAgY3Vyc29yLmV4ZWN1dGUocXVlcnkzKQ0KICAgIENNREJfQ0lfdGFibGU9Y3Vyc29yLmZldGNoYWxsKCk7DQogICAgbG9nZ2VyLmluZm8oJ3Jlc3VsdCBvZiBzdWJxdWVyeScpDQogICAgbG9nZ2VyLmluZm8oQ01EQl9DSV90YWJsZSkNCiAgICBDTURCX0NJID0ge30NCiAgICBmb3IgaSBpbiBDTURCX0NJX3RhYmxlOg0KICAgICAgICBDTURCX0NJW2lbMV1dPWlbMF0NCiAgICBsb2dnZXIuaW5mbyhDTURCX0NJKQ0KICANCmV4Y2VwdCBjb25uZWN0b3IuZXJyb3JzLk9wZXJhdGlvbmFsRXJyb3IgYXMgZToNCiAgICAjIEhhbmRsaW5nIHRoZSB0aW1lb3V0IGV4Y2VwdGlvbg0KICAgIGxvZ2dlci5pbmZvKCdNeVNRTCBjb25uZWN0aW9uIHRpbWVvdXQ6IHt9Jy5mb3JtYXQoZSkpDQoNCmZpbmFsbHk6DQogICAgIyBDbG9zZSB0aGUgZGF0YWJhc2UgY29ubmVjdGlvbg0KICAgIGN1cnNvci5jbG9zZSgpDQogICAgY29ubmVjdGlvbi5jbG9zZSgpDQoNCg0KZGVmIGluc2VydF9yZWNvcmRzKGRhdGEpOg0KICAgIHRyeToNCiAgICAgICAgY29ubmVjdGlvbiA9IGNvbm5lY3Rvci5jb25uZWN0KA0KICAgICAgICAgICAgdXNlcj11c2VybmFtZSwgcGFzc3dvcmQ9cGFzc3dvcmQsIGhvc3Q9aG9zdCwgcG9ydD1wb3J0LCBkYXRhYmFzZT1kYXRhYmFzZQ0KICAgICAgICApDQogICAgICAgIGN1cnNvciA9IGNvbm5lY3Rpb24uY3Vyc29yKCkNCiAgICAgICAgIiIiIEluc2VydHMgYSBzZXQgb2YgcmVjb3JkcyBpbnRvIHRoZSB0YWJsZSAiIiINCiAgICAgICAgY3Vyc29yLmV4ZWN1dGVtYW55KGYnSU5TRVJUIElOVE8gQ01EQl9DSV9NZXRyaWMgKGNpX2lkLCBtZXRyaWNfaWQsIHRpbWVzdGFtcCxtZXRyaWNfdmFsdWUpIFZBTFVFUyAoJXMsICVzLCAlcywgJXMpJywgZGF0YSkNCiAgICAgICAgY29ubmVjdGlvbi5jb21taXQoKQ0KICAgIGV4Y2VwdCBjb25uZWN0b3IuZXJyb3JzLk9wZXJhdGlvbmFsRXJyb3IgYXMgZToNCiAgICAgICAgIyBIYW5kbGluZyB0aGUgdGltZW91dCBleGNlcHRpb24NCiAgICAgICAgbG9nZ2VyLmluZm8oJ015U1FMIGNvbm5lY3Rpb24gdGltZW91dDoge30nLmZvcm1hdChlKSkNCiAgICANCiAgICBmaW5hbGx5Og0KICAgICAgICAjIENsb3NlIHRoZSBkYXRhYmFzZSBjb25uZWN0aW9uDQogICAgICAgIGN1cnNvci5jbG9zZSgpDQogICAgICAgIGNvbm5lY3Rpb24uY2xvc2UoKQ0KICANCiAgDQoNCg0KDQpwcm9tZXRoZXVzX3VybCA9ICJodHRwOi8vY3ZyaWN0bHB0bTIxOjkwOTAiDQoNCmNvbnZlcnRlZF9kYXRhID0gW10NCm1ldHJpY3M9Wydwcm9jZXNzX2NwdV91c2FnZScsICdqdm1faGVhcF9tZW1vcnlfdXNlZF9wZXJjZW50JywnaHR0cF9yZXF1ZXN0c19zdWNjZXNzZnVsX2F2ZycsJ2h0dHBfcmVxdWVzdHNfdW5zdWNjZXNzZnVsX2F2ZyddDQpmb3IgaSBpbiByYW5nZShsZW4obWV0cmljcykpOg0KICAgIHF1ZXJ5PWYicXVlcnlfcmFuZ2U/cXVlcnk9e21ldHJpY3NbaV19JnN0YXJ0PXtzdGFydF9kYXRldGltZX0mZW5kPXtlbmRfZGF0ZXRpbWV9JnN0ZXA9MTBzIg0KDQoNCiAgICByZXNwb25zZSA9IHJlcXVlc3RzLmdldChmIntwcm9tZXRoZXVzX3VybH0vYXBpL3YxL3txdWVyeX0iKQ0KDQogICAgI0NoZWNrIGZvciBzdWNjZXNzZnVsIHJlc3BvbnNlDQogICAgaWYgcmVzcG9uc2Uuc3RhdHVzX2NvZGUgPT0gMjAwOg0KICAgICAgICBkYXRhID0ganNvbi5sb2FkcyhyZXNwb25zZS50ZXh0KVsiZGF0YSJdWyJyZXN1bHQiXQ0KICAgICAgICAjanNvbi5mb3JtYXQoZGF0YSkNCiAgICAgICAgZm9yIGVudHJ5IGluIGRhdGE6DQogICAgICAgICAgICBtZXRyaWNfbmFtZSA9IGVudHJ5WydtZXRyaWMnXVsnX19uYW1lX18nXQ0KICAgICAgICAgICAgI2luc3RhbmNlX25hbWUgPSBlbnRyeVsnbWV0cmljJ11bJ2pvYiddWzM6XQ0KICAgICAgICAgICAgaW5zdGFuY2VfbmFtZSA9IGVudHJ5WydtZXRyaWMnXVsnaW5zdGFuY2UnXQ0KICAgICAgICAgICAgdmFsdWVzID0gZW50cnlbJ3ZhbHVlcyddDQogICAgICAgICAgICBtZXRyaWNfaWQ9Q01EQl9NZXRyaWNbbWV0cmljX25hbWVdDQogICAgICAgICAgICAjIENvbnZlcnQgdGltZXN0YW1wIGFuZCBtZXRyaWMgdmFsdWUNCiAgICAgICAgICAgIGNpX25hbWU9bWFwcGluZ1tpbnN0YW5jZV9uYW1lKycgJyttZXRyaWNfbmFtZV0NCiAgICAgICAgICAgIGNpX2lkPUNNREJfQ0lbY2lfbmFtZV0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgZm9yIHRpbWVzdGFtcCwgbWV0cmljX3ZhbHVlIGluIHZhbHVlczoNCiAgICAgICAgICAgICAgICBkYXRlX3RpbWUgPSBkYXRldGltZS5mcm9tdGltZXN0YW1wKHRpbWVzdGFtcCkNCiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRfZGF0ZV90aW1lID0gZGF0ZV90aW1lLnN0cmZ0aW1lKCIlWS0lbS0lZCAlSDolTTolUyIpDQogICAgICAgICAgICAgICAgY29udmVydGVkX2RhdGEuYXBwZW5kKHR1cGxlKChjaV9pZCwgbWV0cmljX2lkLCBmb3JtYXR0ZWRfZGF0ZV90aW1lLCBtZXRyaWNfdmFsdWUpKSkNCiAgICAgICAgDQogICAgICAgICNkYXRhPSBjb252ZXJ0ZWRfZGF0YQ0KICAgICAgICANCiAgICAgICAgI2xvZ2dlci5pbmZvKGRhdGEpDQogICAgZWxzZToNCiAgICAgICAgbG9nZ2VyLmluZm8oZiJFcnJvciBxdWVyeWluZyBQcm9tZXRoZXVzOiB7cmVzcG9uc2Uuc3RhdHVzX2NvZGV9IikNCiAgICANCiANCmluc2VydF9yZWNvcmRzKGNvbnZlcnRlZF9kYXRhKQ0KbG9nZ2VyLmluZm8oY29udmVydGVkX2RhdGEpICAgDQogICAgDQpsb2dnZXIuaW5mbygnY29tcGxldGVkJykNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQo=","leo1311"
"LEOPRCSM42051","LEOPRCSM42051_leo1311.py","ZnJvbSBweXNwYXJrLnNxbCBpbXBvcnQgU3BhcmtTZXNzaW9uCmltcG9ydCByZXF1ZXN0cwppbXBvcnQgc3lzCmltcG9ydCBteXNxbC5jb25uZWN0b3IKaW1wb3J0IGJhc2U2NCBhcyBiNjQKZnJvbSBweXNwYXJrLnNxbC5mdW5jdGlvbnMgaW1wb3J0ICoKZnJvbSBweXNwYXJrLnNxbC50eXBlcyBpbXBvcnQgKgppbXBvcnQganNvbgppbXBvcnQgZGF0ZXRpbWUKZnJvbSB1cmxsaWIucGFyc2UgaW1wb3J0IHF1b3RlX3BsdXMsIHVybHBhcnNlCmZyb20gbGVhcC51dGlscy5VdGlsaXRpZXMgaW1wb3J0IFV0aWxpdGllcwppbXBvcnQgbG9nZ2luZyBhcyBsb2dnZXIKZnJvbSBweXNwYXJrLnNxbCBpbXBvcnQgV2luZG93CmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmxvZ2dlci5iYXNpY0NvbmZpZyhsZXZlbD1sb2dnZXIuSU5GTyxmb3JtYXQ9JyUoYXNjdGltZSlzIElORk8gJShtZXNzYWdlKXMnLCBkYXRlZm10PScleS8lbS8lZCAlSDolTTolUycpCmFyZ3VtZW50cyA9c3lzLmFyZ3YKbG9nZ2VyLmluZm8oYXJndW1lbnRzKQpkaWN0PXt9CmZvciBhcmcgaW4gYXJndW1lbnRzOgogICAgIHRyeToKICAgICAgICAgZGljdFthcmcuc3BsaXQoJzonKVswXV0gPSAoJzonKS5qb2luKGFyZy5zcGxpdCgnOicpWzE6XSkKICAgICBleGNlcHQ6CiAgICAgICAgIGE9J2Vycm9yJwojUmF3IERhdGFzb3VyY2UKcHJpbnQoZGljdCkKbGVhcGRzID0gZGljdFsncmF3ZGF0YXNvdXJjZSddCmxlYXBEU2RpY3QgPSBqc29uLmxvYWRzKGxlYXBkcykKdGFibGVuYW1lID0gZGljdFsncmF3VGFibGVOYW1lJ10KZWRnZXRhYmxlbmFtZSA9IGRpY3RbJ2VkZ2V0YWJsZW5hbWUnXQpncmFwaHRhYmxlbmFtZSA9IGRpY3RbJ2dyYXBodGFibGVuYW1lJ10KZGJ1c2VybmFtZSA9IGxlYXBEU2RpY3RbJ3VzZXJOYW1lJ10KZGJwYXNzd29yZCA9IFV0aWxpdGllcy5kZWNyeXB0KGxlYXBEU2RpY3RbJ3Bhc3N3b3JkJ10sbGVhcERTZGljdFsnc2FsdCddKQpkYnVybCA9IGxlYXBEU2RpY3RbJ3VybCddCmxvZ2dlci5pbmZvKGRidXJsKQpkYmhvc3QgPSB1cmxwYXJzZShsZWFwRFNkaWN0Wyd1cmwnXVs1Ol0pLmhvc3RuYW1lCmRicG9ydCA9IHVybHBhcnNlKGxlYXBEU2RpY3RbJ3VybCddWzU6XSkucG9ydApkYXRhYmFzZSA9IHVybHBhcnNlKGxlYXBEU2RpY3RbJ3VybCddWzU6XSkucGF0aC5yc3BsaXQoJy8nLCAxKVsxXQojZmV0Y2ggYWRkaXRpb25hbCBjb2x1bW5zCmFkZGl0aW9uYWxNYXBwaW5nPVtdCmlmKGRpY3RbJ2FkZGl0aW9uYWxNYXBwaW5nJ109PScnKToKICAgIGRpY3RbJ2FkZGl0aW9uYWxNYXBwaW5nJ109J1tdJwpwcmludCgnYWRkaXRpb25hbGNvbHVtbnMnLGRpY3RbJ2FkZGl0aW9uYWxNYXBwaW5nJ10pCmlmKGxlbihkaWN0WydhZGRpdGlvbmFsTWFwcGluZyddLnNwbGl0KCcsJykpPT0xIGFuZCBkaWN0WydhZGRpdGlvbmFsTWFwcGluZyddIT0nW10nKToKICAgIGFkZGl0aW9uYWxNYXBwaW5nLmFwcGVuZChkaWN0WydhZGRpdGlvbmFsTWFwcGluZyddKQplbHNlOgogICAgYWRkaXRpb25hbE1hcHBpbmcgPSBqc29uLmxvYWRzKGRpY3RbJ2FkZGl0aW9uYWxNYXBwaW5nJ10pCiNmZXRjaCBtYW5kYXRvcnkgY29sdW1ucwptYW5kYXRvcnlQYXJhbXMgPSBqc29uLmxvYWRzKGRpY3RbJ21hbmRhdG9yeVBhcmFtcyddKQoKI2V4dHJhIGNvbHVtbnMgdG8gYmUgZmV0Y2hlZCBmcm9tIHJhdyBkYXRhCmV4dHJhY29sdW1ucz0nLCAnLmpvaW4oJ3swfScuZm9ybWF0KGspIGZvciBrIGluIGFkZGl0aW9uYWxNYXBwaW5nKQoKaWYgbGVuKGFkZGl0aW9uYWxNYXBwaW5nKToKICAgIHNxbHF1ZXJ5PSAnJydTRUxFQ1Qge2lkfSBhcyBpZCx7bm9kZX0gYXMgbm9kZSxDT05DQVQoe2FjdGlvbnRpbWVzdGFtcH0sICcgJykgYXMgYWN0aW9udGltZXN0YW1wLCB7c3FscXVlcnl9IEZST00ge3RhYmxlbmFtZX0nJycKZWxzZToKICAgIHNxbHF1ZXJ5ID0gJycnU0VMRUNUIHtpZH0gYXMgaWQse25vZGV9IGFzIG5vZGUsQ09OQ0FUKHthY3Rpb250aW1lc3RhbXB9LCAnICcpIGFzIGFjdGlvbnRpbWVzdGFtcCBGUk9NIHt0YWJsZW5hbWV9JycnCgpzcWxxdWVyeSA9IHNxbHF1ZXJ5LmZvcm1hdChpZD1tYW5kYXRvcnlQYXJhbXNbJ2lkJ10sbm9kZT1tYW5kYXRvcnlQYXJhbXNbJ25vZGUnXSxhY3Rpb250aW1lc3RhbXA9bWFuZGF0b3J5UGFyYW1zWydhY3Rpb250aW1lc3RhbXAnXSxzcWxxdWVyeT1leHRyYWNvbHVtbnMsdGFibGVuYW1lPXRhYmxlbmFtZSxwcm9jZXNzVHlwZT1qc29uLmR1bXBzKGRpY3RbJ3R5cGUnXSkpCgpxdWVyeSA9ICcoICcgKyBzcWxxdWVyeSArICcgKSB0MScKCnNwYXJrID0gU3BhcmtTZXNzaW9uLmJ1aWxkZXIubWFzdGVyKCdsb2NhbCcpLmFwcE5hbWUoJ2dlbmVyaWNuZXR3b3JrZXh0cmFjdGlvbicpLmNvbmZpZygnc3BhcmsudWkuc2hvd0NvbnNvbGVQcm9ncmVzcycsICdmYWxzZScpLmdldE9yQ3JlYXRlKCkKCiMgc3BhcmsuY29uZi5zZXQoJ3NwYXJrLnNxbC5sZWdhY3kudGltZVBhcnNlclBvbGljeScsJ0xFR0FDWScpCmxvZ2dlci5pbmZvKCdncmFwaCBhbmQgZWRnZSBkYXRhZnJhbWUgcHJvY2Vzc2luZyBzdGFydGVkOicpCgpkYXRhc2V0ID0gc3BhcmsucmVhZC5mb3JtYXQoJ2pkYmMnKS5vcHRpb25zKHVybD1kYnVybCxkYnRhYmxlPXF1ZXJ5LHVzZXI9ZGJ1c2VybmFtZSxwYXNzd29yZD1kYnBhc3N3b3JkKS5sb2FkKCkKZGF0YXNldCA9IGRhdGFzZXQud2l0aENvbHVtbignYWN0aW9udGltZXN0YW1wJywgdG9fdGltZXN0YW1wKCdhY3Rpb250aW1lc3RhbXAnLCAneXl5eS1NTS1kZCBISDptbTpzcyAnKSkKdyA9IFdpbmRvdy5wYXJ0aXRpb25CeSgnaWQnKS5vcmRlckJ5KCdhY3Rpb250aW1lc3RhbXAnKS5yYW5nZUJldHdlZW4oV2luZG93LnVuYm91bmRlZFByZWNlZGluZyxXaW5kb3cudW5ib3VuZGVkRm9sbG93aW5nKQpncmFwaGRmID0gZGF0YXNldC53aXRoQ29sdW1uKCdzdGFnZV9saXN0JywgY29sbGVjdF9saXN0KCdub2RlJykub3Zlcih3KSkud2l0aENvbHVtbignc3RhcnRkYXRlJyxtaW4oJ2FjdGlvbnRpbWVzdGFtcCcpLm92ZXIodykpLndpdGhDb2x1bW4oJ2VuZGRhdGUnLCBtYXgoJ2FjdGlvbnRpbWVzdGFtcCcpLm92ZXIodykpCmdyYXBoQ29sdW1ucyA9IFsnaWQnLCAnc3RhZ2VfbGlzdCcsICdzdGFydGRhdGUnLCAnZW5kZGF0ZSddCiNmZXRjaGluZyBleHRyYSBjb2x1bW5zIGZyb20gZ3JhcGggZGF0YWZyYW1lCmZvciBrZXkgaW4gYWRkaXRpb25hbE1hcHBpbmc6CglncmFwaENvbHVtbnMuYXBwZW5kKGtleSkKZ3JhcGhkZj1ncmFwaGRmLnNlbGVjdChncmFwaENvbHVtbnMpCmdyYXBoZGYgPSBncmFwaGRmLmRyb3BEdXBsaWNhdGVzKCkKZ3JhcGhkZiA9IGdyYXBoZGYud2l0aENvbHVtbignZGVwdGgnLCBzaXplKCdzdGFnZV9saXN0JykpCmdyYXBoZGYgPSBncmFwaGRmLndpdGhDb2x1bW4oJ2dyYXBoZmxvdycsIGNvbmNhdF93cygnPicsICdzdGFnZV9saXN0JykpCmdyYXBoZGYgPSBncmFwaGRmLndpdGhDb2x1bW4oJ2dyb3VwSWQnLCBkZW5zZV9yYW5rKCkub3ZlcihXaW5kb3cub3JkZXJCeShncmFwaGRmLmdyYXBoZmxvdykpKQpncmFwaGRmID0gZ3JhcGhkZi53aXRoQ29sdW1uKCd2YXJpYW50SWQnLCBjb25jYXQobGl0KCd2YXJpYW50JyksICdncm91cElkJykpCmdyYXBoZGYgPSBncmFwaGRmLndpdGhDb2x1bW4oJ2R1cmF0aW9uJywgY29sKCdlbmRkYXRlJykuY2FzdCgnbG9uZycpIC0gY29sKCdzdGFydGRhdGUnKS5jYXN0KCdsb25nJykpCmdyYXBoZGYgPSBncmFwaGRmLndpdGhDb2x1bW4oJ3Byb2plY3RJZCcsbGl0KGRpY3RbJ3Byb2plY3RJZCddKSkKZ3JhcGhkZiA9IGdyYXBoZGYud2l0aENvbHVtbigndHlwZScsbGl0KGRpY3RbJ3R5cGUnXSkpCiNncmFwaENvbHVtbnMKZ3JhcGhDb2x1bW5zID0gWydpZCcsICd2YXJpYW50SWQnLCAnZ3JhcGhmbG93JywgJ3N0YXJ0ZGF0ZScsICdlbmRkYXRlJywnZHVyYXRpb24nLCdkZXB0aCcsJ3Byb2plY3RJZCcsJ3R5cGUnXQojZmV0Y2hpbmcgZXh0cmEgY29sdW1ucyBmcm9tIGdyYXBoIGRhdGFmcmFtZQpmb3Iga2V5IGluIGFkZGl0aW9uYWxNYXBwaW5nOgoJZ3JhcGhDb2x1bW5zLmFwcGVuZChrZXkpCmdyYXBoZGYgPSBncmFwaGRmLnNlbGVjdChncmFwaENvbHVtbnMpCgkKdyA9IFdpbmRvdy5wYXJ0aXRpb25CeSgnaWQnKS5vcmRlckJ5KCdhY3Rpb250aW1lc3RhbXAnKS5yb3dzQmV0d2VlbigwLCAxKQplZGdlZGYgPWRhdGFzZXQud2l0aENvbHVtbignc3RhZ2VzZXEnLCBjb2xsZWN0X2xpc3QoJ25vZGUnKS5vdmVyKHcpKS53aXRoQ29sdW1uKCdzdGFydGRhdGUnLG1pbignYWN0aW9udGltZXN0YW1wJykub3Zlcih3KSkud2l0aENvbHVtbignZW5kZGF0ZScsIG1heCgnYWN0aW9udGltZXN0YW1wJykub3Zlcih3KSkuc2VsZWN0KCdpZCcsICdzdGFnZXNlcScsICdzdGFydGRhdGUnLCAnZW5kZGF0ZScgKQplZGdlZGYgPSBlZGdlZGYuZmlsdGVyKHNpemUoJ3N0YWdlc2VxJykgPiAxKQplZGdlZGYgPSBlZGdlZGYud2l0aENvbHVtbignZHVyYXRpb24nLCBjb2woJ2VuZGRhdGUnKS5jYXN0KCdsb25nJykgLSBjb2woJ3N0YXJ0ZGF0ZScpLmNhc3QoJ2xvbmcnKSkKZWRnZWRmID0gZWRnZWRmLndpdGhDb2x1bW4oJ3NlcXVlbmNlJywgZGVuc2VfcmFuaygpLm92ZXIoV2luZG93LnBhcnRpdGlvbkJ5KCdpZCcpLm9yZGVyQnkoJ3N0YXJ0ZGF0ZScpKSkKZWRnZWRmID0gZWRnZWRmLnNlbGVjdCgnaWQnLCAnc2VxdWVuY2UnLCBlZGdlZGYuc3RhZ2VzZXFbMF0uYWxpYXMoJ3N0YXJ0bm9kZScpLCBlZGdlZGYuc3RhZ2VzZXFbMV0uYWxpYXMoJ2VuZG5vZGUnKSwnc3RhcnRkYXRlJywgJ2VuZGRhdGUnLCAnZHVyYXRpb24nICkKCQkKZWRnZWRmZ3JvdXBlZCA9IGVkZ2VkZi5qb2luKGdyYXBoZGYsIFsnaWQnXSkKCiNlZGdlQ29sdW1ucwplZGdlQ29sdW1ucyA9IFtlZGdlZGYuaWQsZWRnZWRmLnNlcXVlbmNlLCBncmFwaGRmLnZhcmlhbnRJZCxlZGdlZGYuc3RhcnRub2RlLAplZGdlZGYuZW5kbm9kZSxlZGdlZGYuc3RhcnRkYXRlLGVkZ2VkZi5lbmRkYXRlLCBlZGdlZGYuZHVyYXRpb24sZ3JhcGhkZi5wcm9qZWN0SWQsZ3JhcGhkZi50eXBlXQojZmV0Y2hpbmcgZXh0cmEgY29sdW1ucyBmcm9tIGVkZ2UgZGF0YWZyYW1lCmZvciBrZXkgaW4gYWRkaXRpb25hbE1hcHBpbmc6CgllZGdlQ29sdW1ucy5hcHBlbmQoa2V5KQoKZWRnZWRmZ3JvdXBlZCA9IGVkZ2VkZmdyb3VwZWQuc2VsZWN0KGVkZ2VDb2x1bW5zKQpsb2dnZXIuaW5mbygnZ3JhcGggYW5kIGVkZ2UgZGF0YWZyYW1lIHByb2Nlc3NpbmcgZG9uZTonKQoKCmNueCA9IG15c3FsLmNvbm5lY3Rvci5jb25uZWN0KHVzZXI9ZGJ1c2VybmFtZSwgcGFzc3dvcmQ9ZGJwYXNzd29yZCwgaG9zdD1kYmhvc3QscG9ydD1kYnBvcnQsIGRhdGFiYXNlPWRhdGFiYXNlKQpteWN1cnNvciA9IGNueC5jdXJzb3IoKQoKbXljdXJzb3IuZXhlY3V0ZSgnRFJPUCBUQUJMRSBJRiBFWElTVFMge3RhYmxlbmFtZX0nLmZvcm1hdCh0YWJsZW5hbWU9ZWRnZXRhYmxlbmFtZSkpCm15Y3Vyc29yLmV4ZWN1dGUoJ0RST1AgVEFCTEUgSUYgRVhJU1RTIHt0YWJsZW5hbWV9Jy5mb3JtYXQodGFibGVuYW1lPWdyYXBodGFibGVuYW1lKSkKY254LmNvbW1pdCgpCiMgbXljdXJzb3IuZXhlY3V0ZSgnQUxURVIgVEFCTEUge3RhYmxlbmFtZX0gQUREIFBSSU1BUlkgS0VZKGVuZG5vZGUsc3RhcnRub2RlLGlkKScuZm9ybWF0KHRhYmxlbmFtZT1lZGdldGFibGVuYW1lKSkKY254LmNvbW1pdCgpCm15Y3Vyc29yLmNsb3NlKCkKY254LmNsb3NlKCkKCmxvZ2dlci5pbmZvKCdzYXZpbmcgaW4gZGIgZm9yIGVkZ2UgdGFibGUgc3RhcnRlZDonKSAKZWRnZWRmZ3JvdXBlZD1lZGdlZGZncm91cGVkLnJlcGFydGl0aW9uKDUwMCkKZWRnZWRmZ3JvdXBlZC53cml0ZS5mb3JtYXQoJ2pkYmMnKS5vcHRpb25zKHVybD0namRiYzpteXNxbDovL3swfTp7MX0vezJ9Jy5mb3JtYXQoZGJob3N0LCBkYnBvcnQsZGF0YWJhc2UpLGRidGFibGU9ZWRnZXRhYmxlbmFtZSx1c2VyPWRidXNlcm5hbWUscGFzc3dvcmQ9ZGJwYXNzd29yZCkubW9kZSgnYXBwZW5kJykuc2F2ZSgpCmxvZ2dlci5pbmZvKCdzYXZpbmcgaW4gZGIgZm9yIGVkZ2UgdGFibGUgZG9uZTonKQpsb2dnZXIuaW5mbygnc2F2aW5nIGluIGRiIGZvciBncmFwaCB0YWJsZSBzdGFydGVkOicpCmdyYXBoZGY9Z3JhcGhkZi5yZXBhcnRpdGlvbig1MDApCmdyYXBoZGYud3JpdGUuZm9ybWF0KCdqZGJjJykub3B0aW9ucyh1cmw9J2pkYmM6bXlzcWw6Ly97MH06ezF9L3syfScuZm9ybWF0KGRiaG9zdCwgZGJwb3J0LGRhdGFiYXNlKSxkYnRhYmxlPWdyYXBodGFibGVuYW1lLHVzZXI9ZGJ1c2VybmFtZSxwYXNzd29yZD1kYnBhc3N3b3JkKS5tb2RlKCdhcHBlbmQnKS5zYXZlKCkKbG9nZ2VyLmluZm8oJ3NhdmluZyBpbiBkYiBmb3IgZ3JhcGggdGFibGUgZG9uZTonKQpsb2dnZXIuaW5mbygnQ29tcGxldGVkJykKCgoKCgo=","leo1311"
"LEOGT_C_35001","LEOGT_C_35001_leo1311.py","aW1wb3J0IHBhbmRhcyBhcyBwZA0KaW1wb3J0IG15c3FsLmNvbm5lY3Rvcg0KaW1wb3J0IGpzb24NCmltcG9ydCBzeXMNCmZyb20gbGVhcC51dGlscy5VdGlsaXRpZXMgaW1wb3J0IFV0aWxpdGllcw0KZnJvbSB1cmxsaWIucGFyc2UgaW1wb3J0IHF1b3RlX3BsdXMsIHVybHBhcnNlDQppbXBvcnQgbG9nZ2luZw0KaW1wb3J0IHJlcXVlc3RzDQppbXBvcnQgcHl0eg0KZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUsIHRpbWV6b25lLCBkYXRlLCB0aW1lZGVsdGENCiMgTXlTUUwgRGF0YWJhc2UgY29ubmVjdGlvbiBkZXRhaWxzDQpsb2dnaW5nLmJhc2ljQ29uZmlnKGxldmVsPWxvZ2dpbmcuSU5GTykNCmFyZ3VtZW50cyA9IHN5cy5hcmd2DQpkaWN0ID0ge30NCmZvciBhcmcgaW4gYXJndW1lbnRzOg0KICAgIHRyeToNCiAgICAgICAgZGljdFthcmcuc3BsaXQoJzonKVswXV0gPSAoJzonKS5qb2luKGFyZy5zcGxpdCgnOicpWzE6XSkNCiAgICBleGNlcHQ6DQogICAgICAgIGEgPSAnZXJyb3InDQpsYXN0RXhlY3V0aW9uVGltZSA9IGRpY3RbJ0xhc3RfU3VjY2Vzc2Z1bF9FeGVjdXRpb25fVGltZSddDQoNCmxlYXBkcyA9IGRpY3RbJ2xlYXBkcyddDQpsZWFwRFNkaWN0ID0ganNvbi5sb2FkcyhsZWFwZHMpDQp1c2VybmFtZSA9IGxlYXBEU2RpY3RbJ3VzZXJOYW1lJ10NCnBhc3N3b3JkID0gVXRpbGl0aWVzLmRlY3J5cHQobGVhcERTZGljdFsncGFzc3dvcmQnXSwgbGVhcERTZGljdFsnc2FsdCddKQ0KaG9zdCA9IHVybHBhcnNlKGxlYXBEU2RpY3RbJ3VybCddWzU6XSkuaG9zdG5hbWUNCnBvcnQgPSB1cmxwYXJzZShsZWFwRFNkaWN0Wyd1cmwnXVs1Ol0pLnBvcnQNCmRhdGFiYXNlID0gdXJscGFyc2UobGVhcERTZGljdFsndXJsJ11bNTpdKS5wYXRoLnJzcGxpdCgnLycsIDEpWzFdDQpjb25uZWN0aW9uID0gbXlzcWwuY29ubmVjdG9yLmNvbm5lY3QodXNlcj11c2VybmFtZSwgcGFzc3dvcmQ9cGFzc3dvcmQsIGhvc3Q9aG9zdCwgcG9ydD1wb3J0LCBkYXRhYmFzZT1kYXRhYmFzZSkNCm15Y3Vyc29yID0gY29ubmVjdGlvbi5jdXJzb3IoKQ0KDQoNCmN0eXBlcXVlcnkgPSAnJycgU0VMRUNUIGN0eXBlIGZyb20gY2ZtX2NvbmZpZ3VyYXRpb25faXRlbV90eXBlIFdIRVJFIHByb2plY3RfaWQ9JzInIEFORCBzeXNfaWQgSVMgTk9UIE5VTEwgJycnDQpteWN1cnNvci5leGVjdXRlKGN0eXBlcXVlcnkpDQpjdHlwZWRhdGEgPSBteWN1cnNvci5mZXRjaGFsbCgpDQpjdHlwZUxpc3QgPSBbXQ0KZm9yIGl0ZW0gaW4gY3R5cGVkYXRhOg0KICAgIGN0eXBlTGlzdC5hcHBlbmQoaXRlbVswXSkNCnByaW50KGN0eXBlTGlzdCkNCg0KaWYobGFzdEV4ZWN1dGlvblRpbWUgPT0gLTEgb3IgY3R5cGVkYXRhID09IFtdKToNCiAgICB1cmwgPSAnaHR0cHM6Ly9pbmZvc3lzcTNkZXYxLnNlcnZpY2Utbm93LmNvbS9hcGkvbm93L3RhYmxlL2NtZGJfY2k/c3lzcGFybV9maWVsZHM9c3lzX2lkLHN5c19jbGFzc19uYW1lJnN5c3Bhcm1fZGlzcGxheV92YWx1ZT1hbGwnDQplbHNlOg0KICAgIFVwZGF0ZVRpbWUgPSAoZGF0ZXRpbWUuc3RycHRpbWUobGFzdEV4ZWN1dGlvblRpbWUsICclYSwgJWQgJWIgJVkgJUg6JU06JVMnKS5hc3RpbWV6b25lKHB5dHoudGltZXpvbmUoJ0FzaWEvQ2FsY3V0dGEnKSkgLSB0aW1lZGVsdGEobWludXRlcz01KSkuc3RyZnRpbWUoJ1wnJVktJW0tJWRcJyxcJyVIOiVNOiVTXCcnKQ0KICAgIHVybCA9ICdodHRwczovL2luZm9zeXNxM2RldjEuc2VydmljZS1ub3cuY29tL2FwaS9ub3cvdGFibGUvY21kYl9jaT9zeXNwYXJtX3F1ZXJ5PXN5c191cGRhdGVkX29uPj1qYXZhc2NyaXB0OmdzLmRhdGVHZW5lcmF0ZSgnK1VwZGF0ZVRpbWUrJyleJw0KdXNlcm5hbWVTTiA9ICdhZG1pbicNCnBhc3N3b3JkU04gPSAnUm9vdHVzZXIxMDAjJw0KDQpyZXNwb25zZSA9IHJlcXVlc3RzLmdldCh1cmwsIGF1dGggPSAodXNlcm5hbWVTTiwgcGFzc3dvcmRTTikpDQppZiByZXNwb25zZS5zdGF0dXNfY29kZT09MjAwOg0KICAgIHRyeToNCiAgICAgICAgZGF0YSA9IGpzb24ubG9hZHMocmVzcG9uc2UudGV4dCkNCiAgICAgICAgcHJpbnQoJ1N1Y2Nlc3MgdG8gZmV0Y2ggYXBpIHJlc3BvbnNlJywgcmVzcG9uc2Uuc3RhdHVzX2NvZGUpDQogICAgZXhjZXB0IGpzb24uSlNPTkRlY29kZUVycm9yOg0KICAgICAgICBwcmludCgnRmFpbGVkIHRvIHBhcnNlIGRhdGEgZnJvbSB0aGUgQVBJJykNCiAgICAgICAgZGF0YSA9IFtdDQplbHNlOg0KICAgIHByaW50KCdGYWlsZWQgdG8gcmV0cml2ZSBkYXRhIGZyb20gdGhlIEFQSS4nKQ0KICAgIGRhdGEgPSBbXQ0KDQppZiAoZGF0YSAhPSBbXSBhbmQgZGF0YVsncmVzdWx0J10gIT0gW10pOg0KICAgIENJVHlwZSA9IFtdDQogICAgZm9yIGl0ZW0gaW4gZGF0YVsncmVzdWx0J106DQogICAgICAgIHN5c19pZCA9IGl0ZW0uZ2V0KCdzeXNfaWQnLHt9KS5nZXQoJ3ZhbHVlJykNCiAgICAgICAgY3R5cGUgPSBpdGVtLmdldCgnc3lzX2NsYXNzX25hbWUnLHt9KS5nZXQoJ3ZhbHVlJykNCiAgICAgICAgZGVzY3JpcHRpb24gPSBpdGVtLmdldCgnc3lzX2NsYXNzX25hbWUnLHt9KS5nZXQoJ2Rpc3BsYXlfdmFsdWUnKQ0KICAgICAgICBzeXNfY2xhc3NfbmFtZSA9IGl0ZW0uZ2V0KCdzeXNfY2xhc3NfbmFtZScse30pLmdldCgndmFsdWUnKQ0KICAgICAgICBwcm9qZWN0X2lkID0gMg0KICAgICAgICBvcmRlcl92YWx1ZSA9IDANCiAgICAgICAgaWYgY3R5cGUgbm90IGluIENJVHlwZToNCiAgICAgICAgICAgIENJVHlwZS5hcHBlbmQoY3R5cGUpDQogICAgICAgICAgICBpZihjdHlwZSBpbiBjdHlwZUxpc3QpOg0KICAgICAgICAgICAgICAgIHVwZGF0ZV9xdWVyeSA9ICcnJ1VQREFURSBjZm1fY29uZmlndXJhdGlvbl9pdGVtX3R5cGUxIFNFVCBkZXNjcmlwdGlvbiA9ICVzIFdIRVJFIGN0eXBlID0gJXMnJycNCiAgICAgICAgICAgICAgICBkYXRhID0gKGRlc2NyaXB0aW9uLGN0eXBlKQ0KICAgICAgICAgICAgICAgIG15Y3Vyc29yLmV4ZWN1dGUodXBkYXRlX3F1ZXJ5LGRhdGEpDQogICAgICAgICAgICAgICAgY29ubmVjdGlvbi5jb21taXQoKQ0KICAgICAgICAgICAgICAgICMgcHJpbnQoJ2RhdGEgdXBkYXRlZCcpDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIGluc2VydF9xdWVyeSA9ICcnJ0lOU0VSVCBJTlRPIGNmbV9jb25maWd1cmF0aW9uX2l0ZW1fdHlwZTEgKGN0eXBlLGRlc2NyaXB0aW9uLHByb2plY3RfaWQsc3lzX2NsYXNzX25hbWUsb3JkZXJfdmFsdWUsc3lzX2lkKSBWQUxVRVMgKCVzLCVzLCVzLCVzLCVzLCVzKScnJw0KICAgICAgICAgICAgICAgIGRhdGEgPSAoY3R5cGUsZGVzY3JpcHRpb24scHJvamVjdF9pZCxzeXNfY2xhc3NfbmFtZSxvcmRlcl92YWx1ZSxzeXNfaWQpDQogICAgICAgICAgICAgICAgbXljdXJzb3IuZXhlY3V0ZShpbnNlcnRfcXVlcnksZGF0YSkNCiAgICAgICAgICAgICAgICBjb25uZWN0aW9uLmNvbW1pdCgpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBjb250aW51ZQ0KICAgIHByaW50KCdEYXRhIGluc2VydGVkL3VwZGF0ZWQnKQ0KZWxzZToNCiAgICBwcmludCgnTm8gZGF0YSBpbnNlcnRlZCcpDQpteWN1cnNvci5jbG9zZSgpDQpjb25uZWN0aW9uLmNvbW1pdCgpDQpjb25uZWN0aW9uLmNsb3NlKCkgICAgICAgIA0KcHJpbnQoJ2NvbXBsZXRlZCcp","leo1311"
"LEOGT_CS41653","LEOGT_CS41653_leo1311.py","aW1wb3J0IHBhbmRhcyBhcyBwZA0KaW1wb3J0IG15c3FsLmNvbm5lY3Rvcg0KaW1wb3J0IGpzb24NCmltcG9ydCBzeXMNCmZyb20gbGVhcC51dGlscy5VdGlsaXRpZXMgaW1wb3J0IFV0aWxpdGllcw0KZnJvbSB1cmxsaWIucGFyc2UgaW1wb3J0IHF1b3RlX3BsdXMsIHVybHBhcnNlDQppbXBvcnQgbG9nZ2luZw0KaW1wb3J0IHJlcXVlc3RzDQppbXBvcnQgcHl0eg0KZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUsIHRpbWV6b25lLCBkYXRlLCB0aW1lZGVsdGENCiMgTXlTUUwgRGF0YWJhc2UgY29ubmVjdGlvbiBkZXRhaWxzDQpsb2dnaW5nLmJhc2ljQ29uZmlnKGxldmVsPWxvZ2dpbmcuSU5GTykNCmFyZ3VtZW50cyA9IHN5cy5hcmd2DQpkaWN0ID0ge30NCmZvciBhcmcgaW4gYXJndW1lbnRzOg0KICAgIHRyeToNCiAgICAgICAgZGljdFthcmcuc3BsaXQoJzonKVswXV0gPSAoJzonKS5qb2luKGFyZy5zcGxpdCgnOicpWzE6XSkNCiAgICBleGNlcHQ6DQogICAgICAgIGEgPSAnZXJyb3InDQpsYXN0RXhlY3V0aW9uVGltZSA9IGRpY3RbJ0xhc3RfU3VjY2Vzc2Z1bF9FeGVjdXRpb25fVGltZSddDQoNCmxlYXBkcyA9IGRpY3RbJ2xlYXBkcyddDQpsZWFwRFNkaWN0ID0ganNvbi5sb2FkcyhsZWFwZHMpDQp1c2VybmFtZSA9IGxlYXBEU2RpY3RbJ3VzZXJOYW1lJ10NCnBhc3N3b3JkID0gVXRpbGl0aWVzLmRlY3J5cHQobGVhcERTZGljdFsncGFzc3dvcmQnXSwgbGVhcERTZGljdFsnc2FsdCddKQ0KaG9zdCA9IHVybHBhcnNlKGxlYXBEU2RpY3RbJ3VybCddWzU6XSkuaG9zdG5hbWUNCnBvcnQgPSB1cmxwYXJzZShsZWFwRFNkaWN0Wyd1cmwnXVs1Ol0pLnBvcnQNCmRhdGFiYXNlID0gdXJscGFyc2UobGVhcERTZGljdFsndXJsJ11bNTpdKS5wYXRoLnJzcGxpdCgnLycsIDEpWzFdDQpjb25uZWN0aW9uID0gbXlzcWwuY29ubmVjdG9yLmNvbm5lY3QodXNlcj11c2VybmFtZSwgcGFzc3dvcmQ9cGFzc3dvcmQsIGhvc3Q9aG9zdCwgcG9ydD1wb3J0LCBkYXRhYmFzZT1kYXRhYmFzZSkNCm15Y3Vyc29yID0gY29ubmVjdGlvbi5jdXJzb3IoKQ0KDQpxdWVyeSA9ICcnJyBTRUxFQ1QgY21kYl9jaV9zeXNfaWQgZnJvbSBjZm1fY29uZmlndXJhdGlvbl9pdGVtIFdIRVJFIHByb2plY3RfaWQ9JzInIEFORCBzeXNfY2xhc3NfbmFtZSBJUyBOT1QgTlVMTCAnJycNCm15Y3Vyc29yLmV4ZWN1dGUocXVlcnkpDQpleGlzdGluZ2RhdGEgPSBteWN1cnNvci5mZXRjaGFsbCgpDQpDSURhdGEgPSBbXQ0KZm9yIGl0ZW0gaW4gZXhpc3RpbmdkYXRhOg0KICAgIENJRGF0YS5hcHBlbmQoaXRlbVswXSkNCg0KY3R5cGVxdWVyeSA9ICcnJyBTRUxFQ1Qgc3lzX2NsYXNzX25hbWUsIGN0eXBlLCBpZCBmcm9tIGNmbV9jb25maWd1cmF0aW9uX2l0ZW1fdHlwZSBXSEVSRSBwcm9qZWN0X2lkPScyJyBBTkQgc3lzX2lkIElTIE5PVCBOVUxMICcnJw0KbXljdXJzb3IuZXhlY3V0ZShjdHlwZXF1ZXJ5KQ0KY3R5cGVkYXRhID0gbXljdXJzb3IuZmV0Y2hhbGwoKQ0KDQpjaVR5cGVMaXN0ID1bXQ0KZm9yIGN0eXBlIGluIGN0eXBlZGF0YToNCiAgICBjaVR5cGVMaXN0LmFwcGVuZChjdHlwZVsxXSkNCg0KaWREaWN0ID17fQ0KZm9yIGN0eXBlIGluIGN0eXBlZGF0YToNCiAgICBpZERpY3RbY3R5cGVbMV1dID0gY3R5cGVbMl0NCg0KZm9yIGNpdHlwZSBpbiBjdHlwZWRhdGE6DQogICAgaWYobGFzdEV4ZWN1dGlvblRpbWUgPT0gJy0xJyBvciBleGlzdGluZ2RhdGEgPT0gW10pOg0KICAgICAgICB1cmwgPSAnaHR0cHM6Ly9pbmZvc3lzcTNkZXYxLnNlcnZpY2Utbm93LmNvbS9hcGkvbm93L3RhYmxlLycrY2l0eXBlWzBdKyc/c3lzcGFybV9kaXNwbGF5X3ZhbHVlPXRydWUmc3lzcGFybV9uYW1lIT1OVUxMJnN5c3Bhcm1fY2F0ZWdvcnkhPU5VTEwmc3lzcGFybV9pbnN0YWxsX3N0YXR1cz0xMDEmc3lzcGFybV9vcGVyYXRpb25hbF9zdGF0dXM9MSZzeXNwYXJtX2xvY2F0aW9uIT1OVUxMJw0KICAgIGVsc2U6DQogICAgICAgIFVwZGF0ZVRpbWUgPSAoZGF0ZXRpbWUuc3RycHRpbWUobGFzdEV4ZWN1dGlvblRpbWUsICclYSwgJWQgJWIgJVkgJUg6JU06JVMnKS5hc3RpbWV6b25lKHB5dHoudGltZXpvbmUoJ0FzaWEvQ2FsY3V0dGEnKSkgLSB0aW1lZGVsdGEobWludXRlcz01KSkuc3RyZnRpbWUoJ1wnJVktJW0tJWRcJyxcJyVIOiVNOiVTXCcnKQ0KICAgICAgICB1cmwgPSAnaHR0cHM6Ly9pbmZvc3lzcTNkZXYxLnNlcnZpY2Utbm93LmNvbS9hcGkvbm93L3RhYmxlLycrY2l0eXBlWzBdKyc/c3lzcGFybV9xdWVyeT1zeXNfdXBkYXRlZF9vbj49amF2YXNjcmlwdDpncy5kYXRlR2VuZXJhdGUoJytVcGRhdGVUaW1lKycpJnN5c3Bhcm1fZGlzcGxheV92YWx1ZT10cnVlJnN5c3Bhcm1fbmFtZSE9TlVMTCZzeXNwYXJtX2NhdGVnb3J5IT1OVUxMJnN5c3Bhcm1faW5zdGFsbF9zdGF0dXM9MTAxJnN5c3Bhcm1fb3BlcmF0aW9uYWxfc3RhdHVzPTEmc3lzcGFybV9sb2NhdGlvbiE9TlVMTCcNCiAgICB1c2VybmFtZVNOID0gJ2FkbWluJw0KICAgIHBhc3N3b3JkU04gPSAnUm9vdHVzZXIxMDAjJw0KDQogICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQodXJsLCBhdXRoID0gKHVzZXJuYW1lU04sIHBhc3N3b3JkU04pKQ0KICAgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlPT0yMDA6DQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGRhdGEgPSBqc29uLmxvYWRzKHJlc3BvbnNlLnRleHQpDQogICAgICAgICAgICBwcmludCgnU3VjY2VzcyB0byBmZXRjaCBhcGkgcmVzcG9uc2UnLCByZXNwb25zZS5zdGF0dXNfY29kZSkNCiAgICAgICAgZXhjZXB0IGpzb24uSlNPTkRlY29kZUVycm9yOg0KICAgICAgICAgICAgcHJpbnQoJ0ZhaWxlZCB0byBwYXJzZSBkYXRhIGZyb20gdGhlIEFQSScpDQogICAgICAgICAgICBkYXRhID0gW10NCiAgICBlbHNlOg0KICAgICAgICBwcmludCgnRmFpbGVkIHRvIHJldHJpdmUgZGF0YSBmcm9tIHRoZSBBUEkuJykNCiAgICAgICAgZGF0YSA9IFtdDQogICAgICAgIA0KICAgIGlmIChkYXRhICE9IFtdIGFuZCBkYXRhWydyZXN1bHQnXSAhPSBbXSk6DQogICAgICAgIGZvciBpdGVtIGluIGRhdGFbJ3Jlc3VsdCddOg0KICAgICAgICAgICAgY21kYl9jaV9zeXNfaWQgPSBpdGVtLmdldCgnc3lzX2lkJykNCiAgICAgICAgICAgIGNpX25hbWUgPSBpdGVtLmdldCgnbmFtZScpDQogICAgICAgICAgICBkZXNjcmlwdGlvbiA9IGl0ZW0uZ2V0KCdzaG9ydF9kZXNjcmlwdGlvbicpDQogICAgICAgICAgICBjYXRlZ29yeSA9IGl0ZW0uZ2V0KCdjYXRlZ29yeScpDQogICAgICAgICAgICBzdGF0dXMgPSBpdGVtLmdldCgnb3BlcmF0aW9uYWxfc3RhdHVzJykNCiAgICAgICAgICAgIGFzc2V0X2RhdGEgPSBpdGVtLmdldCgnYXNzZXQnLCB7fSkNCiAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UoYXNzZXRfZGF0YSwgdHlwZShkaWN0KSk6DQogICAgICAgICAgICAgICAgYXNzZXQgPSBhc3NldF9kYXRhLmdldCgnZGlzcGxheV92YWx1ZScsICcnKQ0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBhc3NldCA9ICcnDQogICAgICAgICAgICBzdWJfY2F0ZWdvcnkgPSBpdGVtLmdldCgnc3ViY2F0ZWdvcnknKQ0KICAgICAgICAgICAgc3lzX2NsYXNzX25hbWUgPSBpdGVtLmdldCgnc3lzX2NsYXNzX25hbWUnKQ0KICAgICAgICAgICAgbWFuYWdlZF9ieV9kYXRhID0gaXRlbS5nZXQoJ21hbmFnZWRfYnknKQ0KICAgICAgICAgICAgaWYgaXNpbnN0YW5jZSAobWFuYWdlZF9ieV9kYXRhLCB0eXBlKGRpY3QpKToNCiAgICAgICAgICAgICAgICBtYW5hZ2VkX2J5ID0gbWFuYWdlZF9ieV9kYXRhLmdldCgndmFsdWUnLCcnKQ0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBtYW5hZ2VkX2J5ID0gJycNCiAgICAgICAgICAgIG93bmVkX2J5X2RhdGEgPSBpdGVtLmdldCgnb3duZWRfYnknKQ0KICAgICAgICAgICAgaWYgaXNpbnN0YW5jZSAob3duZWRfYnlfZGF0YSwgdHlwZShkaWN0KSk6DQogICAgICAgICAgICAgICAgb3duZWRfYnkgPSBvd25lZF9ieV9kYXRhLmdldCgndmFsdWUnLCcnKQ0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBvd25lZF9ieSA9ICcnDQogICAgICAgICAgICBzeXNfdXBkYXRlZF9vbiA9IGl0ZW0uZ2V0KCdzeXNfdXBkYXRlZF9vbicpDQogICAgICAgICAgICBwcm9qZWN0X2lkID0gMg0KICAgICAgICAgICAgaWYgc3lzX2NsYXNzX25hbWUgaW4gY2lUeXBlTGlzdDoNCiAgICAgICAgICAgICAgICBjdHlwZSA9IGlkRGljdFtpdGVtLmdldCgnc3lzX2NsYXNzX25hbWUnKV0NCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgY3R5cGUgPSBjaXR5cGVbMl0NCiAgICAgICAgICAgIGxvY2F0aW9uRGljdCA9IGl0ZW0uZ2V0KCdsb2NhdGlvbicpDQogICAgICAgICAgICBpZiBpc2luc3RhbmNlIChsb2NhdGlvbkRpY3QsIHR5cGUoZGljdCkpOg0KICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gbG9jYXRpb25EaWN0LmdldCgnZGlzcGxheV92YWx1ZScsJycpDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gJycNCiAgICAgICAgICAgIGlmKGNtZGJfY2lfc3lzX2lkIGluIENJRGF0YSk6DQogICAgICAgICAgICAgICAgdXBkYXRlX3F1ZXJ5ID0gJycnVVBEQVRFIGNmbV9jb25maWd1cmF0aW9uX2l0ZW0gU0VUIGNtZGJfY2lfc3lzX2lkID0gY21kYl9jaV9zeXNfaWQsICBjYXRlZ29yeSA9IGNhdGVnb3J5LCBhc3NldCA9IGFzc2V0LCBjaV9uYW1lID0gY2lfbmFtZSwgbG9jYXRpb24gPSBsb2NhdGlvbiwgY3R5cGUgPSBjdHlwZSwgZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbiwgc3RhdHVzID0gc3RhdHVzLCBzdWJfY2F0ZWdvcnkgPSBzdWJfY2F0ZWdvcnksIHByb2plY3RfaWQgPSBwcm9qZWN0X2lkLCBzeXNfY2xhc3NfbmFtZSA9IHN5c19jbGFzc19uYW1lLCBtYW5hZ2VkX2J5ID0gbWFuYWdlZF9ieSwgb3duZWRfYnkgPSBvd25lZF9ieSwgc3lzX3VwZGF0ZWRfb24gPSBzeXNfdXBkYXRlZF9vbiBXSEVSRSBjbWRiX2NpX3N5c19pZCA9IGNtZGJfY2lfc3lzX2lkJycnDQogICAgICAgICAgICAgICAgbXljdXJzb3IuZXhlY3V0ZSh1cGRhdGVfcXVlcnkpDQogICAgICAgICAgICAgICAgY29ubmVjdGlvbi5jb21taXQoKQ0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBpbnNlcnRfcXVlcnkgPSAnJydJTlNFUlQgSU5UTyBjZm1fY29uZmlndXJhdGlvbl9pdGVtIChjbWRiX2NpX3N5c19pZCxjYXRlZ29yeSxhc3NldCxjaV9uYW1lLGxvY2F0aW9uLGN0eXBlLGRlc2NyaXB0aW9uLHN1Yl9jYXRlZ29yeSxwcm9qZWN0X2lkLHN5c19jbGFzc19uYW1lLG1hbmFnZWRfYnksb3duZWRfYnksc3lzX3VwZGF0ZWRfb24sc3RhdHVzKSBWQUxVRVMgKCVzLCVzLCVzLCVzLCVzLCVzLCVzLCVzLCVzLCVzLCVzLCVzLCVzLCVzKScnJw0KICAgICAgICAgICAgICAgIGRhdGEgPSAoY21kYl9jaV9zeXNfaWQsY2F0ZWdvcnksYXNzZXQsY2lfbmFtZSxsb2NhdGlvbixjdHlwZSxkZXNjcmlwdGlvbixzdWJfY2F0ZWdvcnkscHJvamVjdF9pZCxzeXNfY2xhc3NfbmFtZSxtYW5hZ2VkX2J5LG93bmVkX2J5LHN5c191cGRhdGVkX29uLHN0YXR1cykNCiAgICAgICAgICAgICAgICBteWN1cnNvci5leGVjdXRlKGluc2VydF9xdWVyeSxkYXRhKQ0KICAgICAgICAgICAgICAgIENJRGF0YS5hcHBlbmQoY21kYl9jaV9zeXNfaWQpDQogICAgICAgICAgICAgICAgY29ubmVjdGlvbi5jb21taXQoKQ0KICAgICAgICBwcmludCgnRGF0YSBpbnNlcnRlZC91cGRhdGVkJykNCiAgICBlbHNlOg0KICAgICAgICBwcmludCgnTm8gZGF0YSBpbnNlcnRlZCcpDQpteWN1cnNvci5jbG9zZSgpDQpjb25uZWN0aW9uLmNvbW1pdCgpDQpjb25uZWN0aW9uLmNsb3NlKCkgICAgICAgIA0KcHJpbnQoJ2NvbXBsZXRlZCcp","leo1311"
"LEOGT_CS21690","LEOGT_CS21690_leo1311.py","aW1wb3J0IHBhbmRhcyBhcyBwZA0KaW1wb3J0IG15c3FsLmNvbm5lY3Rvcg0KaW1wb3J0IGpzb24NCmltcG9ydCBzeXMNCmZyb20gbGVhcC51dGlscy5VdGlsaXRpZXMgaW1wb3J0IFV0aWxpdGllcw0KZnJvbSB1cmxsaWIucGFyc2UgaW1wb3J0IHF1b3RlX3BsdXMsIHVybHBhcnNlDQppbXBvcnQgbG9nZ2luZw0KaW1wb3J0IHJlcXVlc3RzIA0KIyBFc3RhYmxpc2ggdGhlIGRhdGFiYXNlIA0KbG9nZ2luZy5iYXNpY0NvbmZpZyhsZXZlbD1sb2dnaW5nLklORk8pDQphcmd1bWVudHMgPSBzeXMuYXJndg0KZGljdCA9IHt9DQpmb3IgYXJnIGluIGFyZ3VtZW50czoNCiAgICB0cnk6DQogICAgICAgIGRpY3RbYXJnLnNwbGl0KCc6JylbMF1dID0gKCc6Jykuam9pbihhcmcuc3BsaXQoJzonKVsxOl0pDQogICAgZXhjZXB0Og0KICAgICAgICBhID0gJ2Vycm9yJw0KbGFzdEV4ZWN1dGlvblRpbWUgPSBkaWN0WydMYXN0X1N1Y2Nlc3NmdWxfRXhlY3V0aW9uX1RpbWUnXQ0KDQpsZWFwZHMgPSBkaWN0WydsZWFwZHMnXQ0KbGVhcERTZGljdCA9IGpzb24ubG9hZHMobGVhcGRzKQ0KdXNlcm5hbWUgPSBsZWFwRFNkaWN0Wyd1c2VyTmFtZSddDQpwYXNzd29yZCA9IFV0aWxpdGllcy5kZWNyeXB0KGxlYXBEU2RpY3RbJ3Bhc3N3b3JkJ10sIGxlYXBEU2RpY3RbJ3NhbHQnXSkNCmhvc3QgPSB1cmxwYXJzZShsZWFwRFNkaWN0Wyd1cmwnXVs1Ol0pLmhvc3RuYW1lDQpwb3J0ID0gdXJscGFyc2UobGVhcERTZGljdFsndXJsJ11bNTpdKS5wb3J0DQpkYXRhYmFzZSA9IHVybHBhcnNlKGxlYXBEU2RpY3RbJ3VybCddWzU6XSkucGF0aC5yc3BsaXQoJy8nLCAxKVsxXQ0KcHJvamVjdF9pZD0yIA0KDQpleGlzdGluZ3F1ZXJ5ID0gJycnIFNFTEVDVCBwYXJlbnRfc3lzX2lkLCBjaGlsZF9zeXNfaWQgZnJvbSBjZm1feHdfY2lfbWFwcGluZyBXSEVSRSBwcm9qZWN0X2lkPScyJyBBTkQgcGFyZW50X3N5c19pZCBJUyBOT1QgTlVMTCAnJycNCm15Y3Vyc29yLmV4ZWN1dGUoZXhpc3RpbmdxdWVyeSkNCmV4aXN0aW5nZGF0YSA9IG15Y3Vyc29yLmZldGNoYWxsKCkNClBhcmVudERhdGEgPSBbXQ0KQ2hpbGREYXRhID0gW10NCmZvciBpdGVtIGluIGV4aXN0aW5nZGF0YToNCiAgICBQYXJlbnREYXRhLmFwcGVuZChpdGVtWzBdKQ0KICAgIENoaWxkRGF0YS5hcHBlbmQoaXRlbVsxXSkNCg0KcXVlcnkgPSBmJ1NFTEVDVCBjbWRiX2NpX3N5c19pZCxpZCxkZXNjcmlwdGlvbiBGUk9NIGNmbV9jb25maWd1cmF0aW9uX2l0ZW0gd2hlcmUgcHJvamVjdF9pZCA9IHtwcm9qZWN0X2lkfSBhbmQgY21kYl9jaV9zeXNfaWQgSVMgTk9UIE5VTEwnDQpteWN1cnNvci5leGVjdXRlKHF1ZXJ5KQ0KcmVzdWx0ID0gbXljdXJzb3IuZmV0Y2hhbGwoKSAgDQoNCnN5c0lkTGlzdCA9IFtdDQpmb3Igc3lzSWQgaW4gcmVzdWx0Og0KICAgIHN5c0lkTGlzdC5hcHBlbmQoc3lzSWRbMF0pDQoNCmlkRGljdCA9e30NCmZvciBjaWlkIGluIHJlc3VsdDoNCiAgICBpZERpY3RbY2lpZFswXV0gPSBjaWlkWzFdDQoNCmZvciBzeXNfaWQgaW4gc3lzSWRMaXN0OiANCiAgICB1cmwgPSAnaHR0cHM6Ly9pbmZvc3lzcTNkZXYxLnNlcnZpY2Utbm93LmNvbS9hcGkvbm93L3RhYmxlL2NtZGJfcmVsX2NpJw0KICAgIGhlYWRlcnMgPSB7IA0KICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLCAgICAgDQogICAgfSANCiAgICBpZihsYXN0RXhlY3V0aW9uVGltZSA9PSAnLTEnIG9yIGV4aXN0aW5nZGF0YSA9PSBbXSk6DQogICAgICAgIHBhcmFtcyA9IHsgICAgICAgICANCiAgICAgICAgICAgICdzeXNwYXJtX3F1ZXJ5JzogZidwYXJlbnQ9e3N5c19pZH1eT1JjaGlsZD17c3lzX2lkfScsDQogICAgICAgICAgICAnc3lzcGFybV9kaXNwbGF5X3ZhbHVlJzpUcnVlDQogICAgICAgIH0gIA0KICAgIGVsc2U6DQogICAgICAgIFVwZGF0ZVRpbWUgPSAoZGF0ZXRpbWUuc3RycHRpbWUobGFzdEV4ZWN1dGlvblRpbWUsICclYSwgJWQgJWIgJVkgJUg6JU06JVMnKS5hc3RpbWV6b25lKHB5dHoudGltZXpvbmUoJ0FzaWEvQ2FsY3V0dGEnKSkgLSB0aW1lZGVsdGEobWludXRlcz01KSkuc3RyZnRpbWUoJ1wnJVktJW0tJWRcJyxcJyVIOiVNOiVTXCcnKQ0KICAgICAgICBwYXJhbXMgPSB7ICAgICAgICAgDQogICAgICAgICAgICAnc3lzcGFybV9xdWVyeSc6IGYncGFyZW50PXtzeXNfaWR9Xk9SY2hpbGQ9e3N5c19pZH0mc3lzX3VwZGF0ZWRfb24+PWphdmFzY3JpcHQ6Z3MuZGF0ZUdlbmVyYXRlKCcrVXBkYXRlVGltZSsnKV5PUkRFUkJZREVTQ3N5c19jcmVhdGVkX29uJywNCiAgICAgICAgICAgICdzeXNwYXJtX2Rpc3BsYXlfdmFsdWUnOlRydWUNCiAgICAgICAgfSAgDQogICAgYXBpX3VzZXJuYW1lID0gJ2FkbWluJyANCiAgICBhcGlfcGFzc3dvcmQgPSAnUm9vdHVzZXIxMDAjJyAgDQogICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQodXJsLCBhdXRoPShhcGlfdXNlcm5hbWUsIGFwaV9wYXNzd29yZCksIGhlYWRlcnM9aGVhZGVycywgcGFyYW1zPXBhcmFtcykgICAgICANCiAgICBpZiByZXNwb25zZS5zdGF0dXNfY29kZSA9PSAyMDA6ICAgICAgICAgDQogICAgICAgIHRyeTogICAgICAgICAgICAgDQogICAgICAgICAgICBhcGlfZGF0YSA9IGpzb24ubG9hZHMocmVzcG9uc2UudGV4dCkgIA0KICAgICAgICBleGNlcHQganNvbi5KU09ORGVjb2RlRXJyb3I6ICAgICAgICAgICAgIA0KICAgICAgICAgICAgcHJpbnQoJ0ZhaWxlZCB0byBwYXJzZSBkYXRhIGZyb20gdGhlIEFQSS4nKSAgICAgICAgICAgICANCiAgICAgICAgICAgIGFwaV9kYXRhID0gW10gICAgIA0KICAgIGVsc2U6ICAgICAgICAgDQogICAgICAgIHByaW50KGYnRmFpbGVkIHRvIHJldHJpZXZlIGRhdGEgZnJvbSB0aGUgQVBJLiBTdGF0dXMgQ29kZToge3Jlc3BvbnNlLnN0YXR1c19jb2RlfScpICAgICAgICAgDQogICAgICAgIGFwaV9kYXRhID0gW10gDQoNCiAgICBpZiAoYXBpX2RhdGEgIT0gW10gYW5kIGFwaV9kYXRhWydyZXN1bHQnXSAhPSBbXSk6DQogICAgICAgIGZvciBpdGVtIGluIGFwaV9kYXRhWydyZXN1bHQnXTogDQogICAgICAgICAgICBwYXJlbnQgPSBpdGVtLmdldCgncGFyZW50Jywge30pDQogICAgICAgICAgICBpZiBpc2luc3RhbmNlIChwYXJlbnQsIHR5cGUoZGljdCkpOg0KICAgICAgICAgICAgICAgIHBhcmVudF9saW5rID0gcGFyZW50LmdldCgnbGluaycsJycpDQogICAgICAgICAgICAgICAgcGFyZW50X3N5c19pZCA9IHN0cihwYXJlbnRfbGluay5zcGxpdCgnLycpWy0xXSkNCiAgICAgICAgICAgICAgICBjaV9pdGVtMV9uYW1lID0gcGFyZW50LmdldCgnZGlzcGxheV92YWx1ZScsJycpDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIHBhcmVudF9zeXNfaWQgPSAnJw0KICAgICAgICAgICAgICAgIGNpX2l0ZW0xX25hbWUgPSAnJw0KICAgICAgICAgICAgY2hpbGQgPSBpdGVtLmdldCgnY2hpbGQnLCB7fSkNCiAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UgKGNoaWxkLCB0eXBlKGRpY3QpKToNCiAgICAgICAgICAgICAgICBjaGlsZF9saW5rID0gY2hpbGQuZ2V0KCdsaW5rJywnJykNCiAgICAgICAgICAgICAgICBjaGlsZF9zeXNfaWQgPSBzdHIoY2hpbGRfbGluay5zcGxpdCgnLycpWy0xXSkNCiAgICAgICAgICAgICAgICBjaV9pdGVtMl9uYW1lID0gY2hpbGQuZ2V0KCdkaXNwbGF5X3ZhbHVlJywnJykNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgY2hpbGRfc3lzX2lkID0gJycNCiAgICAgICAgICAgICAgICBjaV9pdGVtMl9uYW1lID0gJycgICAgICAgICAgDQogICAgICAgICAgICByZWxhdGlvbiA9IGl0ZW0uZ2V0KCd0eXBlJyx7fSkNCiAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UgKHJlbGF0aW9uLCB0eXBlKGRpY3QpKToNCiAgICAgICAgICAgICAgICByZWxhdGlvbl90eXBlID0gcmVsYXRpb24uZ2V0KCdkaXNwbGF5X3ZhbHVlJywnJykNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgcmVsYXRpb25fdHlwZSA9ICcnDQogICAgICAgICAgICBpZiBwYXJlbnRfc3lzX2lkIGluIHN5c0lkTGlzdDoNCiAgICAgICAgICAgICAgICBjaV9pdGVtMSA9IGlkRGljdC5nZXQocGFyZW50X3N5c19pZCkNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgY2lfaXRlbTEgPSBOb25lDQogICAgICAgICAgICBpZiBjaGlsZF9zeXNfaWQgaW4gc3lzSWRMaXN0Og0KICAgICAgICAgICAgICAgIGNpX2l0ZW0yID0gaWREaWN0LmdldChjaGlsZF9zeXNfaWQpDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIGNpX2l0ZW0yID0gTm9uZQ0KICAgICAgICAgICAgc3lzX2NyZWF0ZWRfb24gPSBpdGVtLmdldCgnc3lzX2NyZWF0ZWRfb24nKQ0KICAgICAgICAgICAgc3lzX3VwZGF0ZWRfb24gPSBpdGVtLmdldCgnc3lzX3VwZGF0ZWRfb24nKQ0KICAgICAgICAgICAgcHJpbnQocGFyZW50X3N5c19pZCkNCiAgICAgICAgICAgIHByaW50KGNoaWxkX3N5c19pZCkNCiAgICAgICAgICAgIGlmIFBhcmVudERhdGEgIT0gW106DQogICAgICAgICAgICAgICAgdXBkYXRlY291bnQgPSAwDQogICAgICAgICAgICAgICAgZm9yIGogaW4gcmFuZ2UobGVuKFBhcmVudERhdGEpKToNCiAgICAgICAgICAgICAgICAgICAgaWYgUGFyZW50RGF0YVtqXSA9PSBwYXJlbnRfc3lzX2lkIGFuZCBDaGlsZERhdGFbal0gPT0gY2hpbGRfc3lzX2lkOg0KICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlX3F1ZXJ5ID0gZicnJyBVUERBVEUgY2ZtX3h3X2NpX21hcHBpbmcgU0VUIHBhcmVudF9zeXNfaWQgPSBwYXJlbnRfc3lzX2lkLCBjaGlsZF9zeXNfaWQgPSBjaGlsZF9zeXNfaWQsIHN5c19jcmVhdGVkX29uID0gc3lzX2NyZWF0ZWRfb24sIHN5c191cGRhdGVkX29uID0gc3lzX3VwZGF0ZWRfb24sIHByb2plY3RfaWQgPSBwcm9qZWN0X2lkLCByZWxhdGlvbl90eXBlID0gcmVsYXRpb25fdHlwZSwgY2lfaXRlbTEgPSBjaV9pdGVtMSwgY2lfaXRlbTFfbmFtZSA9IGNpX2l0ZW0xX25hbWUsIGNpX2l0ZW0yID0gY2lfaXRlbTIsIGNpX2l0ZW0yX25hbWUgPSBjaV9pdGVtMl9uYW1lJycnDQogICAgICAgICAgICAgICAgICAgICAgICBteWN1cnNvci5leGVjdXRlKHVwZGF0ZV9xdWVyeSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KHBhcmVudF9zeXNfaWQrJyBhbmQgJytjaGlsZF9zeXNfaWQrJyB1cGRhdGVkJykNCiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWNvdW50ID0gMQ0KICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbi5jb21taXQoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICBpZiB1cGRhdGVjb3VudCA9PSAwOg0KICAgICAgICAgICAgICAgICAgICBpbnNlcnRfcXVlcnkgPSBmJycnIElOU0VSVCBJTlRPIGNmbV94d19jaV9tYXBwaW5nIChwYXJlbnRfc3lzX2lkLGNoaWxkX3N5c19pZCxzeXNfY3JlYXRlZF9vbixzeXNfdXBkYXRlZF9vbixwcm9qZWN0X2lkLHJlbGF0aW9uX3R5cGUsY2lfaXRlbTEsY2lfaXRlbTFfbmFtZSxjaV9pdGVtMixjaV9pdGVtMl9uYW1lKSBWQUxVRVMgKCVzLCVzLCVzLCVzLCVzLCVzLCVzLCVzLCVzLCVzKScnJyANCiAgICAgICAgICAgICAgICAgICAgZGF0YSA9KHBhcmVudF9zeXNfaWQsY2hpbGRfc3lzX2lkLHN5c19jcmVhdGVkX29uLHN5c191cGRhdGVkX29uLHByb2plY3RfaWQscmVsYXRpb25fdHlwZSxjaV9pdGVtMSxjaV9pdGVtMV9uYW1lLGNpX2l0ZW0yLGNpX2l0ZW0yX25hbWUpDQogICAgICAgICAgICAgICAgICAgIG15Y3Vyc29yLmV4ZWN1dGUoaW5zZXJ0X3F1ZXJ5LGRhdGEpICANCiAgICAgICAgICAgICAgICAgICAgcHJpbnQocGFyZW50X3N5c19pZCsnIGFuZCAnK2NoaWxkX3N5c19pZCsnIGluc2VydGVkJykNCiAgICAgICAgICAgICAgICAgICAgUGFyZW50RGF0YS5hcHBlbmQocGFyZW50X3N5c19pZCkNCiAgICAgICAgICAgICAgICAgICAgQ2hpbGREYXRhLmFwcGVuZChjaGlsZF9zeXNfaWQpDQogICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24uY29tbWl0KCkNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgaW5zZXJ0X3F1ZXJ5ID0gZicnJyBJTlNFUlQgSU5UTyBjZm1feHdfY2lfbWFwcGluZyAocGFyZW50X3N5c19pZCxjaGlsZF9zeXNfaWQsc3lzX2NyZWF0ZWRfb24sc3lzX3VwZGF0ZWRfb24scHJvamVjdF9pZCxyZWxhdGlvbl90eXBlLGNpX2l0ZW0xLGNpX2l0ZW0xX25hbWUsY2lfaXRlbTIsY2lfaXRlbTJfbmFtZSkgVkFMVUVTICglcywlcywlcywlcywlcywlcywlcywlcywlcywlcyknJycgDQogICAgICAgICAgICAgICAgZGF0YSA9KHBhcmVudF9zeXNfaWQsY2hpbGRfc3lzX2lkLHN5c19jcmVhdGVkX29uLHN5c191cGRhdGVkX29uLHByb2plY3RfaWQscmVsYXRpb25fdHlwZSxjaV9pdGVtMSxjaV9pdGVtMV9uYW1lLGNpX2l0ZW0yLGNpX2l0ZW0yX25hbWUpDQogICAgICAgICAgICAgICAgbXljdXJzb3IuZXhlY3V0ZShpbnNlcnRfcXVlcnksZGF0YSkgIA0KICAgICAgICAgICAgICAgIHByaW50KHBhcmVudF9zeXNfaWQrJyBhbmQgJytjaGlsZF9zeXNfaWQrJyBpbnNlcnRlZCcpDQogICAgICAgICAgICAgICAgUGFyZW50RGF0YS5hcHBlbmQocGFyZW50X3N5c19pZCkNCiAgICAgICAgICAgICAgICBDaGlsZERhdGEuYXBwZW5kKGNoaWxkX3N5c19pZCkNCiAgICAgICAgICAgICAgICBjb25uZWN0aW9uLmNvbW1pdCgpDQogICAgICAgIHByaW50KCdEYXRhIGluc2VydGVkL3VwZGF0ZWQnKQ0KICAgIGVsc2U6DQogICAgICAgIHByaW50KCdObyBkYXRhIGluc2VydGVkJykgDQpteWN1cnNvci5jbG9zZSgpDQpjb25uZWN0aW9uLmNvbW1pdCgpDQpjb25uZWN0aW9uLmNsb3NlKCkgICAgIA0KcHJpbnQoJ2NvbXBsZXRlZCcp","leo1311"
"LEORSLTN43548","LEORSLTN43548_leo1311.py","aW1wb3J0IHJlcXVlc3RzCgppbXBvcnQganNvbgoKaW1wb3J0IGxvZ2dpbmcgYXMgbG9nZ2VyCmltcG9ydCBvcwppbXBvcnQgZGF0ZXRpbWUKaW1wb3J0IHN5cwppbXBvcnQgcmFuZG9tCmltcG9ydCByZQppbXBvcnQgdGltZQppbXBvcnQgbXlzcWwuY29ubmVjdG9yIGFzIGNvbm5lY3RvcgojIGZyb20gdXJsbGliLnBhcnNlIGltcG9ydCBxdW90ZV9wbHVzLCB1cmxwYXJzZQojIGZyb20gbGVhcC51dGlscy5VdGlsaXRpZXMgaW1wb3J0IFV0aWxpdGllcwojIGZyb20gcHlzcGFyay5zcWwgaW1wb3J0IFNwYXJrU2Vzc2lvbgoKb3MuZW52aXJvblsnSFRUUF9QUk9YWSddPScnCiAKb3MuZW52aXJvblsnSFRUUFNfUFJPWFknXT0nJwoKdXNlcm5hbWU9InNyZWludCIKcGFzc3dvcmQ9IjVkXkZac3ZtIgpob3N0PSIxMC44Mi4xMjIuOTQiCnBvcnQgPSAzMzA2CmRhdGFiYXNlID0gJ3NyZWludCcgIApjb25uZWN0aW9uID0gY29ubmVjdG9yLmNvbm5lY3QoCiAgICB1c2VyPXVzZXJuYW1lLCBwYXNzd29yZD1wYXNzd29yZCwgaG9zdD1ob3N0LCBwb3J0PXBvcnQsIGRhdGFiYXNlPWRhdGFiYXNlCikKY3Vyc29yID0gY29ubmVjdGlvbi5jdXJzb3IoKQoKI2luc3RhbmNlX2RhdGV0aW1lPSd3aW5kb3dzX21lbW9yeV91c2FnZTEgbnVsbCAyMC4wJwoKbG9nZ2VyLmJhc2ljQ29uZmlnKAogICAgbGV2ZWw9bG9nZ2VyLklORk8sCiAgICBmb3JtYXQ9JyUoYXNjdGltZSlzIElORk8gJShtZXNzYWdlKXMnLAogICAgZGF0ZWZtdD0nJXkvJW0vJWQgJUg6JU06JVMnLAopCgphcmd1bWVudHMgPSBzeXMuYXJndgpteV9kaWN0ID0ge30KZm9yIGFyZyBpbiBhcmd1bWVudHM6CiAgICB0cnk6CiAgICAgICAgbXlfZGljdFthcmcuc3BsaXQoJzonKVswXV0gPSAnOicuam9pbihhcmcuc3BsaXQoJzonKVsxOl0pCiAgICBleGNlcHQ6CiAgICAgICAgYSA9ICdlcnJvcicKCgppdHNtX251bWJlcj1teV9kaWN0WydpdHNtX251bWJlciddCgpzdGF0ZXMgPSBbIkNsb3NlZCIsICJJbiBQcm9ncmVzcyJdCnBheWxvYWRzPVsiVGhlIHJlc29sdXRpb24gd29ya2Zsb3cgaXMgdHJpZ2dlcmVkIGFuZCB0aGUgaXNzdWUgaXMgcmVzb2x2ZWQiLCAiVGhlIHJlc29sdXRpb24gd29ya2Zsb3cgaXMgdHJpZ2dlcmVkIGJ1dCB0aGUgaXNzdWUgaXMgbm90IHJlc29sdmVkIl0KIyBpbmRleCA9IHJhbmRvbS5yYW5kaW50KDAsbGVuKHBheWxvYWRzKS0xKQppbmRleD0wCgpzdGF0ZSA9c3RhdGVzW2luZGV4XQpwYXlsb2FkID0gcGF5bG9hZHNbaW5kZXhdCgoKdXJsID0gJ2h0dHBzOi8vaW5mb3N5c3EzZGV2MS5zZXJ2aWNlLW5vdy5jb20vYXBpL25vdy90YWJsZS9pbmNpZGVudD9udW1iZXI9JytpdHNtX251bWJlcgpsb2dnZXIuaW5mbyh1cmwpCgojIGxvZ2dlci5pbmZvKCd1cmwnK3VybCkKCmhlYWRlcnMgPSB7J0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJywgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30KcmVzID0gcmVxdWVzdHMuZ2V0KAogICAgICAgIHVybCwKICAgICAgICBhdXRoPSgnSUNTUF9pY2FwX3VzZXInLCAncXdlcjEyMzQnKSwKICAgICAgICBoZWFkZXJzPWhlYWRlcnMKICAgICkKCnJlc3BvbnNlPXJlcy5qc29uKCkKcmVzdWx0ID0gcmVzcG9uc2VbJ3Jlc3VsdCddCnN5c19pZD1yZXN1bHRbMF1bJ3N5c19pZCddCiMgaXRzbV9udW1iZXI9cmVzdWx0WzBdWydudW1iZXInXQp1cmwgPSAnaHR0cHM6Ly9pbmZvc3lzcTNkZXYxLnNlcnZpY2Utbm93LmNvbS9hcGkvbm93L3RhYmxlL2luY2lkZW50Lycrc3lzX2lkCgpoZWFkZXJzID0geydBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9CgpwYXlsb2FkID0geydzdGF0ZSc6IHN0YXRlLAogICAgICAgICAgICAnd29ya19ub3Rlcyc6ICBwYXlsb2FkCiAgICAgICAgICAgIH0KCnJlcyA9IHJlcXVlc3RzLnB1dCgKICAgICAgICB1cmwsCiAgICAgICAgYXV0aD0oJ0lDU1BfaWNhcF91c2VyJywgJ3F3ZXIxMjM0JyksCiAgICAgICAgaGVhZGVycz1oZWFkZXJzLAogICAgICAgIGRhdGE9anNvbi5kdW1wcyhwYXlsb2FkKSwKICAgICkgICAgCgogICAKCnRyeToKICAgICBpZihzdGF0ZSA9PSAiQ2xvc2VkIik6CiAgICAgICAgcXVlcnk9ZidVUERBVEUgYGVtZl9ldmVudGAgZSBTRVQgZS5yZXNvbHV0aW9uX3RyaWdnZXJlZCA9IFwiWWVzXCIgLCBlLml0c21fc3RhdHVzPVwiQ2xvc2VkXCIgV0hFUkUgZS5pdHNtX251bWJlciA9XCd7aXRzbV9udW1iZXJ9XCcgQU5EIGUuaXRzbV9zdGF0dXM9XCJJbiBQcm9ncmVzc1wiJyAKICAgICBlbHNlOgogICAgICAgIHF1ZXJ5PWYnVVBEQVRFIGBlbWZfZXZlbnRgIGUgU0VUIGUucmVzb2x1dGlvbl90cmlnZ2VyZWQgPSBcIlllc1wiICBXSEVSRSBlLml0c21fbnVtYmVyID1cIntpdHNtX251bWJlcn1cIiBBTkQgZS5pdHNtX3N0YXR1cz1cIkluIFByb2dyZXNzXCInICAgCiAgICAgY3Vyc29yLmV4ZWN1dGUocXVlcnkpCiAgICAgY29ubmVjdGlvbi5jb21taXQoKQogICAgIyAgbG9nZ2VyLmluZm8oJ3Jlc3BvbnNlMScpCiAgICAjICBsb2dnZXIuaW5mbyhyZXNwb25zZSkKICAgICBsb2dnZXIuaW5mbyhxdWVyeSkKICAgICBsb2dnZXIuaW5mbygndXBkYXRlIHF1ZXJ5IGV4ZWN1dGVkJykKICAgICMgbG9nZ2VyLmluZm8ocmVzcG9uc2UpCiAgICAgCiAgICAKZXhjZXB0IGNvbm5lY3Rvci5lcnJvcnMuT3BlcmF0aW9uYWxFcnJvciBhcyBlOgogICAgIyBIYW5kbGUgdGhlIHRpbWVvdXQgZXhjZXB0aW9uCiAgICAgIGxvZ2dlci5pbmZvKCdNeVNRTCBjb25uZWN0aW9uIHRpbWVvdXQ6IHt9Jy5mb3JtYXQoZSkpCiAKZmluYWxseToKICAgICMgQ2xvc2UgdGhlIGRhdGFiYXNlIGNvbm5lY3Rpb24KICAgICAgY29ubmVjdGlvbi5jbG9zZSgpCiAgICAKbG9nZ2VyLmluZm8oaXRzbV9udW1iZXIpIAogCiAKbG9nZ2VyLmluZm8oIkNvbXBsZXRlZCIpCgoKCgoKCgoKCgo=","leo1311"
"LEOPRMTH73251","LEOPRMTH73251_leo1311.py","aW1wb3J0IHJlcXVlc3RzDQppbXBvcnQganNvbg0KaW1wb3J0IGxvZ2dpbmcgYXMgbG9nZ2VyDQppbXBvcnQgb3MNCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lICwgdGltZXpvbmUgLCB0aW1lZGVsdGENCg0KDQoNCg0KDQpsb2dnZXIuYmFzaWNDb25maWcoDQogICAgbGV2ZWw9bG9nZ2VyLklORk8sDQogICAgZm9ybWF0PSclKGFzY3RpbWUpcyBJTkZPICUobWVzc2FnZSlzJywNCiAgICBkYXRlZm10PScleS8lbS8lZCAlSDolTTolUycsDQopDQoNCiNTZXR0aW5nIE5vcHJveHkNCm9zLmVudmlyb25bJ0hUVFBfUFJPWFknXT0nJw0Kb3MuZW52aXJvblsnSFRUUFNfUFJPWFknXT0nJw0Kb3MuZW52aXJvblsnaHR0cF9wcm94eSddPScnDQpvcy5lbnZpcm9uWydodHRwc19wcm94eSddPScnDQoNCg0KY3VycmVudF90aW1lID0gZGF0ZXRpbWUubm93KHRpbWV6b25lLnV0YykNCmVuZF9kYXRldGltZSA9IGN1cnJlbnRfdGltZS5zdHJmdGltZSgiJVktJW0tJWRUJUg6JU06JVNaIikNCnN0YXJ0PWN1cnJlbnRfdGltZS0gdGltZWRlbHRhKG1pbnV0ZXM9NSkNCnN0YXJ0X2RhdGV0aW1lPXN0YXJ0LnN0cmZ0aW1lKCIlWS0lbS0lZFQlSDolTTolU1oiKQ0KbG9nZ2VyLmluZm8oZW5kX2RhdGV0aW1lKQ0KbG9nZ2VyLmluZm8oc3RhcnRfZGF0ZXRpbWUpDQoNCg0KDQpwcm9tZXRoZXVzX3VybCA9ICJodHRwOi8vY3ZyaWN0bHB0bTIxOjkwOTAiDQoNCm1ldHJpY3M9Wydwcm9jZXNzX2NwdV91c2FnZScsICdqdm1fZ2NfbWVtb3J5X2FsbG9jYXRlZF9ieXRlc190b3RhbCcsJ2h0dHBfc2VydmVyX3JlcXVlc3RzX3NlY29uZHNfY291bnQnLCdodHRwX3JlcXVlc3RzX3N1Y2Nlc3NmdWxfYXZnJywnanZtX2hlYXBfbWVtb3J5X3VzZWRfcGVyY2VudCcsJ2h0dHBfcmVxdWVzdHNfdW5zdWNjZXNzZnVsX2F2ZyddDQpmb3IgaSBpbiByYW5nZShsZW4obWV0cmljcykpOg0KICAgIHF1ZXJ5PWYicXVlcnlfcmFuZ2U/cXVlcnk9e21ldHJpY3NbaV19JnN0YXJ0PXtzdGFydF9kYXRldGltZX0mZW5kPXtlbmRfZGF0ZXRpbWV9JnN0ZXA9MTBzIg0KDQoNCiAgICByZXNwb25zZSA9IHJlcXVlc3RzLmdldChmIntwcm9tZXRoZXVzX3VybH0vYXBpL3YxL3txdWVyeX0iKQ0KDQogICAgI0NoZWNrIGZvciBzdWNjZXNzZnVsIHJlc3BvbnNlDQogICAgaWYgcmVzcG9uc2Uuc3RhdHVzX2NvZGUgPT0gMjAwOg0KICAgICAgICBkYXRhID0ganNvbi5sb2FkcyhyZXNwb25zZS50ZXh0KVsiZGF0YSJdWyJyZXN1bHQiXQ0KICAgICAgICBsb2dnZXIuaW5mbyhkYXRhKQ0KICAgIGVsc2U6DQogICAgICAgIGxvZ2dlci5pbmZvKGYiRXJyb3IgcXVlcnlpbmcgUHJvbWV0aGV1czoge3Jlc3BvbnNlLnN0YXR1c19jb2RlfSIpDQogICAgDQogICAgDQogICAgDQpsb2dnZXIuaW5mbygnY29tcGxldGVkJykNCg0KDQoNCg0K","leo1311"
"LEOEVNTC87096","LEOEVNTC87096_leo1311.py","aW1wb3J0IHV1aWQNCmltcG9ydCByZXF1ZXN0cw0KaW1wb3J0IG15c3FsLmNvbm5lY3RvciBhcyBjb25uZWN0b3INCmltcG9ydCBsb2dnaW5nIGFzIGxvZ2dlcg0KaW1wb3J0IG9zDQppbXBvcnQgZGF0ZXRpbWUNCmltcG9ydCBzeXMNCmltcG9ydCByZQ0KaW1wb3J0IHRpbWUNCmltcG9ydCBqc29uDQojIGNpX25hbWVzID0gWyJDSVAiLCJMRUFQIEpvYiBFeGVjdXRvciJdDQoNCiNEQiBkZXRhaWxzDQp1c2VybmFtZT0ic3JlaW50Ig0KcGFzc3dvcmQ9IjVkXkZac3ZtIg0KaG9zdD0iMTAuODIuMTIyLjk0Ig0KcG9ydCA9IDMzMDYNCmRhdGFiYXNlID0gJ3NyZWludCcgIA0KDQpsb2dnZXIuYmFzaWNDb25maWcoDQogICAgbGV2ZWw9bG9nZ2VyLklORk8sDQogICAgZm9ybWF0PSclKGFzY3RpbWUpcyBJTkZPICUobWVzc2FnZSlzJywNCiAgICBkYXRlZm10PScleS8lbS8lZCAlSDolTTolUycsDQopDQoNCm9zLmVudmlyb25bJ0hUVFBfUFJPWFknXT0nYmxycHJveHkuYWQuaW5mb3N5cy5jb206NDQzJw0KIA0Kb3MuZW52aXJvblsnSFRUUFNfUFJPWFknXT0nYmxycHJveHkuYWQuaW5mb3N5cy5jb206NDQzJw0KDQogIA0KY2xhc3MgTm9kZToNCiAgICBkZWYgX19pbml0X18oc2VsZiwgbmFtZSxjaU1ldHJpYyxzeXNfaWQscGFyZW50X2xpc3QsY2hpbGRyZW5fbGlzdCxjb3JyZWxhdGlvbl9pZCxjb3JyZWxhdGlvbl9wYXJlbnRfaWQsZXZlbnRfaWQsc3RyX3BhcmFtcyxpdHNtX251bWJlcik6DQogICAgICAgIHNlbGYubmFtZSA9IG5hbWUNCiAgICAgICAgc2VsZi5jaU1ldHJpYyA9IGNpTWV0cmljDQogICAgICAgIHNlbGYuZXZlbnRfaWQgPSBldmVudF9pZA0KICAgICAgICBzZWxmLnN5c19pZCA9IHN5c19pZA0KICAgICAgICBzZWxmLnBhcmVudF9saXN0ID0gcGFyZW50X2xpc3QNCiAgICAgICAgc2VsZi5jb3JyZWxhdGlvbl9pZCA9IGNvcnJlbGF0aW9uX2lkDQogICAgICAgIHNlbGYuY29ycmVsYXRpb25fcGFyZW50X2lkID0gY29ycmVsYXRpb25fcGFyZW50X2lkDQogICAgICAgIHNlbGYuc3RyX3BhcmFtcz1zdHJfcGFyYW1zDQogICAgICAgIHNlbGYuaXRzbV9udW1iZXI9aXRzbV9udW1iZXINCiAgICAgICAgc2VsZi5jaGlsZHJlbl9saXN0ID0gY2hpbGRyZW5fbGlzdA0KICAgICAgICBzZWxmLnByb2Nlc3NlZCA9IEZhbHNlDQogICAgDQogICAgIyBkZWYgX19zdHJfXyhzZWxmKToNCiAgICAjICAgICBvdXRwdXQgPSBbXQ0KICAgICMgICAgIGZvciBrZXksIHZhbHVlIGluIHNlbGYuaXRlbXM6DQogICAgIyAgICAgICAgIG91dHB1dC5hcHBlbmQoZiJLZXk6IHtrZXl9LCBWYWx1ZToge3ZhbHVlfSIpICAjIEFjY2VzcyB2YWx1ZSBkaXJlY3RseQ0KICAgICMgICAgIHJldHVybiAiXG4iLmpvaW4ob3V0cHV0KSAgDQogICAgICANCg0KZGVmIGNhbGxpbmdOZXh0RXZlbnQoc3RyX3BhcmFtcyxpdHNtX251bWJlcik6DQogICAgICBhcGlfdXJsID0gJ2h0dHBzOi8vbGVhcDc6NDAwNi9hcGkvZXZlbnQvdHJpZ2dlci9SYWJiaXRtcV9lbWY/b3JnPWxlbzEzMTEmY29yZWxpZD0mZGF0YXNvdXJjZU5hbWU9TEVBTENMQ0wxMjEzMicNCiAgICAgIGhlYWRlcnMgPSAgeydDb250ZW50LVR5cGUnOidhcHBsaWNhdGlvbi9qc29uJ30NCiAgICAjICAgbG9nZ2VyLmluZm8oc3RyX3BhcmFtc1siaXRzbV9udW1iZXIiXSkNCiAgICAjICAgbG9nZ2VyLmluZm8oImFsZXJ0IGpzb24iKQ0KICAgICAgYWxlcnRqc29uID0ge30NCiAgICAgIGpzb25kYXRhID0ganNvbi5sb2FkcyhzdHJfcGFyYW1zKQ0KICAgICAganNvbmRhdGFbJ2l0c21fbnVtYmVyJ10gPWl0c21fbnVtYmVyDQogICAgIyAgIGxvZ2dlci5pbmZvKGpzb25kYXRhWyJpdHNtX3N5c3RlbSJdKQ0KICAgIA0KICAgICAgYWxlcnRqc29uID0ganNvbmRhdGENCiAgICAgICAgIyBhbGVydGpzb25bJ2luc3RhbmNlJ109aW5zdGFuY2UNCiAgICAgICAgIyBhbGVydGpzb25bJ2NpX25hbWUnXT1jaV9uYW1lDQogICAgICAgICMgYWxlcnRqc29uWydtZXRyaWMnXT1tZXRyaWMNCiAgICAgICAgIyBhbGVydGpzb25bJ21ldHJpY192YWx1ZSddPW1ldHJpY192YWx1ZQ0KICAgICAgICAjIGFsZXJ0anNvblsnZGF0ZV90aW1lJ109ZGF0ZV90aW1lDQogICAgICAgICMgYWxlcnRqc29uWydkZXNjcmlwdGlvbiddPWRlc2NyaXB0aW9uDQogICAgICAgICMgYWxlcnRqc29uWydhbGVydF9tZXNzYWdlJ109YWxlcnRfbWVzc2FnZQ0KICAgICAgICAjIGFsZXJ0anNvblsnZXJyb3JfbWVzc2FnZSddPWVycm9yX21lc3NhZ2UNCiAgICAgICAgIyBhbGVydGpzb25bJ2NhdXNlJ109Y2F1c2UNCiAgICAjICAgbG9nZ2VyLmluZm8oYWxlcnRqc29uKSAgICANCiAgICAjICAgbG9nZ2VyLmluZm8oYWxlcnRqc29uWydpdHNtX251bWJlciddKQ0KICAgICAgDQogICAgIyAgIGFsZXJ0anNvblsnaXRzbV9udW1iZXInXT1pdHNtX251bWJlcg0KICAgICAgICAjIGFsZXJ0anNvblsnaXRzbV9zeXN0ZW0nXT1pdHNtX3N5c3RlbQ0KICAgICAgICAjIGFsZXJ0anNvblsnaXRzbV9saW5rJ109aXRzbV9saW5rDQogICAgIyAgIGxvZ2dlci5pbmZvKCJJc0R1cGxpY2F0ZSAiK2lzRHVwbGljYXRlKQ0KICAgICMgICBhbGVydGpzb25bJ2lzRHVwbGljYXRlJ109aXNEdXBsaWNhdGUNCiAgICAgICAgIyBhbGVydGpzb25bJ3dvcmtmbG93X3BhcmFtJ109d29ya2Zsb3dfcGFyYW0NCiAgICAgIGRhdGEgPScnJ3t9JycnDQogICAgICBxdWVyeWpzb24gPSBqc29uLmxvYWRzKGRhdGEpDQogICAgICBxdWVyeWpzb25bJ2V2ZW50SWQnXSA9J2V2ZW50JytzdHIoc3RyKGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpLnRpbWVzdGFtcCgpKS5yZXBsYWNlKCcuJywgJycpKQ0KICAgICAgcXVlcnlqc29uWydldmVudFR5cGVOYW1lJ10gPSdDYWxsIFJlc29sdXRpb24nDQogICAgICBxdWVyeWpzb25bJ2NvbnRleHQnXT1hbGVydGpzb24NCiAgICAjICAgbG9nZ2VyLmluZm8oInF1ZXJ5anNvbiIpDQogICAgIyAgIGxvZ2dlci5pbmZvKHF1ZXJ5anNvbikNCiAgICAgIHF1ZXJ5anNvbjI9anNvbi5sb2FkcyhkYXRhKQ0KICAgICAgcXVlcnlqc29uMlsnYm9keSddPXF1ZXJ5anNvbg0KICAgICAgICANCiAgICAgICAgI1NldHRpbmcgTm9wcm94eQ0KICAgICAgb3MuZW52aXJvblsnSFRUUF9QUk9YWSddPScnDQogICAgICBvcy5lbnZpcm9uWydIVFRQU19QUk9YWSddPScnDQogICAgICBvcy5lbnZpcm9uWydodHRwX3Byb3h5J109JycNCiAgICAgIG9zLmVudmlyb25bJ2h0dHBzX3Byb3h5J109JycNCiAgICAgICAgDQogICAgICByZXNwb25zZSA9IHJlcXVlc3RzLnBvc3QoYXBpX3VybCwgZGF0YT1qc29uLmR1bXBzKHF1ZXJ5anNvbjIpLCBoZWFkZXJzPWhlYWRlcnMsdmVyaWZ5PUZhbHNlKQ0KICAgICAgDQogICAgICANCiAgICAgIG9zLmVudmlyb25bJ2h0dHBfcHJveHknXT0nYmxycHJveHkuYWQuaW5mb3N5cy5jb206NDQzJw0KICAgICAgb3MuZW52aXJvblsnaHR0cHNfcHJveHknXT0nYmxycHJveHkuYWQuaW5mb3N5cy5jb206NDQzJw0KICAgICAgb3MuZW52aXJvblsnSFRUUF9QUk9YWSddPSdibHJwcm94eS5hZC5pbmZvc3lzLmNvbTo0NDMnDQogDQogICAgICBvcy5lbnZpcm9uWydIVFRQU19QUk9YWSddPSdibHJwcm94eS5hZC5pbmZvc3lzLmNvbTo0NDMnDQogICAgICANCiAgICAgIA0KZGVmIGdldHRpbmdTeXNJZChjaV9uYW1lKToNCiAgICB1cmwgPSBmIntzbm93X3VybH0vYXBpL25vdy90YWJsZS9jbWRiX2NpP3N5c3Bhcm1fcXVlcnk9bmFtZT17Y2lfbmFtZX0iDQogICAgaGVhZGVycyA9IHsNCiAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIg0KICAgIH0NCiAgICByZXNwb25zZSA9IHJlcXVlc3RzLmdldCh1cmwsIGF1dGg9KHNub3dfdXNlciwgc25vd19wYXNzKSwgaGVhZGVycz1oZWFkZXJzKQ0KICAgIHJlc3BvbnNlX2pzb24gPSByZXNwb25zZS5qc29uKCkNCiAgICByZXR1cm4gcmVzcG9uc2VfanNvblsncmVzdWx0J11bMF1bJ3N5c19pZCddDQoNCmRlZiBnZXR0aW5nQ2hpbGRyZW5Gb3JDaShzeXNfaWQpOg0KICAgICAgc25vd19jaV91cmw9Imh0dHBzOi8vaW5mb3N5c3EzZGV2MS5zZXJ2aWNlLW5vdy5jb20vYXBpL25vdy90YWJsZS9jbWRiX3JlbF9jaSI7DQogICAgICBwYXJhbXMgPSB7ICAgICAgICAgDQogICAgDQogICAgICAgICdzeXNwYXJtX3F1ZXJ5JzogZidwYXJlbnQ9e3N5c19pZH0nLCAgICAgICAgIA0KICAgICAgICAnc3lzcGFybV9maWVsZHMnOiAncGFyZW50LnN5c19pZCxwYXJlbnQuc3lzX2NsYXNzX25hbWUscGFyZW50Lm5hbWUsY2hpbGQuc3lzX2lkLGNoaWxkLnN5c19jbGFzc19uYW1lLGNoaWxkLm5hbWUnICAgICAgDQogICAgICAgIH0NCiAgICAgIGhlYWRlcnMgPSB7DQogICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiINCiAgICAgICAgfQ0KICAgICAgcmVzID0gcmVxdWVzdHMuZ2V0KA0KICAgICAgICAgICAgICAgIHNub3dfY2lfdXJsLA0KICAgICAgICAgICAgICAgIGF1dGg9KHNub3dfdXNlciwgc25vd19wYXNzKSwNCiAgICAgICAgICAgICAgICBoZWFkZXJzPWhlYWRlcnMsDQogICAgICAgICAgICAgICAgcGFyYW1zPXBhcmFtcw0KICAgICAgICkNCiAgICAjICAgcHJpbnQocmVzLmpzb24oKSkNCiAgICAgIA0KICAgICAgcmVzSnNvbiA9IHJlcy5qc29uKCkNCiAgICAgIGNoaWxkQ2lzPXJlc0pzb25bInJlc3VsdCJdDQogICAgICBjaGlsZENJTmFtZXM9W10NCiAgICAgIGlmKGxlbihjaGlsZENpcyk+MCk6DQogICAgICAgICAgDQogICAgICAgICAgZm9yIGNoaWxkQ2kgaW4gY2hpbGRDaXM6DQogICAgICAgICAgICAgIGlmIGNoaWxkQ2lbJ2NoaWxkLm5hbWUnXSBpbiBjaV9uYW1lczoNCiAgICAgICAgICAgICAgICBjaGlsZENJTmFtZXMuYXBwZW5kKGNoaWxkQ2lbJ2NoaWxkLm5hbWUnXSkNCiAgICAgIHJldHVybiBjaGlsZENJTmFtZXMNCiAgDQoNCiAgDQpkZWYgZ2V0dGluZ1BhcmVudEZvckNpKHN5c19pZCk6DQogICAgICBzbm93X2NpX3VybD0iaHR0cHM6Ly9pbmZvc3lzcTNkZXYxLnNlcnZpY2Utbm93LmNvbS9hcGkvbm93L3RhYmxlL2NtZGJfcmVsX2NpIjsNCiAgICAgIHBhcmFtcyA9IHsgICAgICAgICANCiAgICANCiAgICAgICAgJ3N5c3Bhcm1fcXVlcnknOiBmJ2NoaWxkPXtzeXNfaWR9JywgICAgICAgICANCiAgICAgICAgJ3N5c3Bhcm1fZmllbGRzJzogJ3BhcmVudC5zeXNfaWQscGFyZW50LnN5c19jbGFzc19uYW1lLHBhcmVudC5uYW1lLGNoaWxkLnN5c19pZCxjaGlsZC5zeXNfY2xhc3NfbmFtZSxjaGlsZC5uYW1lJw0KICAgICAgfQ0KICAgICAgaGVhZGVycyA9IHsNCiAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIg0KICAgICAgICB9DQogICAgICByZXMgPSByZXF1ZXN0cy5nZXQoDQogICAgICAgICAgICAgICAgc25vd19jaV91cmwsDQogICAgICAgICAgICAgICAgYXV0aD0oc25vd191c2VyLCBzbm93X3Bhc3MpLA0KICAgICAgICAgICAgICAgIGhlYWRlcnM9aGVhZGVycywNCiAgICAgICAgICAgICAgICBwYXJhbXM9cGFyYW1zDQogICAgICAgKQ0KICAgICMgICBwcmludChyZXMuanNvbigpKQ0KICAgICAgDQogICAgICByZXNKc29uID0gcmVzLmpzb24oKSAgDQogICAgICBwYXJlbnRDSXM9cmVzSnNvblsicmVzdWx0Il0NCiAgICAgIHBhcmVudENpTmFtZXM9W10NCiAgICAgIGlmKGxlbihwYXJlbnRDSXMpPjApOg0KICAgICAgICAgIGZvciBwYXJlbnRDSSBpbiBwYXJlbnRDSXM6DQogICAgICAgICAgICAgIGlmIHBhcmVudENJWydwYXJlbnQubmFtZSddIGluIGNpX25hbWVzOg0KICAgICAgICAgICAgICAgIHBhcmVudENpTmFtZXMuYXBwZW5kKHBhcmVudENJWydwYXJlbnQubmFtZSddKQ0KICAgICAgcmV0dXJuIHBhcmVudENpTmFtZXMgICANCiAgDQogDQogICAgDQpkZWYgZ2VuZXJhdGluZ0NvcnJlbGF0aW9uSWQoY2lfbmFtZSxldmVudF9pZCk6DQogICAgIyAgcHJpbnQoImNhbGxpbmcgZ2VuZXJhdGluZ0NvcnJlbGF0aW9uSWQiKQ0KICAgICB1aWQgPSB1dWlkLnV1aWQ0KCkNCiAgICAgY29ycmVsYXRpb25faWQ9c3RyKHVpZClbMDo2XQ0KICAgICB0cnk6DQogICAgICAgIGNvbm5lY3Rpb24gPSBjb25uZWN0b3IuY29ubmVjdCgNCiAgICAgICAgdXNlcj0nc3JlaW50JywgcGFzc3dvcmQ9JzVkXkZac3ZtJywgaG9zdD0nMTAuODIuMTIyLjk0JywgcG9ydD0zMzA2LCBkYXRhYmFzZT0nc3JlaW50Jw0KICAgICAgICApDQogICAgICAgIGN1cnNvciA9IGNvbm5lY3Rpb24uY3Vyc29yKCkNCiAgICAgICAgcXVlcnk9ZicgVVBEQVRFIGBlbWZfZXZlbnRgIGUgU0VUIGUuY29ycmVsYXRpb25faWQgPVwie2NvcnJlbGF0aW9uX2lkfVwiIFdIRVJFIGUuaWQgPXtldmVudF9pZH0nDQogICAgICAgIGN1cnNvci5leGVjdXRlKHF1ZXJ5KQ0KICAgICAgICBjb25uZWN0aW9uLmNvbW1pdCgpDQogICAgIGV4Y2VwdCBjb25uZWN0b3IuZXJyb3JzLk9wZXJhdGlvbmFsRXJyb3IgYXMgZToNCiAgICAgICAgIyBIYW5kbGluZyB0aGUgdGltZW91dCBleGNlcHRpb24NCiAgICAgICAgbG9nZ2VyLmluZm8oJ015U1FMIGNvbm5lY3Rpb24gdGltZW91dDoge30nLmZvcm1hdChlKSkNCg0KICAgICBmaW5hbGx5Og0KICAgICAgICAjQ2xvc2UgdGhlIGRhdGFiYXNlIGNvbm5lY3Rpb24NCiAgICAgICAgY3Vyc29yLmNsb3NlKCkNCiAgICAgICAgY29ubmVjdGlvbi5jbG9zZSgpDQogICAgICAgIA0KIyBjaV9saXN0ID1beyAibmFtZSI6ICJEQlMiLCAiZXZlbnRfaWQiOiAxICwiY29ycmVsYXRpb25fUGFyZW50aWQiOiIiLCAiY29ycmVsYXRpb25faWQiOiIifSwgeyAibmFtZSI6ICJMRUFQIEpvYiBFeGVjdXRvciIsICJldmVudF9pZCI6IDIsImNvcnJlbGF0aW9uX1BhcmVudGlkIjoiIiwgImNvcnJlbGF0aW9uX2lkIjoiIn0sIHsgIm5hbWUiOiAiQ0lQIiwgImV2ZW50X2lkIjogMywiY29ycmVsYXRpb25fUGFyZW50aWQiOiIiLCAiY29ycmVsYXRpb25faWQiOiIifSwgeyAibmFtZSI6ICJFTUYiLCAiZXZlbnRfaWQiOiA0LCJjb3JyZWxhdGlvbl9QYXJlbnRpZCI6IiIsICJjb3JyZWxhdGlvbl9pZCI6IiINCiMgY2lfbmFtZXMgPSBzZXQoKQ0KY2lfbmFtZXM9W10NCnNub3dfdXJsID0naHR0cHM6Ly9pbmZvc3lzcTNkZXYxLnNlcnZpY2Utbm93LmNvbS8nDQpzbm93X3VzZXIgPSAnSUNTUF9pY2FwX3VzZXInDQpzbm93X3Bhc3MgPSAncXdlcjEyMzQnDQoNCmhpZXJhcmNoeV9tYXAgPWRpY3QoKQ0KDQp0cnk6DQogICAgY29ubmVjdGlvbiA9IGNvbm5lY3Rvci5jb25uZWN0KA0KICAgICAgICB1c2VyPXVzZXJuYW1lLCBwYXNzd29yZD1wYXNzd29yZCwgaG9zdD1ob3N0LCBwb3J0PXBvcnQsIGRhdGFiYXNlPWRhdGFiYXNlDQogICAgKQ0KICAgIGN1cnNvciA9IGNvbm5lY3Rpb24uY3Vyc29yKCkNCiAgICBxdWVyeT1mJ1NFTEVDVCBlLmlkLGUuc3RyX3BhcmFtcyxlLml0c21fbnVtYmVyLGUuY2ksZS5jb3JyZWxhdGlvbl9wYXJlbnRfaWQsZS5jb3JyZWxhdGlvbl9pZCBGUk9NIGBlbWZfZXZlbnRgIGUgSk9JTiBgZW1mX3dvcmtmbG93X3N0YXRlYCB3cyBPTiBlLmlkID0gd3MuZXZlbnRfaWQgIFdIRVJFIHdzLndvcmtmbG93X3N0YXRlPVwiRGVkdXBsaWNhdGlvbiBEb25lXCIgQU5EICBlLml0c21fc3RhdHVzID0gXCJJbiBQcm9ncmVzc1wiIEFORCBlLmNvcnJlbGF0aW9uX3BhcmVudF9pZCBJUyBOVUxMIEFORCBlLmNvcnJlbGF0aW9uX2lkIElTIE5VTEwgQU5EIGUuYWN0aW9uYWJsZSA9IFwnWWVzXCc7Jw0KICAgIGN1cnNvci5leGVjdXRlKHF1ZXJ5KQ0KICAgIGNpX2xpc3Q9Y3Vyc29yLmZldGNoYWxsKCkNCiAgICBsb2dnZXIuaW5mbygidG90YWwgcmVjb3JkcyBmZXRjaGVkIikNCiAgICBsb2dnZXIuaW5mbyhsZW4oY2lfbGlzdCkpDQogIA0KZXhjZXB0IGNvbm5lY3Rvci5lcnJvcnMuT3BlcmF0aW9uYWxFcnJvciBhcyBlOg0KICAgIHByaW50KCJNeVNRTCBjb25uZWN0aW9uIHRpbWVvdXQ6IHt9Ii5mb3JtYXQoZSkgKSANCg0KZmluYWxseToNCiAgICAjIENsb3NlIHRoZSBkYXRhYmFzZSBjb25uZWN0aW9uDQogICAgY3Vyc29yLmNsb3NlKCkNCiAgICBjb25uZWN0aW9uLmNsb3NlKCkNCg0KaWYgbGVuKGNpX2xpc3QpPjA6DQogICAgIyBwcmludCgic3RhcnRpbmciKSAgICAgICAgICAgICANCiAgICBpbnB1dExpc3QgPSB7fQ0KICAgIGZvciBjaSBpbiBjaV9saXN0Og0KICAgICAgICBjaV9uYW1lcy5hcHBlbmQoY2lbM10pDQogICAgICAgIGNpX25hbWUgPSBjaVszXQ0KICAgICAgICBpdHNtX251bWJlcj1jaVsyXQ0KICAgICAgICBldmVudF9pZCA9IGNpWzBdDQogICAgICAgIHN0cl9wYXJhbXM9Y2lbMV0NCiAgICAgICAgc3RyX3BhcmFtc0pzb24gPSBqc29uLmxvYWRzKHN0cl9wYXJhbXMpDQogICAgICAgIG1ldHJpY05hbWUgPSBzdHJfcGFyYW1zSnNvblsibWV0cmljIl0NCiAgICAgICAgY2lNZXRyaWNOYW1lID0gY2lfbmFtZSArICIgIiArbWV0cmljTmFtZQ0KICAgICAgICAjIGxvZ2dlci5pbmZvKCJjaU1ldHJpY05hbWUgIitjaU1ldHJpY05hbWUpDQogICAgICAgICMgc3RyX3BhcmFtc1snaXRzbV9udW1iZXInXT1jaVsyXQ0KICAgICAgICBjaU5vZGUgPSBOb2RlKGNpX25hbWUsY2lNZXRyaWNOYW1lLE5vbmUsW10sW10sY2lbNV0sY2lbNF0sZXZlbnRfaWQsc3RyX3BhcmFtcyxpdHNtX251bWJlcikNCiAgICAgICAgIyBsb2dnZXIuaW5mbygicHJpbnRpbmcgbm9kZSB2YWx1ZXMiKQ0KICAgICAgICAjIGxvZ2dlci5pbmZvKGNpTm9kZS5uYW1lICsgIiAiKyBjaU5vZGUuY2lNZXRyaWMpDQogICAgICAgIA0KICAgICAgICBpbnB1dExpc3RbY2lNZXRyaWNOYW1lXT1jaU5vZGUNCiAgICAgICAgZm9yIGtleSBpbiBpbnB1dExpc3Q6DQogICAgICAgICAgICBwcmludCgia2V5ICIra2V5KQ0KICAgICAgICAgICAgcHJpbnQoImNpIG5hbWUgIitpbnB1dExpc3Rba2V5XS5uYW1lKQ0KICAgICAgICAgICAgcHJpbnQoImNpTWV0cmljICIraW5wdXRMaXN0W2tleV0uY2lNZXRyaWMpDQogICAgIyBwcmludCgiaW5wdXRMaXN0IG1hcCIpDQogICAgIyBwcmludChpbnB1dExpc3QpDQogICAgDQogICAgDQogICAgcHJvY2Vzc2VkTWFwPXt9ICAgIA0KICAgIGZvciBrZXkgaW4gaW5wdXRMaXN0LmtleXMoKToNCiAgICAgICAgbG9nZ2VyLmluZm8oIiBpbnB1dCBsaXN0IGtleSAiK2tleSkNCiAgICAgICAgaW5wdXRMaXN0W2tleV0uc3lzX2lkID0gZ2V0dGluZ1N5c0lkKGlucHV0TGlzdFtrZXldLm5hbWUpDQogICAgICAgIHN5c19pZCA9IGlucHV0TGlzdFtrZXldLnN5c19pZA0KICAgICAgICBjaGlsZHJlbiA9IGdldHRpbmdDaGlsZHJlbkZvckNpKHN5c19pZCkNCiAgICAgICAgY2hpbGRyZW5SZWZlcmVuY2UgPVtdDQogICAgICAgIGZvciBjaGlsZCBpbiBjaGlsZHJlbjoNCiAgICAgICAgICAgIGZvciBrZXkxIGluIGlucHV0TGlzdC5rZXlzKCk6DQogICAgICAgICAgICAgICAgaWYgaW5wdXRMaXN0W2tleTFdLm5hbWUgPT0gY2hpbGQ6DQogICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuUmVmZXJlbmNlLmFwcGVuZChpbnB1dExpc3Rba2V5MV0pDQogICAgICAgIHBhcmVudHMgPSBnZXR0aW5nUGFyZW50Rm9yQ2koc3lzX2lkKQ0KICAgICAgICBwYXJlbnRSZWZlcmVuY2UgPVtdDQogICAgICAgIGZvciBwYXJlbnQgaW4gcGFyZW50czoNCiAgICAgICAgICAgIGZvciBrZXkyIGluIGlucHV0TGlzdC5rZXlzKCk6DQogICAgICAgICAgICAgICAgaWYgaW5wdXRMaXN0W2tleTJdLm5hbWUgPT0gcGFyZW50Og0KICAgICAgICAgICAgICAgICAgICBwYXJlbnRSZWZlcmVuY2UuYXBwZW5kKGlucHV0TGlzdFtrZXkyXSkNCiAgICAgICAgcHJvY2Vzc2VkTWFwW2tleV09aW5wdXRMaXN0W2tleV0NCiAgICAgICAgcHJvY2Vzc2VkTWFwW2tleV0uY2hpbGRyZW5fbGlzdD1jaGlsZHJlblJlZmVyZW5jZQ0KICAgICAgICAjIHByaW50KCJrZXkgZHVyaW5nIGluc2VydGlvbiAiK2tleSkNCiAgICAgICAgcHJvY2Vzc2VkTWFwW2tleV0ucGFyZW50X2xpc3Q9cGFyZW50UmVmZXJlbmNlDQogICAgIyBwcmludCgicHJvY2Vzc2VkTWFwIGtleSBsZW5ndGggIitzdHIobGVuKHByb2Nlc3NlZE1hcC5rZXlzKCkpKSkNCiAgICAjIGZvciBrZXkgaW4gcHJvY2Vzc2VkTWFwOg0KICAgICMgICAgIHByaW50KCJrZXkgaW4gcHJvY2Vzc2VkIG1hcCAiK2tleSkgICAgDQogICAgICAgICAgIA0KICAgIGRlZiBmaW5kaW5nTGVhZk5vZGVzKHByb2Nlc3NlZE1hcCxjaU1ldHJpYyxpbnB1dExpc3QpOg0KICAgICAgICBsZWFmTm9kZXM9W10NCiAgICAgICAgbG9nZ2VyLmluZm8oImNoZWNraW5nIGUvcnJvciAiK2NpTWV0cmljKQ0KICAgICAgICAjIGxvZ2dlci5pbmZvKCJub2RlZSIpDQogICAgICAgICMgbG9nZ2VyLmluZm8ocHJvY2Vzc2VkTWFwLmdldChjaU1ldHJpYykpDQogICAgICAgICMgbG9nZ2VyLmluZm8oIm5vZGUgbmFtZSAiK3Byb2Nlc3NlZE1hcC5nZXQoY2lNZXRyaWMpLm5hbWUpDQogICAgICAgICMgbG9nZ2VyLmluZm8oImNoaWxkcmVuIGxpc3QgbGVuIikNCiAgICAgICAgIyBsb2dnZXIuaW5mbyhsZW4ocHJvY2Vzc2VkTWFwLmdldChjaU1ldHJpYykuY2hpbGRyZW5fbGlzdCkpDQogICAgICAgICMgbG9nZ2VyLmluZm8oImNoaWxkcmVuICIrcHJvY2Vzc2VkTWFwLmdldChjaU1ldHJpYykuY2hpbGRyZW5fbGlzdCkNCiAgICAgICAgaWYocHJvY2Vzc2VkTWFwW2NpTWV0cmljXSBpcyBub3QgTm9uZSk6DQogICAgICAgICAgICAjIHByaW50KCJjaGVja2luZyBlcnJvciBhbmQgbm9kZSBuYW1lICIrIHByb2Nlc3NlZE1hcFtjaU1ldHJpY10ubmFtZSkNCiAgICAgICAgICAgICMgcHJpbnQoImNoZWNraW5nIGVycm9yIGFuZCBjaGlsZHJlbiBsaXN0ICIrIHByb2Nlc3NlZE1hcFtjaU1ldHJpY10uY2hpbGRyZW5fbGlzdCkNCiAgICAgICAgDQogICAgICAgICAgICBpZiAobGVuKHByb2Nlc3NlZE1hcFtjaU1ldHJpY10uY2hpbGRyZW5fbGlzdCkgPiAwKToNCiAgICAgICAgICAgICAgICBmb3IgY2hpbGQgaW4gcHJvY2Vzc2VkTWFwW2NpTWV0cmljXS5jaGlsZHJlbl9saXN0Og0KICAgICAgICAgICAgICAgICAgICBsZWFmTm9kZXMrPWZpbmRpbmdMZWFmTm9kZXMocHJvY2Vzc2VkTWFwLGNoaWxkLmNpTWV0cmljLGlucHV0TGlzdCkNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgbGVhZk5vZGVzLmFwcGVuZChpbnB1dExpc3RbY2lNZXRyaWNdKQ0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgcHJpbnQoImVycm9yIGluIGZpbmRpbmcgbGVhZiBub2RlcyIpDQogICAgICAgICAgICBwcmludCgiY2lNZXRyaWMgIitjaU1ldHJpYykgICAgICAgIA0KICAgICAgICByZXR1cm4gbGVhZk5vZGVzDQoNCiAgICANCiAgICBkZWYgZmluZGluZ0FMTExlYWZOb2Rlcyhwcm9jZXNzZWRNYXApOg0KICAgICAgICBsZWFmTm9kZXMgPVtdDQogICAgICAgIGZvciBrZXkgaW4gcHJvY2Vzc2VkTWFwOg0KICAgICAgICAgICAgIyBsZWFmTm9kZXMrPWZpbmRpbmdMZWFmTm9kZXMocHJvY2Vzc2VkTWFwLCBwcm9jZXNzZWRNYXBba2V5XS5uYW1lLGlucHV0TGlzdCkNCiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCJrZXkgIitrZXkpDQogICAgICAgICAgICBsZWFmTm9kZXMrPWZpbmRpbmdMZWFmTm9kZXMocHJvY2Vzc2VkTWFwLCBrZXksIGlucHV0TGlzdCkNCiAgICAgICAgICAgICMgbG9nZ2VyLmluZm8oa2V5KQ0KICAgICAgICAgICAgIyBsb2dnZXIuaW5mbyhwcm9jZXNzZWRNYXBba2V5XS5jaGlsZHJlbl9saXN0KQ0KICAgICAgICAgICAgIyBpZiBsZW4ocHJvY2Vzc2VkTWFwW2tleV0uY2hpbGRyZW5fbGlzdCkgPT0gMDoNCiAgICAgICAgICAgICMgICAgIGxlYWZOb2Rlcy5hcHBlbmQocHJvY2Vzc2VkTWFwW2tleV0pDQogICAgICAgICAgICAjICAgICBsb2dnZXIuaW5mbygibGVhZiBOb2Rlcz09ICIrcHJvY2Vzc2VkTWFwW2tleV0ubmFtZSkNCiAgICAgICAgbGVhZk5vZGVzU2V0ID1zZXQobGVhZk5vZGVzKQ0KICAgICAgICBmb3Igbm9kZSBpbiBsZWFmTm9kZXM6DQogICAgICAgICAgICBsb2dnZXIuaW5mbygibGVhZiBub2RlIGNpIG1ldHJpYyBuYW1lIGluIGFycmF5ICIrbm9kZS5jaU1ldHJpYykNCiAgICAgICAgcmV0dXJuIGxlYWZOb2Rlc1NldA0KICAgIA0KICAgIGxlYWZOb2Rlc1NldCA9IGZpbmRpbmdBTExMZWFmTm9kZXMocHJvY2Vzc2VkTWFwKSANCiAgICAjIGZvciBsZWFmTm9kZSBpbiBsZWFmTm9kZXNTZXQ6DQogICAgIyAgICAgcHJpbnQoImNpIG1ldHJpYyBvZiBsZWFmTm9kZSAgaXMiICsgbGVhZk5vZGUuY2lNZXRyaWMpICANCiAgICAjIHByaW50KGxlbihsZWFmTm9kZXNTZXQpKQ0KICAgIA0KICAgIGZvciBsZWFmTm9kZSBpbiBsZWFmTm9kZXNTZXQ6DQogICAgICAgICMgcHJpbnQoIm5hbWUgb2YgbGVhZk5vZGUgIGlzIiArIGxlYWZOb2RlLm5hbWUpDQogICAgICAgIHVpZCA9IHV1aWQudXVpZDQoKQ0KICAgICAgICBjb3JyZWxhdGlvbl9pZCA9IHN0cih1aWQpWzA6Nl0NCiAgICAgICAgbGVhZk5vZGUuY29ycmVsYXRpb25faWQgPSBjb3JyZWxhdGlvbl9pZA0KICAgICAgICAjIHByaW50KCJmaW5kaW5nIHBhcmVudHMgb2YgbGVhZiBub2RlcyAiICsgbGVhZk5vZGUucGFyZW50X2xpc3RbMF0ubmFtZSkNCiAgICAgICAgDQogICAgICAgIA0KICAgIGRlZiBhc3NpZ25pbmdDb3JyZWxhdGlvbklkKG5vZGVzKToNCiAgICAgIGZvciBub2RlIGluIG5vZGVzOg0KICAgICAgICAjIHByaW50KCIgbm9kZSBuYW1lIGlzICIrbm9kZS5uYW1lKQ0KICAgICAgICBub2RlLnByb2Nlc3NlZCA9IFRydWUNCiAgICAgICAgIyBwcmludCgibm9kZS5wcm9jZXNzZWQgaXMgIitzdHIobm9kZS5wcm9jZXNzZWQpKQ0KICAgICAgICAjIGlmIG5vZGUuY29ycmVsYXRpb25faWQgaXMgbm90IE5vbmU6ICAgIA0KICAgICAgICAgICAgIyBwcmludCAoIm5vZGUgY29ycmVsYXRpb24gaWQgaXMgIitub2RlLmNvcnJlbGF0aW9uX2lkKSAgICAgIA0KICAgICAgICBpZiBub2RlLnBhcmVudF9saXN0IGlzIG5vdCBOb25lIGFuZCBub2RlLmNvcnJlbGF0aW9uX2lkIGlzIG5vdCBOb25lOg0KICAgICAgICAgICAgZm9yIHBhcmVudF9ub2RlIGluIG5vZGUucGFyZW50X2xpc3Q6DQogICAgICAgICAgICAjIENvZGUgYmxvY2sgZm9yIGl0ZXJhdGluZyBvdmVyIHBhcmVudCBub2Rlcw0KICAgICAgICAgICAgICAgICMgcHJpbnQoImNoZWNraW5nIDI2OSBlcnJvciAiK25vZGUuY29ycmVsYXRpb25faWQgKQ0KICAgICAgICAgICAgICAgIGlmKHBhcmVudF9ub2RlLmNvcnJlbGF0aW9uX3BhcmVudF9pZCBpcyBOb25lKToNCiAgICAgICAgICAgICAgICAgICAgcGFyZW50X25vZGUuY29ycmVsYXRpb25fcGFyZW50X2lkID0gbm9kZS5jb3JyZWxhdGlvbl9pZA0KICAgICAgICAgICAgICAgIGVsc2U6ICAgIA0KICAgICAgICAgICAgICAgICAgICBwYXJlbnRfbm9kZS5jb3JyZWxhdGlvbl9wYXJlbnRfaWQgPSBwYXJlbnRfbm9kZS5jb3JyZWxhdGlvbl9wYXJlbnRfaWQgKyAiICIrbm9kZS5jb3JyZWxhdGlvbl9pZCANCiAgICAgICAgICAgICAgICAjIHByaW50KCJwYXJlbnQgbm9kZSBuYW1lICIrcGFyZW50X25vZGUubmFtZSkgICAgDQogICAgICAgICAgICAgICAgIyBwcmludCgicGFyZW50X25vZGUuY29ycmVsYXRpb25fcGFyZW50X2lkICIrcGFyZW50X25vZGUuY29ycmVsYXRpb25fcGFyZW50X2lkKQ0KICAgICAgICBlbGlmIG5vZGUuY29ycmVsYXRpb25faWQgaXMgTm9uZSBhbmQgbm9kZS5wYXJlbnRfbGlzdCBpcyBub3QgTm9uZSBhbmQgbm9kZS5jb3JyZWxhdGlvbl9wYXJlbnRfaWQgaXMgbm90IE5vbmU6DQogICAgICAgICAgICAjIHByaW50KCJub2RlIHdoaWNoIGhhcyBubyBjaWQgYnV0IHBhcmVudCBjaSBpZCAiK25vZGUubmFtZSkNCiAgICAgICAgICAgIGZvciBwYXJlbnRfbm9kZSBpbiBub2RlLnBhcmVudF9saXN0Og0KICAgICAgICAgICAgICAgICMgcHJpbnQoInBhcmVudCBub2RlIG5hbWUgaXMgIitwYXJlbnRfbm9kZS5uYW1lKQ0KICAgICAgICAgICAgICAgIGZsYWcxID0gRmFsc2UNCiAgICAgICAgICAgICAgICBmb3IgY2hpbGQgaW4gcGFyZW50X25vZGUuY2hpbGRyZW5fbGlzdDoNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIGlmIGNoaWxkLnByb2Nlc3NlZCBpcyBGYWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgICMgcHJpbnQoImNoaWxkZCBuYW1lIGluIHByb2Nlc3NlZCBpcyAiK2NoaWxkLm5hbWUpDQogICAgICAgICAgICAgICAgICAgICAgICBmbGFnMSA9IEZhbHNlDQogICAgICAgICAgICAgICAgICAgICAgICBicmVhayANCiAgICAgICAgICAgICAgICAgICAgZWxpZiBjaGlsZC5wcm9jZXNzZWQgaXMgVHJ1ZToNCiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcxID0gVHJ1ZSAgICAgICANCiAgICAgICAgICAgICAgICAjIHByaW50KCJmbGFnMSBpcyAiK3N0cihmbGFnMSkpICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBpZiBwYXJlbnRfbm9kZS5jb3JyZWxhdGlvbl9wYXJlbnRfaWQgaXMgTm9uZSBhbmQgcGFyZW50X25vZGUuY29ycmVsYXRpb25faWQgaXMgTm9uZSBhbmQgZmxhZzEgaXMgVHJ1ZToNCiAgICAgICAgICAgICAgICAgICAgIyBwcmludCgicGFyZW50IG5vZGUgbmFtZSBpcyAiK3BhcmVudF9ub2RlLm5hbWUpDQogICAgICAgICAgICAgICAgICAgIHVpZCA9IHV1aWQudXVpZDQoKQ0KICAgICAgICAgICAgICAgICAgICBjb3JyZWxhdGlvbl9pZDEgPSBzdHIodWlkKVswOjZdDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIHBhcmVudF9ub2RlLmNvcnJlbGF0aW9uX2lkID0gY29ycmVsYXRpb25faWQxDQogICAgICAgICAgICAgICAgICAgICMgcHJpbnQoInBhcmVudF9ub2RlLmNvcnJlbGF0aW9uX2lkICIrcGFyZW50X25vZGUuY29ycmVsYXRpb25faWQpDQogICAgICAgIGlmIG5vZGUucGFyZW50X2xpc3QgaXMgbm90IE5vbmU6DQogICAgICAgICAgICAjIHByaW50KCJub2RlIG5hbWUgdG8gY2FsbCByZWN1cnNpdmUgZm5jdG4gaXMgIitub2RlLm5hbWUpDQogICAgICAgICAgICAjIGZvciBwYXJlbnRfbm9kZSBpbiBub2RlLnBhcmVudF9saXN0Og0KICAgICAgICAgICAgICAgICMgcHJpbnQoInBhcmVudCBub2RlIG5hbWUgaXMgIitwYXJlbnRfbm9kZS5uYW1lKQ0KICAgICAgICAgICAgIyBwcmludCgiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikgICAgDQogICAgICAgICAgICBhc3NpZ25pbmdDb3JyZWxhdGlvbklkKG5vZGUucGFyZW50X2xpc3QpICANCiAgICAgICAgIyBwcmludCgibm9kZSBjb3JyZWxhdGlvbiBpZCBpcyAiK25vZGUuY29ycmVsYXRpb25faWQpDQogICAgICAgICMgcHJpbnQoIm5vZGUgY29ycmVsYXRpb24gcGFyZW50IGlkIGlzICIrbm9kZS5jb3JyZWxhdGlvbl9wYXJlbnRfaWQpICANCiAgICAgICAgICAgICAgICANCiAgICAjIHByaW50KCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKSAgICAgICAgDQogICAgYXNzaWduaW5nQ29ycmVsYXRpb25JZChsZWFmTm9kZXNTZXQpIA0KICAgIGZvciBrZXkgaW4gcHJvY2Vzc2VkTWFwOg0KICAgICAgICAjIHByaW50KCJrZXkiKQ0KICAgICAgICAjIHByaW50KGtleSkNCiAgICAgICAgIyBwcmludCgidmFsdWUiKQ0KICAgICAgICAjIHByaW50KHByb2Nlc3NlZE1hcC5nZXQoa2V5KS5ldmVudF9pZCkNCiAgICAgICAgaWYgcHJvY2Vzc2VkTWFwLmdldChrZXkpLmNvcnJlbGF0aW9uX2lkIGlzIG5vdCBOb25lOg0KICAgICAgICAjICBwcmludCgiY29ycmVsYXRpb24gaWQgaXMgIitwcm9jZXNzZWRNYXAuZ2V0KGtleSkuY29ycmVsYXRpb25faWQpDQogICAgICAgICB0cnk6DQogICAgICAgICAgICBjb25uZWN0aW9uID0gY29ubmVjdG9yLmNvbm5lY3QoDQogICAgICAgICAgICB1c2VyPXVzZXJuYW1lLCBwYXNzd29yZD1wYXNzd29yZCwgaG9zdD1ob3N0LCBwb3J0PXBvcnQsIGRhdGFiYXNlPWRhdGFiYXNlDQogICAgICAgICAgICApDQogICAgICAgICAgICBjdXJzb3IgPSBjb25uZWN0aW9uLmN1cnNvcigpDQogICAgICAgICAgICBxdWVyeT1mJyBVUERBVEUgYGVtZl9ldmVudGAgZSBTRVQgZS5jb3JyZWxhdGlvbl9pZCA9XCJ7cHJvY2Vzc2VkTWFwLmdldChrZXkpLmNvcnJlbGF0aW9uX2lkfVwiIFdIRVJFIGUuaWQgPXtwcm9jZXNzZWRNYXAuZ2V0KGtleSkuZXZlbnRfaWR9Jw0KICAgICAgICAgICAgY3Vyc29yLmV4ZWN1dGUocXVlcnkpDQogICAgICAgICAgICBjb25uZWN0aW9uLmNvbW1pdCgpDQogICAgICAgICAgICBjYWxsaW5nTmV4dEV2ZW50KHByb2Nlc3NlZE1hcC5nZXQoa2V5KS5zdHJfcGFyYW1zLHByb2Nlc3NlZE1hcC5nZXQoa2V5KS5pdHNtX251bWJlcikNCiAgDQogICAgICAgICBleGNlcHQgY29ubmVjdG9yLmVycm9ycy5PcGVyYXRpb25hbEVycm9yIGFzIGU6DQogICAgICAgICAgICBsb2dnZXIuaW5mbygiTXlTUUwgY29ubmVjdGlvbiB0aW1lb3V0OiB7fSIuZm9ybWF0KGUpICkgDQoNCiAgICAgICAgIGZpbmFsbHk6DQogICAgIyBDbG9zZSB0aGUgZGF0YWJhc2UgY29ubmVjdGlvbg0KICAgICAgICAgICAgY3Vyc29yLmNsb3NlKCkNCiAgICAgICAgICAgIGNvbm5lY3Rpb24uY2xvc2UoKQ0KICAgICAgICAgDQogICAgICAgIGlmIHByb2Nlc3NlZE1hcC5nZXQoa2V5KS5jb3JyZWxhdGlvbl9wYXJlbnRfaWQgaXMgbm90IE5vbmU6DQogICAgICAgICAgDQogICAgICAgICAgcGFyZW50SWRzID0gcHJvY2Vzc2VkTWFwLmdldChrZXkpLmNvcnJlbGF0aW9uX3BhcmVudF9pZC5zcGxpdCgiICIpDQogICAgICAgICAgdW5pcXVlUGFyZW50SWRzID0gc2V0KHBhcmVudElkcykNCiAgICAgICAgICBjb21tYVNlcGFyYXRlZFBhcmVudElkcyA9ICIsIi5qb2luKHVuaXF1ZVBhcmVudElkcykNCiAgICAgICAgICBwcm9jZXNzZWRNYXAuZ2V0KGtleSkuY29ycmVsYXRpb25fcGFyZW50X2lkID0gY29tbWFTZXBhcmF0ZWRQYXJlbnRJZHMNCiAgICAgICAgIyAgIHByaW50KCJjb3JyZWxhdGlvbiBwYXJlbnQgaWQgaXMgIisgICBwcm9jZXNzZWRNYXAuZ2V0KGtleSkuY29ycmVsYXRpb25fcGFyZW50X2lkKQ0KICAgICAgICAgIHRyeToNCiAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBjb25uZWN0b3IuY29ubmVjdCgNCiAgICAgICAgICAgIHVzZXI9dXNlcm5hbWUsIHBhc3N3b3JkPXBhc3N3b3JkLCBob3N0PWhvc3QsIHBvcnQ9cG9ydCwgZGF0YWJhc2U9ZGF0YWJhc2UNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIGN1cnNvciA9IGNvbm5lY3Rpb24uY3Vyc29yKCkNCiAgICAgICAgICAgIHF1ZXJ5PWYnVVBEQVRFIGBlbWZfZXZlbnRgIGUgU0VUIGUuY29ycmVsYXRpb25fcGFyZW50X2lkID1cIntwcm9jZXNzZWRNYXAuZ2V0KGtleSkuY29ycmVsYXRpb25fcGFyZW50X2lkfVwiIFdIRVJFIGUuaWQgPXtwcm9jZXNzZWRNYXAuZ2V0KGtleSkuZXZlbnRfaWR9Jw0KICAgICAgICAgICAgY3Vyc29yLmV4ZWN1dGUocXVlcnkpDQogICAgICAgICAgICBjb25uZWN0aW9uLmNvbW1pdCgpDQogICAgICAgICAgICBjYWxsaW5nTmV4dEV2ZW50KHByb2Nlc3NlZE1hcC5nZXQoa2V5KS5zdHJfcGFyYW1zLHByb2Nlc3NlZE1hcC5nZXQoa2V5KS5pdHNtX251bWJlcikNCiAgDQogICAgICAgICAgZXhjZXB0IGNvbm5lY3Rvci5lcnJvcnMuT3BlcmF0aW9uYWxFcnJvciBhcyBlOg0KICAgICAgICAgICAgbG9nZ2VyLmluZm8oIk15U1FMIGNvbm5lY3Rpb24gdGltZW91dDoge30iLmZvcm1hdChlKSApIA0KDQogICAgICAgICAgZmluYWxseToNCiAgICAjIENsb3NlIHRoZSBkYXRhYmFzZSBjb25uZWN0aW9uDQogICAgICAgICAgICBjdXJzb3IuY2xvc2UoKQ0KICAgICAgICAgICAgY29ubmVjdGlvbi5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICANCiAgICAjIGZvciBrZXkgaW4gcHJvY2Vzc2VkTWFwOg0KICAgICMgICBpZiBwcm9jZXNzZWRNYXAuZ2V0KGtleSkuY29ycmVsYXRpb25faWQgaXMgTm9uZToNCiAgICAjICAgICBjb3JyZWxhdGlvblBhcmVudElkPVtdICANCiAgICAjICAgICBmb3IgY2hpbGQgaW4gcHJvY2Vzc2VkTWFwLmdldChrZXkpLmNoaWxkcmVuX2xpc3Q6DQogICAgIyAgICAgICAgIGlmIGNoaWxkLmNvcnJlbGF0aW9uX2lkIGlzIG5vdCBOb25lOg0KICAgICMgICAgICAgICAgICAgY29ycmVsYXRpb25QYXJlbnRJZC5hcHBlbmQoY2hpbGQuY29ycmVsYXRpb25faWQpDQogICAgIyAgICAgcHJpbnQoImNvcnJlbGF0aW9uUGFyZW50SWQiKQ0KICAgICMgICAgIHByaW50KGNvcnJlbGF0aW9uUGFyZW50SWQpICAgICAgICANCiAgICAjICAgICBpZiBsZW4oY29ycmVsYXRpb25QYXJlbnRJZCk+MDogICAgICAgIA0KICAgICMgICAgICBjb3JyZWxhdGlvblBhcmVudElkU3RyaW5nID0gIiwiLmpvaW4oY29ycmVsYXRpb25QYXJlbnRJZCkgICAgICAgICAgICAgICANCiAgICAjICAgICAgcHJvY2Vzc2VkTWFwLmdldChrZXkpLmNvcnJlbGF0aW9uX3BhcmVudF9pZCA9IGNvcnJlbGF0aW9uUGFyZW50SWRTdHJpbmcNCiAgICANCiAgICAjIGZvciBrZXkgaW4gcHJvY2Vzc2VkTWFwOg0KICAgICMgICAgIHByaW50KCJrZXkiKQ0KICAgICMgICAgIHByaW50KGtleSkNCiAgICAjICAgICBwcmludCgidmFsdWUiKQ0KICAgICMgICAgIGlmIHByb2Nlc3NlZE1hcC5nZXQoa2V5KS5jb3JyZWxhdGlvbl9pZCBpcyBub3QgTm9uZToNCiAgICAjICAgICAgcHJpbnQoImNvcnJlbGF0aW9uIGlkIGlzICIrcHJvY2Vzc2VkTWFwLmdldChrZXkpLmNvcnJlbGF0aW9uX2lkKQ0KICAgICMgICAgIGVsaWYgcHJvY2Vzc2VkTWFwLmdldChrZXkpLmNvcnJlbGF0aW9uX3BhcmVudF9pZCBpcyBub3QgTm9uZToNCiAgICAjICAgICAgIHByaW50KCJjb3JyZWxhdGlvbiBwYXJlbnQgaWQgaXMgIisgICBwcm9jZXNzZWRNYXAuZ2V0KGtleSkuY29ycmVsYXRpb25fcGFyZW50X2lkKSAgDQogICAgICAgDQoNCg0KICAgICMgc29ydGVkX2FycmF5ID0gW10NCiAgICAjIGJhc2VDaUZvckNpPXt9DQogICAgIyBiYXNlQ0lzPVtdDQogICAgIyBmb3IgY2kgaW4gY2lfbGlzdDoNCiAgICAjICAgICBpZiBjaSBub3QgaW4gc29ydGVkX2FycmF5Og0KICAgICMgICAgICAgICBjaV9uYW1lID0gY2lbM10NCiAgICAgICAgDQogICAgICAgIA0KICAgICAgICANCiAgICAjICAgICAgICAgYm90dG9tQ2hpbGQ9IGZpbmRpbmdCb3R0b21Nb3N0Tm9kZShoaWVyYXJjaHlfbWFwLGNpX25hbWUpDQogICAgIyAgICAgICAgIHByaW50KCJmaW5kaW5nIGJvdHRvbSBjaGlsZCBmb3IgIitjaV9uYW1lICsgImlzICIrYm90dG9tQ2hpbGQgKQ0KICAgICMgICAgICAgICBiYXNlQ0lzLmFwcGVuZChib3R0b21DaGlsZCkNCiAgICAjICAgICAgICAgYmFzZUNpRm9yQ2lbY2lfbmFtZV09Ym90dG9tQ2hpbGQNCiAgICAgICAgDQogICAgIyBwcmludCgiQmFzZUNpRm9yQ2kiKQ0KICAgICMgcHJpbnQoYmFzZUNpRm9yQ2kpDQoNCiAgICAjIGZvciBiYXNlQ2kgaW4gYmFzZUNJczoNCiAgICAjICAgICBmb3IgY2kgaW4gY2lfbGlzdDogIA0KICAgICMgICAgICAgICBpZiBjaVtuYW1lXT09YmFzZUNpOg0KICAgICMgICAgICAgICAgICAgZXZlbnRfaWQ9Y2lbMF0NCiAgICAjICAgICAgICAgICAgIGNvcnJlbGF0aW9uX3BhcmVudF9pZCA9IGNoZWNraW5nUGFzdFJlY29yZHMoYmFzZUNpKQ0KICAgICMgICAgICAgICAgICAgY2lbNF09Y29ycmVsYXRpb25fcGFyZW50X2lkDQogICAgIyAgICAgICAgICAgICBpZiBjb3JyZWxhdGlvbl9pZCBpcyBOb25lOg0KICAgICMgICAgICAgICAgICAgICAgIGNvcnJlbGF0aW9uSWQgPSBnZW5lcmF0aW5nQ29ycmVsYXRpb25JZChiYXNlQ2ksZXZlbnRfaWQpDQogICAgIyAgICAgICAgICAgICAgICAgY2lbNV09Y29ycmVsYXRpb25JZA0KICAgICAgICAgICAgICAgIA0KICAgIA0KDQogICAgICAgIA0KICAgICAgICAjZmluZGluZyBib3R0b20gY2hpbGQgaW4gY2lfbmFtZXMNCiAgICAgICAgIyBmb3IgY2kgaW4gY2lfbmFtZXM6DQogICAgICAgICMgICAgIGlmIGNpWyduYW1lJ10gPT0gYm90dG9tQ2hpbGQ6DQogICAgICAgICMgICAgICAgICBldmVudF9pZD1jaVsnaWQnXQ0KICAgICAgICAjICAgICAgICAgZ2VuZXJhdGluZ0NvcnJlbGF0aW9uSWQoYm90dG9tQ2hpbGQsZXZlbnRfaWQpDQogICAgICAgIA0KICAgICAgICANCg0KICANCg0KDQoNCg0KDQoNCg0KDQoNCg0K","leo1311"
"LEOTST_P11350","LEOTST_P11350_leo1311.py","aW1wb3J0IHJlcXVlc3RzDQppbXBvcnQganNvbg0KaW1wb3J0IGxvZ2dpbmcgYXMgbG9nZ2VyDQppbXBvcnQgb3MNCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lICwgdGltZXpvbmUgLCB0aW1lZGVsdGENCmltcG9ydCBteXNxbC5jb25uZWN0b3IgYXMgY29ubmVjdG9yDQoNCg0KDQoNCg0KbG9nZ2VyLmJhc2ljQ29uZmlnKA0KICAgIGxldmVsPWxvZ2dlci5JTkZPLA0KICAgIGZvcm1hdD0nJShhc2N0aW1lKXMgSU5GTyAlKG1lc3NhZ2UpcycsDQogICAgZGF0ZWZtdD0nJXkvJW0vJWQgJUg6JU06JVMnLA0KKQ0KDQojU2V0dGluZyBOb3Byb3h5DQpvcy5lbnZpcm9uWydIVFRQX1BST1hZJ109JycNCm9zLmVudmlyb25bJ0hUVFBTX1BST1hZJ109JycNCm9zLmVudmlyb25bJ2h0dHBfcHJveHknXT0nJw0Kb3MuZW52aXJvblsnaHR0cHNfcHJveHknXT0nJw0KDQoNCmN1cnJlbnRfdGltZSA9IGRhdGV0aW1lLm5vdyh0aW1lem9uZS51dGMpDQplbmRfZGF0ZXRpbWUgPSBjdXJyZW50X3RpbWUuc3RyZnRpbWUoIiVZLSVtLSVkVCVIOiVNOiVTWiIpDQpzdGFydD1jdXJyZW50X3RpbWUtIHRpbWVkZWx0YShtaW51dGVzPTUpDQpzdGFydF9kYXRldGltZT1zdGFydC5zdHJmdGltZSgiJVktJW0tJWRUJUg6JU06JVNaIikNCmxvZ2dlci5pbmZvKGVuZF9kYXRldGltZSkNCmxvZ2dlci5pbmZvKHN0YXJ0X2RhdGV0aW1lKQ0KDQoNCiNEQiBkZXRhaWxzDQp1c2VybmFtZT0ic3JlaW50Ig0KcGFzc3dvcmQ9IjVkXkZac3ZtIg0KaG9zdD0iMTAuODIuMTIyLjk0Ig0KcG9ydCA9IDMzMDYNCmRhdGFiYXNlID0gJ3NyZWludCcNCg0KDQp0cnk6DQogICAgY29ubmVjdGlvbiA9IGNvbm5lY3Rvci5jb25uZWN0KA0KICAgICAgICB1c2VyPXVzZXJuYW1lLCBwYXNzd29yZD1wYXNzd29yZCwgaG9zdD1ob3N0LCBwb3J0PXBvcnQsIGRhdGFiYXNlPWRhdGFiYXNlDQogICAgKQ0KICAgIGN1cnNvciA9IGNvbm5lY3Rpb24uY3Vyc29yKCkNCiAgICBxdWVyeT1mJ1NFTEVDVCAqIEZST00gYGluc3RhbmNlX2NpX3RocmVzaG9sZGA7Jw0KICAgIHF1ZXJ5Mj1mJ1NFTEVDVCAqIEZST00gYENNREJfTWV0cmljYDsnDQogICAgcXVlcnkzPWYnU0VMRUNUICogRlJPTSBgQ01EQl9DSWA7Jw0KICAgIGxvZ2dlci5pbmZvKCdxdWVyeScpDQogICAgbG9nZ2VyLmluZm8ocXVlcnkpDQogICAgY3Vyc29yLmV4ZWN1dGUocXVlcnkpDQogICAgbWFwcGluZ190YWJsZT1jdXJzb3IuZmV0Y2hhbGwoKTsNCiAgICBsb2dnZXIuaW5mbygncmVzdWx0IG9mIHN1YnF1ZXJ5JykNCiAgICAjbG9nZ2VyLmluZm8obWFwcGluZ190YWJsZSkNCiAgICBtYXBwaW5nID0ge30NCiAgICBmb3IgaSBpbiBtYXBwaW5nX3RhYmxlOg0KICAgICAgICBtYXBwaW5nW2lbMF0rJyAnK2lbMl1dPWlbMV0NCiAgICBsb2dnZXIuaW5mbyhtYXBwaW5nKQ0KICAgIGN1cnNvci5leGVjdXRlKHF1ZXJ5MikNCiAgICBDTURCX01ldHJpY190YWJsZT1jdXJzb3IuZmV0Y2hhbGwoKTsNCiAgICBsb2dnZXIuaW5mbygncmVzdWx0IG9mIHN1YnF1ZXJ5JykNCiAgICAjbG9nZ2VyLmluZm8oQ01EQl9NZXRyaWNfdGFibGUpDQogICAgQ01EQl9NZXRyaWMgPSB7fQ0KICAgIGZvciBpIGluIENNREJfTWV0cmljX3RhYmxlOg0KICAgICAgICBDTURCX01ldHJpY1tpWzFdXT1pWzBdDQogICAgbG9nZ2VyLmluZm8oQ01EQl9NZXRyaWMpDQogICAgDQogICAgY3Vyc29yLmV4ZWN1dGUocXVlcnkzKQ0KICAgIENNREJfQ0lfdGFibGU9Y3Vyc29yLmZldGNoYWxsKCk7DQogICAgbG9nZ2VyLmluZm8oJ3Jlc3VsdCBvZiBzdWJxdWVyeScpDQogICAgbG9nZ2VyLmluZm8oQ01EQl9DSV90YWJsZSkNCiAgICBDTURCX0NJID0ge30NCiAgICBmb3IgaSBpbiBDTURCX0NJX3RhYmxlOg0KICAgICAgICBDTURCX0NJW2lbMV1dPWlbMF0NCiAgICBsb2dnZXIuaW5mbyhDTURCX0NJKQ0KICANCmV4Y2VwdCBjb25uZWN0b3IuZXJyb3JzLk9wZXJhdGlvbmFsRXJyb3IgYXMgZToNCiAgICAjIEhhbmRsaW5nIHRoZSB0aW1lb3V0IGV4Y2VwdGlvbg0KICAgIGxvZ2dlci5pbmZvKCdNeVNRTCBjb25uZWN0aW9uIHRpbWVvdXQ6IHt9Jy5mb3JtYXQoZSkpDQoNCmZpbmFsbHk6DQogICAgIyBDbG9zZSB0aGUgZGF0YWJhc2UgY29ubmVjdGlvbg0KICAgIGN1cnNvci5jbG9zZSgpDQogICAgY29ubmVjdGlvbi5jbG9zZSgpDQoNCg0KZGVmIGluc2VydF9yZWNvcmRzKGRhdGEpOg0KICAgIHRyeToNCiAgICAgICAgY29ubmVjdGlvbiA9IGNvbm5lY3Rvci5jb25uZWN0KA0KICAgICAgICAgICAgdXNlcj11c2VybmFtZSwgcGFzc3dvcmQ9cGFzc3dvcmQsIGhvc3Q9aG9zdCwgcG9ydD1wb3J0LCBkYXRhYmFzZT1kYXRhYmFzZQ0KICAgICAgICApDQogICAgICAgIGN1cnNvciA9IGNvbm5lY3Rpb24uY3Vyc29yKCkNCiAgICAgICAgIiIiIEluc2VydHMgYSBzZXQgb2YgcmVjb3JkcyBpbnRvIHRoZSB0YWJsZSAiIiINCiAgICAgICAgY3Vyc29yLmV4ZWN1dGVtYW55KGYnSU5TRVJUIElOVE8gQ01EQl9DSV9NZXRyaWMgKGNpX2lkLCBtZXRyaWNfaWQsIHRpbWVzdGFtcCxtZXRyaWNfdmFsdWUpIFZBTFVFUyAoJXMsICVzLCAlcywgJXMpJywgZGF0YSkNCiAgICAgICAgY29ubmVjdGlvbi5jb21taXQoKQ0KICAgIGV4Y2VwdCBjb25uZWN0b3IuZXJyb3JzLk9wZXJhdGlvbmFsRXJyb3IgYXMgZToNCiAgICAgICAgIyBIYW5kbGluZyB0aGUgdGltZW91dCBleGNlcHRpb24NCiAgICAgICAgbG9nZ2VyLmluZm8oJ015U1FMIGNvbm5lY3Rpb24gdGltZW91dDoge30nLmZvcm1hdChlKSkNCiAgICANCiAgICBmaW5hbGx5Og0KICAgICAgICAjIENsb3NlIHRoZSBkYXRhYmFzZSBjb25uZWN0aW9uDQogICAgICAgIGN1cnNvci5jbG9zZSgpDQogICAgICAgIGNvbm5lY3Rpb24uY2xvc2UoKQ0KICANCiAgDQoNCg0KDQpwcm9tZXRoZXVzX3VybCA9ICJodHRwOi8vY3ZyaWN0bHB0bTIxOjkwOTAiDQoNCmNvbnZlcnRlZF9kYXRhID0gW10NCm1ldHJpY3M9Wydwcm9jZXNzX2NwdV91c2FnZScsICdqdm1faGVhcF9tZW1vcnlfdXNlZF9wZXJjZW50JywnaHR0cF9yZXF1ZXN0c19zdWNjZXNzZnVsX2F2ZycsJ2h0dHBfcmVxdWVzdHNfdW5zdWNjZXNzZnVsX2F2ZyddDQpmb3IgaSBpbiByYW5nZShsZW4obWV0cmljcykpOg0KICAgIHF1ZXJ5PWYicXVlcnlfcmFuZ2U/cXVlcnk9e21ldHJpY3NbaV19JnN0YXJ0PXtzdGFydF9kYXRldGltZX0mZW5kPXtlbmRfZGF0ZXRpbWV9JnN0ZXA9MTBzIg0KDQoNCiAgICByZXNwb25zZSA9IHJlcXVlc3RzLmdldChmIntwcm9tZXRoZXVzX3VybH0vYXBpL3YxL3txdWVyeX0iKQ0KDQogICAgI0NoZWNrIGZvciBzdWNjZXNzZnVsIHJlc3BvbnNlDQogICAgaWYgcmVzcG9uc2Uuc3RhdHVzX2NvZGUgPT0gMjAwOg0KICAgICAgICBkYXRhID0ganNvbi5sb2FkcyhyZXNwb25zZS50ZXh0KVsiZGF0YSJdWyJyZXN1bHQiXQ0KICAgICAgICAjanNvbi5mb3JtYXQoZGF0YSkNCiAgICAgICAgZm9yIGVudHJ5IGluIGRhdGE6DQogICAgICAgICAgICBtZXRyaWNfbmFtZSA9IGVudHJ5WydtZXRyaWMnXVsnX19uYW1lX18nXQ0KICAgICAgICAgICAgI2luc3RhbmNlX25hbWUgPSBlbnRyeVsnbWV0cmljJ11bJ2pvYiddWzM6XQ0KICAgICAgICAgICAgaW5zdGFuY2VfbmFtZSA9IGVudHJ5WydtZXRyaWMnXVsnaW5zdGFuY2UnXQ0KICAgICAgICAgICAgdmFsdWVzID0gZW50cnlbJ3ZhbHVlcyddDQogICAgICAgICAgICBtZXRyaWNfaWQ9Q01EQl9NZXRyaWNbbWV0cmljX25hbWVdDQogICAgICAgICAgICAjIENvbnZlcnQgdGltZXN0YW1wIGFuZCBtZXRyaWMgdmFsdWUNCiAgICAgICAgICAgIGNpX25hbWU9bWFwcGluZ1tpbnN0YW5jZV9uYW1lKycgJyttZXRyaWNfbmFtZV0NCiAgICAgICAgICAgIGNpX2lkPUNNREJfQ0lbY2lfbmFtZV0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgZm9yIHRpbWVzdGFtcCwgbWV0cmljX3ZhbHVlIGluIHZhbHVlczoNCiAgICAgICAgICAgICAgICBkYXRlX3RpbWUgPSBkYXRldGltZS5mcm9tdGltZXN0YW1wKHRpbWVzdGFtcCkNCiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRfZGF0ZV90aW1lID0gZGF0ZV90aW1lLnN0cmZ0aW1lKCIlWS0lbS0lZCAlSDolTTolUyIpDQogICAgICAgICAgICAgICAgY29udmVydGVkX2RhdGEuYXBwZW5kKHR1cGxlKChjaV9pZCwgbWV0cmljX2lkLCBmb3JtYXR0ZWRfZGF0ZV90aW1lLCBtZXRyaWNfdmFsdWUpKSkNCiAgICAgICAgDQogICAgICAgICNkYXRhPSBjb252ZXJ0ZWRfZGF0YQ0KICAgICAgICANCiAgICAgICAgI2xvZ2dlci5pbmZvKGRhdGEpDQogICAgZWxzZToNCiAgICAgICAgbG9nZ2VyLmluZm8oZiJFcnJvciBxdWVyeWluZyBQcm9tZXRoZXVzOiB7cmVzcG9uc2Uuc3RhdHVzX2NvZGV9IikNCiAgICANCiANCmluc2VydF9yZWNvcmRzKGNvbnZlcnRlZF9kYXRhKQ0KbG9nZ2VyLmluZm8oY29udmVydGVkX2RhdGEpICAgDQogICAgDQpsb2dnZXIuaW5mbygnY29tcGxldGVkJykNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0K","leo1311"
"LEOLDTDT91086","LEOLDTDT91086_leo1311.py","DQppbXBvcnQgc3lzDQppbXBvcnQganNvbg0KI2Zyb20gbGVhcC5jb25maWcuRXh0cmFjdG9yQ29uZmlncy5EYXRhc2V0RXh0cmFjdG9yQ29uZmlnIGltcG9ydCBEYXRhc2V0RXh0cmFjdG9yQ29uZmlnDQppbXBvcnQgbG9nZ2luZyBhcyBsb2dnZXINCmltcG9ydCBteXNxbC5jb25uZWN0b3IgYXMgY29ubmVjdG9yDQppbXBvcnQgb3MNCg0KDQoNCg0KDQpsb2dnZXIuYmFzaWNDb25maWcoDQogICAgbGV2ZWw9bG9nZ2VyLklORk8sDQogICAgZm9ybWF0PSclKGFzY3RpbWUpcyBJTkZPICUobWVzc2FnZSlzJywNCiAgICBkYXRlZm10PScleS8lbS8lZCAlSDolTTolUycsDQopDQoNCm9zLmVudmlyb25bJ0hUVFBfUFJPWFknXT0nYmxycHJveHkuYWQuaW5mb3N5cy5jb206NDQzJw0Kb3MuZW52aXJvblsnSFRUUFNfUFJPWFknXT0nYmxycHJveHkuYWQuaW5mb3N5cy5jb206NDQzJw0KDQoNCmFyZ3VtZW50cyA9IHN5cy5hcmd2DQpkaWN0ID0ge30NCmZvciBhcmcgaW4gYXJndW1lbnRzOg0KICAgIHRyeToNCiAgICAgICAgZGljdFthcmcuc3BsaXQoJzonKVswXV0gPSAoJzonKS5qb2luKGFyZy5zcGxpdCgnOicpWzE6XSkNCiAgICBleGNlcHQ6DQogICAgICAgIGEgPSAnZXJyb3InDQoNCm15RGF0YXNldENvbmZpZyA9IGpzb24ubG9hZHMoZGljdFsnQ01EQl9DSV9tZXRyaWMnXSkNCm15RGF0YXNldENvbmZpZyA9IHsnZGF0YXNldCc6IG15RGF0YXNldENvbmZpZ30NCmxvZ2dlci5pbmZvKG15RGF0YXNldENvbmZpZykNCiNkYXRhID0gRGF0YXNldEV4dHJhY3RvckNvbmZpZygiMSIsJycsbXlEYXRhc2V0Q29uZmlnLCcnKS5nZXRFeHRyYWN0b3IoKS5nZXREYXRhKCkNCiNwcmludChkYXRhKQ0KDQojREIgZGV0YWlscw0KdXNlcm5hbWU9InNyZWludCINCnBhc3N3b3JkPSI1ZF5GWnN2bSINCmhvc3Q9IjEwLjgyLjEyMi45NCINCnBvcnQgPSAzMzA2DQpkYXRhYmFzZSA9ICdzcmVpbnQnDQoNCg0KdHJ5Og0KICAgIGNvbm5lY3Rpb24gPSBjb25uZWN0b3IuY29ubmVjdCgNCiAgICAgICAgdXNlcj11c2VybmFtZSwgcGFzc3dvcmQ9cGFzc3dvcmQsIGhvc3Q9aG9zdCwgcG9ydD1wb3J0LCBkYXRhYmFzZT1kYXRhYmFzZQ0KICAgICkNCiAgICBjdXJzb3IgPSBjb25uZWN0aW9uLmN1cnNvcigpDQogICAgcXVlcnk9ZidTRUxFQ1QgKiBGUk9NIGBlbWZfd29ya2Zsb3dfdHlwZWAgZTsnDQogICAgDQogICAgbG9nZ2VyLmluZm8oJ3F1ZXJ5JykNCiAgICBsb2dnZXIuaW5mbyhxdWVyeSkNCiAgICBjdXJzb3IuZXhlY3V0ZShxdWVyeSkNCiAgICBkZWR1cGxpY2F0ZT1jdXJzb3IuZmV0Y2hhbGwoKTsNCiAgICBsb2dnZXIuaW5mbygncmVzdWx0IG9mIHN1YnF1ZXJ5JykNCiAgICBsb2dnZXIuaW5mbyhkZWR1cGxpY2F0ZSkNCiAgICAjIGxvZ2dlci5pbmZvKHR5cGUoZGVkdXBsaWNhdGUpKQ0KICAgICMgbG9nZ2VyLmluZm8obGVuKGRlZHVwbGljYXRlKSkNCiAgDQpleGNlcHQgY29ubmVjdG9yLmVycm9ycy5PcGVyYXRpb25hbEVycm9yIGFzIGU6DQogICAgIyBIYW5kbGluZyB0aGUgdGltZW91dCBleGNlcHRpb24NCiAgICBsb2dnZXIuaW5mbygnTXlTUUwgY29ubmVjdGlvbiB0aW1lb3V0OiB7fScuZm9ybWF0KGUpKQ0KDQpmaW5hbGx5Og0KICAgICMgQ2xvc2UgdGhlIGRhdGFiYXNlIGNvbm5lY3Rpb24NCiAgICBjdXJzb3IuY2xvc2UoKQ0KICAgIGNvbm5lY3Rpb24uY2xvc2UoKQ0KDQoiIiINCmZyb20gbGVhcC5jb25maWcuRXh0cmFjdG9yQ29uZmlncy5EYXRhc2V0RXh0cmFjdG9yQ29uZmlnIGltcG9ydCBEYXRhc2V0RXh0cmFjdG9yQ29uZmlnDQppbXBvcnQgbG9nZ2luZw0KaW1wb3J0IHN1YnByb2Nlc3MNCmltcG9ydCBzeXMNCmltcG9ydCBvcw0KDQpsb2dnaW5nLmJhc2ljQ29uZmlnKGxldmVsPWxvZ2dpbmcuSU5GTykNCg0KDQpvcy5lbnZpcm9uWydIVFRQX1BST1hZJ109J2JscnByb3h5LmFkLmluZm9zeXMuY29tOjQ0MycNCm9zLmVudmlyb25bJ0hUVFBTX1BST1hZJ109J2JscnByb3h5LmFkLmluZm9zeXMuY29tOjQ0MycNCiIiIg0KDQoiIiINCm9zLmVudmlyb25bJ0hUVFBfUFJPWFknXT0nJw0Kb3MuZW52aXJvblsnSFRUUFNfUFJPWFknXT0nJw0KIiIiDQoiIiINCnJlcXVpcmVtZW50cyA9IFsnbGVhcCddDQpmb3IgbW9kdWxlIGluIHJlcXVpcmVtZW50czoNCiAgICBzdWJwcm9jZXNzLnJ1bihzeXMuZXhlY3V0YWJsZSArICcgLW0gcGlwIGluc3RhbGwgJysgbW9kdWxlICsgJyAtaSBodHRwczovL2luZnlhcnRpZmFjdG9yeS5hZC5pbmZvc3lzLmNvbS9hcnRpZmFjdG9yeS9hcGkvcHlwaS9weXBpLXJlbW90ZS9zaW1wbGUgLS10cnVzdGVkLWhvc3QgaW5meWFydGlmYWN0b3J5LmFkLmluZm9zeXMuY29tJyxzaGVsbD1UcnVlKQ0KDQpzdWJwcm9jZXNzLnJ1bigicHl0aG9uIC1tIHBpcCBpbnN0YWxsIGxlYXAgIC0tcHJveHk9JGh0dHBfcHJveHkgLWkgaHR0cHM6Ly9pbmZ5YXJ0aWZhY3RvcnkuYWQuaW5mb3N5cy5jb20vYXJ0aWZhY3RvcnkvYXBpL3B5cGkvcHlwaS1yZW1vdGUgLS10cnVzdGVkLWhvc3QgaW5meWFydGlmYWN0b3J5LmFkLmluZm9zeXMuY29tIixzaGVsbD1UcnVlKQ0KIiIiDQpsb2dnZXIuaW5mbygnQ29tcGxldGVkJykNCg0KDQoNCg0KDQoNCg0KDQo=","leo1311"
"LEOLDTDT22603","LEOLDTDT22603_leo1311.py","DQppbXBvcnQgc3lzDQppbXBvcnQganNvbg0KZnJvbSBsZWFwLmNvbmZpZy5FeHRyYWN0b3JDb25maWdzLkRhdGFzZXRFeHRyYWN0b3JDb25maWcgaW1wb3J0IERhdGFzZXRFeHRyYWN0b3JDb25maWcNCiNmcm9tIGluaWNvbmZpZy5FeHRyYWN0b3JDb25maWdzLkRhdGFzZXRFeHRyYWN0b3JDb25maWcgaW1wb3J0IERhdGFzZXRFeHRyYWN0b3JDb25maWcNCmluaWNvbmZpZw0KaW1wb3J0IGxvZ2dpbmcgYXMgbG9nZ2VyDQppbXBvcnQgb3MNCg0KDQpsb2dnZXIuYmFzaWNDb25maWcoDQogICAgbGV2ZWw9bG9nZ2VyLklORk8sDQogICAgZm9ybWF0PSclKGFzY3RpbWUpcyBJTkZPICUobWVzc2FnZSlzJywNCiAgICBkYXRlZm10PScleS8lbS8lZCAlSDolTTolUycsDQopDQoNCmFyZ3VtZW50cyA9IHN5cy5hcmd2DQpkaWN0ID0ge30NCmZvciBhcmcgaW4gYXJndW1lbnRzOg0KICAgIHRyeToNCiAgICAgICAgZGljdFthcmcuc3BsaXQoJzonKVswXV0gPSAoJzonKS5qb2luKGFyZy5zcGxpdCgnOicpWzE6XSkNCiAgICBleGNlcHQ6DQogICAgICAgIGEgPSAnZXJyb3InDQoNCm15RGF0YXNldENvbmZpZyA9IGpzb24ubG9hZHMoZGljdFsnQ01EQl9DSV9tZXRyaWMnXSkNCm15RGF0YXNldENvbmZpZyA9IHsnZGF0YXNldCc6IG15RGF0YXNldENvbmZpZ30NCmxvZ2dlci5pbmZvKG15RGF0YXNldENvbmZpZykNCmRhdGEgPSBEYXRhc2V0RXh0cmFjdG9yQ29uZmlnKCIxIiwnJyxteURhdGFzZXRDb25maWcsJycpLmdldEV4dHJhY3RvcigpLmdldERhdGEoKQ0KcHJpbnQoZGF0YSkNCmxvZ2dlci5pbmZvKCdDb21wbGV0ZWQnKQ0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0K","leo1311"
"LEOCRTNG85366","LEOCRTNG85366_leo1311.py","aW1wb3J0IGJhc2U2NAoKaW1wb3J0IG15c3FsLmNvbm5lY3RvciBhcyBjb25uZWN0b3IKCmltcG9ydCByZXF1ZXN0cwoKaW1wb3J0IGpzb24KaW1wb3J0IHRpbWUKCmltcG9ydCBsb2dnaW5nIGFzIGxvZ2dlcgoKaW1wb3J0IHJlCgppbXBvcnQgc3lzCgppbXBvcnQgb3MKaW1wb3J0IGRhdGV0aW1lCmZyb20gdXJsbGliLnBhcnNlIGltcG9ydCBxdW90ZV9wbHVzLCB1cmxwYXJzZQoKb3MuZW52aXJvblsnSFRUUF9QUk9YWSddPSdibHJwcm94eS5hZC5pbmZvc3lzLmNvbTo0NDMnCiAKb3MuZW52aXJvblsnSFRUUFNfUFJPWFknXT0nYmxycHJveHkuYWQuaW5mb3N5cy5jb206NDQzJwpvcy5lbnZpcm9uWydodHRwX3Byb3h5J109J2JscnByb3h5LmFkLmluZm9zeXMuY29tOjQ0MycKb3MuZW52aXJvblsnaHR0cHNfcHJveHknXT0nYmxycHJveHkuYWQuaW5mb3N5cy5jb206NDQzJwoKCiB1cmwgPSBzbm93X3VybCsnL2FwaS9ub3cvdGFibGUvaW5jaWRlbnQ/c3lzcGFybV9kaXNwbGF5X3ZhbHVlPXRydWUnCgogICAgaGVhZGVycyA9IHsnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLCAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfQoKICAgIGRlc2NyaXB0aW9uPWluc3RhbmNlX2RhdGV0aW1lX2VuKycgJytzdHIobWV0cmljX3ZhbHVlKQoKICAgIHBheWxvYWQgPSB7J3Nob3J0X2Rlc2NyaXB0aW9uJzogZGVzY3JpcHRpb24KICAgICAgICAgICAgICAgfQoKICAgICMgbG9nZ2VyLmluZm8ocGF5bG9hZCkKICAgIGxvZ2dlci5pbmZvKCdzbm93X2NhbGwnKQogICAgcmVzID0gcmVxdWVzdHMucG9zdCgKICAgICAgICB1cmwsCiAgICAgICAgYXV0aD0oc25vd191c2VyLCBzbm93X3B3ZCksCiAgICAgICAgaGVhZGVycz1oZWFkZXJzLAogICAgICAgIGRhdGE9anNvbi5kdW1wcyhwYXlsb2FkKSwKICAgICkKICAgIGxvZ2dlci5pbmZvKCdzbm93IGNhbGwgbWFkZScp","leo1311"
"LEOLGSFR35596","LEOLGSFR35596_leo1311.py","ZnJvbSBlbGFzdGljc2VhcmNoIGltcG9ydCBFbGFzdGljc2VhcmNoCmZyb20gZWxhc3RpY3NlYXJjaC5oZWxwZXJzIGltcG9ydCBzY2FuCmltcG9ydCBsb2dnaW5nIGFzIGxvZ2dlcgppbXBvcnQgcmVxdWVzdHMKaW1wb3J0IHBhbmRhcyBhcyBwZAppbXBvcnQgb3MKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUsIHRpbWVkZWx0YQoKCmVzID0gRWxhc3RpY3NlYXJjaCgnaHR0cDovLzEwLjgxLjY0LjIyMzo5MjAwJykKbG9nZ2VyLmJhc2ljQ29uZmlnKAogICAgbGV2ZWw9bG9nZ2VyLklORk8sCiAgICBmb3JtYXQ9JyUoYXNjdGltZSlzIElORk8gJShtZXNzYWdlKXMnLAogICAgZGF0ZWZtdD0nJXkvJW0vJWQgJUg6JU06JVMnLAopCgpkZWYgZ2V0X2RhdGFfZnJvbV9lbGFzdGljKCk6CiAKICAgIGluZGV4X3BhdHRlcm4gPSAnbGVhcDMtaW5zdGFuY2UyLXN2LW5ldzExJwogICAgIAogI3F1ZXJ5IHRvIGdldCB0aHJlYWRzIGZyb20gdGhlIGxvZ3MKICAgIHF1ZXJ5ID0gewogICAgICAgICdzb3J0JzogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAnbG9ndGltZSc6IHsKICAgICAgICAgICAgICAgICdvcmRlcic6ICdkZXNjJwogICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICBdLAogICAgICAgICdxdWVyeSc6ewogICAgICAgICAgICAnbWF0Y2gnOiB7CiAgICAgICAgICAgICAgICAnbGV2ZWwnOiAnRXJyb3InCiAgICAgICAgICAgIH0KICAgICAgICAKICAgICAgICB9CiAgICB9CiAgIAoKICAgIHJlc3VsdHMgPSBlcy5zZWFyY2goaW5kZXg9aW5kZXhfcGF0dGVybiwgYm9keT1xdWVyeSkKICAgICMgbG9nZ2VyLmluZm8oJ2xvZ2dpbmcgZXMgcmVzJykKICAgICMgbG9nZ2VyLmluZm8oZXNfcmVzdWx0cykKICAgIGxvZ2dlci5pbmZvKCdkb25lLS0nKQogICAgZG9jdW1lbnRzID0gcmVzdWx0c1snaGl0cyddWydoaXRzJ10KICAgICMgbG9nZ2VyLmluZm8oZG9jdW1lbnRzWzBdKQogICAgdGhyZWFkcz1saXN0KCkKICAgIGZvciBkb2N1bWVudCBpbiBkb2N1bWVudHM6CiAgICAgICAgIyBmZXRjaGluZyB0aHJlYWQgYW5kIGxvZyB0aW1lCiAgICAgICAgdmFsdWU9W2RvY3VtZW50Wydfc291cmNlJ11bJ3RocmVhZCddLGRvY3VtZW50Wydfc291cmNlJ11bJ2xvZ3RpbWUnXV0KICAgICAgICB0aHJlYWRzLmFwcGVuZCh2YWx1ZSkKICAgICMgbG9nZ2VyLmluZm8odGhyZWFkc1swXVswXSkKICAgIAogICAgZm9yIHRocmVhZCBpbiB0aHJlYWRzOgogICAgICAgIAogICAgICAgICNUbyBmaW5kIHRoZSBlcnJvciBtZXNzYWdlIGluIGJldHdlZW4gdGhlIHRpbWUgcmFuZ2Ugb2YgbG9ndGltZQogICAgICAgIHRpbWVfb2JqID0gZGF0ZXRpbWUuc3RycHRpbWUodGhyZWFkWzFdLCAnJUg6JU06JVMuJWYnKQogICAgICAgIAogICAgICAgICNsb2cgdGltZSBwbHVzIG9uZSBzZWNvbmQKICAgICAgICBpbmNyZWFzZWRfdGltZSA9IHRpbWVfb2JqICsgdGltZWRlbHRhKHNlY29uZHM9MSkKICAgICAgICAjbG9nIHRpbWUgbWludXMgb25lIHNlY29uZAogICAgICAgIGRlY3JlYXNlZF90aW1lID0gdGltZV9vYmogLSB0aW1lZGVsdGEoc2Vjb25kcz0xKQoKICAgICAgICBtYXhUaW1lID0gaW5jcmVhc2VkX3RpbWUuc3RyZnRpbWUoJyVIOiVNOiVTLiVmJykKICAgICAgICBtaW5UaW1lPSAgZGVjcmVhc2VkX3RpbWUuc3RyZnRpbWUoJyVIOiVNOiVTLiVmJykKICAgICAgICAKICAgICAgICAjcXVlcnkgdG8gZ2V0IGVycm9yIG1zZyB1c2luZyB0aHJlYWRzCiAgICAgICAgCiAgICAgICAgcXVlcnlfdGhyZWFkPXsKICAgICAgICAgICAgICAgICdzaXplJzogMTAwLAogICAgICAgICAgICAgICAgJ3NvcnQnOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJ2xvZ3RpbWUnOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICdvcmRlcic6ICdkZXNjJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAnbG9nZGF0ZSc6IHsKICAgICAgICAgICAgICAgICAgICAnb3JkZXInOiAnZGVzYycKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgJ3F1ZXJ5JzogewogICAgICAgICAgICAgICAgICAgICdib29sJzogewogICAgICAgICAgICAgICAgICAgICAgICAnbXVzdCc6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWF0Y2hfcGhyYXNlJzogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0aHJlYWQnOiAnW2h0dHAtbmlvLTgwODAtZXhlYy04XScKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncmFuZ2UnOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbG9ndGltZSc6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdndGUnOiAnMDk6NDA6MzUuMjI1JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsdGUnOiAnMDk6NDA6MzUuMjI5JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICByZXM9IGVzLnNlYXJjaChpbmRleD1pbmRleF9wYXR0ZXJuLCBib2R5PXF1ZXJ5X3RocmVhZCkKICAgICAgICAjIGxvZ2dlci5pbmZvKHJlc1snaGl0cyddWydoaXRzJ10pCiAgICAgICAgZG9jcyA9IHJlc1snaGl0cyddWydoaXRzJ10KICAgICAgICBmb3IgZG9jIGluIGRvY3M6CiAgICAgICAgICAgICNwcmludGluZyBlcnJvciBtZXNzYWdlIGFuZCB0aHJlYWQgCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2dnZXIuaW5mbygnbWVzc2FnZSAnK2RvY1snX3NvdXJjZSddWydsb2dNZXNzYWdlJ10rJyAnKyd0aHJlYWQgJyt0aHJlYWRbMF0pCiAgICAjIGxvZ2dlci5pbmZvKCdsb2dnaW5nIGVzIHJlcycpCiAgICAKICAgIAogICAgCiAgICAKICAgIAogICAgCiAgICAKICAgIAogICAgCiAgICAKICAgIAogICAgCiAgICAKICAgIAogICAgCiAgICAKICAgIAogICAgIyByZXNwb25zZSA9IGVzLmluZGljZXMuZ2V0X3NldHRpbmdzKGluZGV4PWluZGV4X3BhdHRlcm4pCiAgICAjIHNldHRpbmdzID0gcmVzcG9uc2VbaW5kZXhfcGF0dGVybl1bJ3NldHRpbmdzJ11bJ2luZGV4J10KICAgICMgc2hhcmRzID0gc2V0dGluZ3NbJ2NyZWF0aW9uX2RhdGUnXQogICAgIyBsb2dnZXIuaW5mbyhzaGFyZHMpCiAgICAjICMgcmVzdWx0c0pzb24gPSBlc19yZXN1bHRzLmpzb24oKQogICAgIyAjIGxvZ2dlci5pbmZvKHJlc3VsdHNKc29uKQogICAgIyBvcy5lbnZpcm9uWydIVFRQX1BST1hZJ109J2JscnByb3h5LmFkLmluZm9zeXMuY29tOjQ0MycKIAogICAgIyBvcy5lbnZpcm9uWydIVFRQU19QUk9YWSddPSdibHJwcm94eS5hZC5pbmZvc3lzLmNvbTo0NDMnCiAgICAKICAgIAogICAgCgogICAgIyB1cmw9J2h0dHA6Ly8xMC44MS42NC4yMjM6OTIwMC9mbHVlbnRkLmxlYXAzc3YtbGVhcC1zdi8nCiAgICAjIGhlYWRlcnMgPSB7J0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJywgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30KICAgICMgcmVzID0gcmVxdWVzdHMuZ2V0KAogICAgIyAgICAgdXJsLAogICAgIyAgICAgaGVhZGVycwogICAgIyApCiAgICAjIGxvZ2dlci5pbmZvKHJlcykKICAgICMgZmx1ZW50ZF9yZXM9cmVzLmpzb24oKQogICAgIyBsb2dnZXIuaW5mbyhmbHVlbnRkX3JlcykKICAgICMgU2NhbiBmdWN0aW9uIHRvIGdldCBhbGwgdGhlIGRhdGEuIAogICAgCiAgICAjIGluZGV4X3BhdHRlcm4gPSAnZmx1ZW50ZC0qJwogICAgIyBxdWVyeSA9IHsKICAgICMgJ3F1ZXJ5JzogewogICAgIyAgICAgJ21hdGNoJzogewogICAgIyAgICAgICAgICdfaW5kZXgnOiBpbmRleF9wYXR0ZXJuCiAgICAjICAgICB9CiAgICAjIH0KICAgICMgfQogICAgCiAgICAjIHRyeToKICAgICMgIHJlc3BvbnNlID0gZXMuc2VhcmNoKGluZGV4PWluZGV4X3BhdHRlcm4sIHF1ZXJ5PXF1ZXJ5KQogICAgIyAgaGl0cyA9IHJlc3BvbnNlWydoaXRzJ11bJ2hpdHMnXQoKICAgICMgIyBQcm9jZXNzIHRoZSByZXN1bHRzCiAgICAjICBmb3IgaGl0IGluIGhpdHM6CiAgICAjICAgICBzb3VyY2UgPSBoaXRbJ19zb3VyY2UnXQogICAgIyAgICAgbG9nZ2VyLmluZm8oc291cmNlKSAKICAgICMgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgIyAgbG9nZ2VyLmluZm8oJ0Vycm9yIGZldGNoaW5nIGRhdGE6JywgZSkgICAgCiAgICAgICAgCiAgICAjIHJlbCA9IHNjYW4oY2xpZW50PWVzLCAgICAgICAgICAgICAKICAgICMgICAgICAgICAgIHF1ZXJ5PXF1ZXJ5LCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICMgICAgICAgICAgIHNjcm9sbD0nMW0nLAogICAgIyAgICAgICAgICAgaW5kZXg9J2ZsdWVudGQubGVhcDNzdi1sZWFwLXN2JywKICAgICMgICAgICAgICAgIHJhaXNlX29uX2Vycm9yPVRydWUsCiAgICAjICAgICAgICAgICBwcmVzZXJ2ZV9vcmRlcj1GYWxzZSwKICAgICMgICAgICAgICAgIGNsZWFyX3Njcm9sbD1UcnVlKQogICAgCiAgICAjIHJlc3VsdCA9IGxpc3QocmVsKQogICAgIyBsb2dnZXIuaW5mbyhyZXN1bHQpCiAgICAjIHRlbXAgPSBbXQoKCiAgICAjIGZvciBoaXQgaW4gcmVzdWx0OgogICAgIyAgICAgdGVtcC5hcHBlbmQoaGl0Wydfc291cmNlJ10pCiAgICAjICMgQ3JlYXRlIGEgZGF0YWZyYW1lLgogICAgIyBkZiA9IHBkLkRhdGFGcmFtZSh0ZW1wKQogICAgCmRmID0gZ2V0X2RhdGFfZnJvbV9lbGFzdGljKCkKbG9nZ2VyLmluZm8oJ0NvbXBsZXRlZCcpCgoKCgoKCgoK","leo1311"
"LEOCDGNR33831","LEOCDGNR33831_leo1311.py","aW1wb3J0IHN5cywgb3MKCmltcG9ydCBzeXMKaW1wb3J0IG9zLnBhdGgKaW1wb3J0IGpzb24KaW1wb3J0IHJlCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmZyb20gY29sbGVjdGlvbnMgaW1wb3J0IGRlZmF1bHRkaWN0Cgphcmd1bWVudHMgPSBzeXMuYXJndgphcmdzRGljdCA9IHt9CmZvciBhcmcgaW4gYXJndW1lbnRzOgogICAgdHJ5OgogICAgICAgIGFyZ3NEaWN0W2FyZy5zcGxpdCgnOicpWzBdXSA9ICgnOicpLmpvaW4oYXJnLnNwbGl0KCc6JylbMTpdKQogICAgZXhjZXB0OgogICAgICAgIGEgPSAnZXJyb3InCgpqc29uX2ZpbGUgPSBvcy5wYXRoLmpvaW4oYXJnc0RpY3RbJ3NjcmlwdFBhdGgnXSwgJ3BpcGVsaW5lLmpzb24nKQp3aXRoIG9wZW4oanNvbl9maWxlKSBhcyBmOgogICAgaW1wb3J0IGpzb24KCiAgICBwaXBlbGluZV9qc29uID0ganNvbi5sb2FkKGYpCiAgICBwcmludChwaXBlbGluZV9qc29uKQogCgojIGJhc2Ugc2NyaXB0IApkZWYgYmFzZVNjcmlwdCgpOgogICAgcmV0dXJuICcnJwppbXBvcnQgc3lzCmltcG9ydCBvcwppbXBvcnQgc3VicHJvY2VzcwojIG9zLmVudmlyb25bJ0hUVFBfUFJPWFknXT0naHR0cDovL2JscnByb3h5LmFkLmluZm9zeXMuY29tOjgwJwojIG9zLmVudmlyb25bJ0hUVFBTX1BST1hZJ109J2h0dHA6Ly9ibHJwcm94eS5hZC5pbmZvc3lzLmNvbTo4MCcKIyBvcy5lbnZpcm9uWydodHRwX3Byb3h5J109J2h0dHA6Ly9ibHJwcm94eS5hZC5pbmZvc3lzLmNvbTo4MCcKIyBvcy5lbnZpcm9uWydodHRwc19wcm94eSddPSdodHRwOi8vYmxycHJveHkuYWQuaW5mb3N5cy5jb206ODAnCgojIG9zLmVudmlyb25bJ05PX1BST1hZJ109JzEwLiosbG9jYWxob3N0LDAuMC4wLjAsdmljdGxwYXN0MDIsMC4wLjAuMCwxMjcuMC4wLjEsMTAuODEuNzguMTQ2LHZpY3RjYmZjMTYwLDEwLjE1Ni44OS44LDEwLjIyNC4yMTYuMTAsMTAuNjYuMTUuMTAwJwpyZXF1aXJlbWVudHMgPSBbe3JlcXVpcmVtZW50c31dCmZvciBtb2R1bGUgaW4gcmVxdWlyZW1lbnRzOgogICAgc3VicHJvY2Vzcy5ydW4oc3lzLmV4ZWN1dGFibGUgKyAnIC1tIHBpcCBpbnN0YWxsICcrIG1vZHVsZSArICcgLS1pbmRleC11cmwgaHR0cHM6Ly9zaHJleWFfYmFuc2FsQGFkLmluZm9zeXMuY29tOmNtVm1kR3R1T2pBeE9qRTNNakk1TXprMU1qQTZiMjVZYzNaVlJVWXhWMnRZUjFWRFMxcDNlbE5GTWt4UU9IcE1AaW5meWFydGlmYWN0b3J5Lmpmcm9nLmlvL2FydGlmYWN0b3J5L2FwaS9weXBpL2ljZXRzLWFpX3B5dGhvbl92aXJ0dWFsL3NpbXBsZSAtLXRydXN0ZWQtaG9zdCBpbmZ5YXJ0aWZhY3RvcnkuamZyb2cuaW8nLHNoZWxsPVRydWUpCiAgICAjIHN1YnByb2Nlc3MucnVuKHN5cy5leGVjdXRhYmxlICsgJyAtbSBwaXAgaW5zdGFsbCAnKyBtb2R1bGUpCiAgICBwcmludCgiSU5TVEFMTElORyIrbW9kdWxlKQppbXBvcnQgb3MKaW1wb3J0IGxvZ2dpbmcgYXMgbG9nZ2VyCgp7aW1wb3J0c30KCntmdW5jdGlvbnN9CgpkZWYgZXhlY3V0ZVBpcGVsaW5lKCk6CntleGVjdXRpb25PcmRlcn0KCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgZXhlY3V0ZVBpcGVsaW5lKCkKICAgIHByaW50KCdDb21wbGV0ZWQnKQonJycKCiMgYmFzZSBzY3JpcHQgCmRlZiBiYXNlU2NyaXB0X2ZsYXNrKCk6CiAgICByZXR1cm4gJycnCmltcG9ydCBzeXMKaW1wb3J0IG9zCmltcG9ydCBzdWJwcm9jZXNzCiMgb3MuZW52aXJvblsnSFRUUF9QUk9YWSddPSdodHRwOi8vYmxycHJveHkuYWQuaW5mb3N5cy5jb206ODAnCiMgb3MuZW52aXJvblsnSFRUUFNfUFJPWFknXT0naHR0cDovL2JscnByb3h5LmFkLmluZm9zeXMuY29tOjgwJwojIG9zLmVudmlyb25bJ2h0dHBfcHJveHknXT0naHR0cDovL2JscnByb3h5LmFkLmluZm9zeXMuY29tOjgwJwojIG9zLmVudmlyb25bJ2h0dHBzX3Byb3h5J109J2h0dHA6Ly9ibHJwcm94eS5hZC5pbmZvc3lzLmNvbTo4MCcKCiMgb3MuZW52aXJvblsnTk9fUFJPWFknXT0nMTAuKixsb2NhbGhvc3QsMC4wLjAuMCx2aWN0bHBhc3QwMiwwLjAuMC4wLDEyNy4wLjAuMSwxMC44MS43OC4xNDYsdmljdGNiZmMxNjAsMTAuMTU2Ljg5LjgsMTAuMjI0LjIxNi4xMCwxMC42Ni4xNS4xMDAnCnJlcXVpcmVtZW50cyA9IFt7cmVxdWlyZW1lbnRzfV0KZm9yIG1vZHVsZSBpbiByZXF1aXJlbWVudHM6CiAgICBzdWJwcm9jZXNzLnJ1bihzeXMuZXhlY3V0YWJsZSArICcgLW0gcGlwIGluc3RhbGwgJysgbW9kdWxlICsgJyAtLWluZGV4LXVybCBodHRwczovL3NocmV5YV9iYW5zYWxAYWQuaW5mb3N5cy5jb206Y21WbWRHdHVPakF4T2pFM01qSTVNemsxTWpBNmIyNVljM1pWUlVZeFYydFlSMVZEUzFwM2VsTkZNa3hRT0hwTUBpbmZ5YXJ0aWZhY3RvcnkuamZyb2cuaW8vYXJ0aWZhY3RvcnkvYXBpL3B5cGkvaWNldHMtYWlfcHl0aG9uX3ZpcnR1YWwvc2ltcGxlIC0tdHJ1c3RlZC1ob3N0IGluZnlhcnRpZmFjdG9yeS5qZnJvZy5pbycsc2hlbGw9VHJ1ZSkKaW1wb3J0IG9zCmltcG9ydCBsb2dnaW5nIGFzIGxvZ2dlcgoKe2ltcG9ydHN9Cgp7ZnVuY3Rpb25zfQp7Zmxhc2tfYXBwfQoKZGVmIGV4ZWN1dGUoKToKe2V4ZWN1dGVmbGFza30KCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgZXhlY3V0ZSgpCiAgICBwcmludCgnQ29tcGxldGVkJykKJycnCgojIE5vZGUgCmNsYXNzIEdyYXBoOgoJZGVmIF9faW5pdF9fKHNlbGYsIHZlcnRpY2VzKToKCQlzZWxmLmdyYXBoID0gZGVmYXVsdGRpY3QobGlzdCkKCQlzZWxmLlYgPSB2ZXJ0aWNlcwoJCglkZWYgYWRkRWRnZShzZWxmLCB1LCB2KToKCQlzZWxmLmdyYXBoW3VdLmFwcGVuZCh2KQoKCWRlZiB0b3BvbG9naWNhbFNvcnRVdGlsKHNlbGYsIHYsIHZpc2l0ZWQsIHN0YWNrKToKCQl2aXNpdGVkW3ZdID0gVHJ1ZQoJCWZvciBpIGluIHNlbGYuZ3JhcGhbdl06CgkJCWlmIHZpc2l0ZWRbaV0gPT0gRmFsc2U6CgkJCQlzZWxmLnRvcG9sb2dpY2FsU29ydFV0aWwoaSwgdmlzaXRlZCwgc3RhY2spCgkJc3RhY2suYXBwZW5kKHYpCgoJZGVmIHRvcG9sb2dpY2FsU29ydChzZWxmKToKCQl2aXNpdGVkID0gW0ZhbHNlXSpzZWxmLlYKCQlzdGFjayA9IFtdCgoJCWZvciBpIGluIHJhbmdlKHNlbGYuVik6CgkJCWlmIHZpc2l0ZWRbaV0gPT0gRmFsc2U6CgkJCQlzZWxmLnRvcG9sb2dpY2FsU29ydFV0aWwoaSwgdmlzaXRlZCwgc3RhY2spCgoJCXJldHVybiBzdGFja1s6Oi0xXSAKCmNsYXNzIE5vZGU6CiAgICBkZWYgX19pbml0X18oc2VsZiwganNvbk9iamVjdCk6CiAgICAgICAgc2VsZi5sZXZlbCA9IDA7CiAgICAgICAgc2VsZi5pZCA9IGpzb25PYmplY3QuZ2V0KCdpZCcsJycpOwogICAgICAgIHNlbGYubmFtZSA9IGpzb25PYmplY3QuZ2V0KCduYW1lJywnJyk7CiAgICAgICAgc2VsZi5jbGFzc05hbWUgPSBqc29uT2JqZWN0LmdldCgnY2xhc3NuYW1lJywgc2VsZi5uYW1lICsgJ0NvbmZpZycpOwogICAgICAgIHNlbGYuY2F0ZWdvcnkgPSBqc29uT2JqZWN0LmdldCgnY2F0ZWdvcnknLCcnKTsKICAgICAgICBzZWxmLmF0dHJpYnV0ZXMgPSBqc29uT2JqZWN0LmdldCgnYXR0cmlidXRlcycsJycpOwogICAgICAgIHNlbGYuY29ubmVjdG9ycyA9IGpzb25PYmplY3QuZ2V0KCdjb25uZWN0b3JzJywnJyk7CiAgICAgICAgc2VsZi5wYXJlbnQgPSBOb25lCiAgICAgICAgc2VsZi5mb3JtYXRzID0ganNvbk9iamVjdC5nZXQoJ2Zvcm1hdHMnLCcnKTsgICAgICAgIAoKIyBCdWlsZGluZyBEQUcgb3JkZXIKZGVmIGJ1aWxkREFHT3JkZXIoZWxlbWVudHMpOgogICAgIyBnZXQgYWxsIGVsZW1lbnRzIGZyb20ganNvbgogICAgZWxlbWVudGxpc3QgPSBbXQogICAgbm9kZWxpc3QgPSBbXQogICAgZm9yIGUgaW4gZWxlbWVudHM6CiAgICAgICAgbm9kZSA9IE5vZGUoZSkKICAgICAgICBub2RlbGlzdC5hcHBlbmQobm9kZSkKCiAgICBpZF90b19udW0gPSB7fQogICAgbnVtX3RvX2lkID0ge30KICAgIGlkX3RvX25vZGUgPSB7fQogICAgZm9yIGksIGVsZSBpbiBlbnVtZXJhdGUobm9kZWxpc3QpOgogICAgICAgIGlkX3RvX251bVtlbGUuaWRdID0gaQogICAgICAgIG51bV90b19pZFtpXSA9IGVsZS5pZAogICAgICAgIGlkX3RvX25vZGVbZWxlLmlkXSA9IGVsZQoKICAgIHZlcnRleCA9IGxlbihub2RlbGlzdCkKICAgIGcgPSBHcmFwaCh2ZXJ0ZXgpICAKCiAgICBmb3IgaXRlbSBpbiBub2RlbGlzdDoKICAgICAgICBwYXJlbnRpZCA9ICcnCiAgICAgICAgY2hpbGRpZCA9ICcnCiAgICAgICAgZm9yIGNvbm5lY3RvciBpbiBpdGVtLmNvbm5lY3RvcnM6CiAgICAgICAgICAgIGlmIChjb25uZWN0b3JbJ3R5cGUnXSA9PSAndGFyZ2V0Jyk6CiAgICAgICAgICAgICAgICBwYXJlbnRpZCA9IGNvbm5lY3RvclsnZWxlbWVudElkJ10KICAgICAgICAgICAgICAgIGcuYWRkRWRnZShpZF90b19udW1bcGFyZW50aWRdLCBpZF90b19udW1baXRlbS5pZF0pCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGNvbm5lY3RvclsndHlwZSddID09ICdzb3VyY2UnKToKICAgICAgICAgICAgICAgIGNoaWxkaWQgPSBjb25uZWN0b3JbJ2VsZW1lbnRJZCddCiAgICAgICAgICAgICAgICBnLmFkZEVkZ2UoaWRfdG9fbnVtW2l0ZW0uaWRdLCBpZF90b19udW1bY2hpbGRpZF0pCgogICAgc3RhY2sgPSBnLnRvcG9sb2dpY2FsU29ydCgpCiAgICBzdGFjayA9IFtudW1fdG9faWRbbnVtXSBmb3IgbnVtIGluIHN0YWNrXQoKICAgIGZvciBpZCBpbiBzdGFjazoKICAgICAgICAgIGVsZW1lbnRsaXN0LmFwcGVuZChpZF90b19ub2RlW2lkXSkKICAgIHJldHVybiBlbGVtZW50bGlzdAoKIyBmaWxsIGFsbCBqb2IgcGFyYW1zIGluIHBpcGVsaW5lSnNvbgpkZWYgZmlsbEpvYlBhcmFtcyhwaXBlbGluZUpzb24pOgoKICAgIG9yZ2FuaXphdGlvbiA9IHBpcGVsaW5lSnNvbi5nZXQoJ29yZycsICdJTkZPU1lTJykKCiAgICAjIFNldCBhbGwgSm9iIFBhcmFtcwogICAgam9iUGFyYW1zID0ge30KICAgIGpvYlBhcmFtc1snTmV4dEV4ZWN1dGlvblRpbWUnXSA9IHBpcGVsaW5lSnNvbi5nZXQoJ05leHRfRXhlY3V0aW9uX1RpbWUnLCAnJykKICAgIGpvYlBhcmFtc1snQ3VycmVudEV4ZWN1dGlvblRpbWUnXSA9IHBpcGVsaW5lSnNvbi5nZXQoJ0N1cnJlbnRfRXhlY3V0aW9uX1RpbWUnLCAnJykKICAgIGpvYlBhcmFtc1snTGFzdFN1Y2Nlc3NmdWxFeGVjdXRpb25UaW1lJ10gPSBwaXBlbGluZUpzb24uZ2V0KCdMYXN0X1N1Y2Nlc3NmdWxfRXhlY3V0aW9uX1RpbWUnLCAnJykKICAgIGpvYlBhcmFtc1snTGFzdEV4ZWN1dGlvblRpbWUnXSA9IHBpcGVsaW5lSnNvbi5nZXQoJ0xhc3RfRXhlY3V0aW9uX1RpbWUnLCAnJykKCiAgICByZWdFeCA9ICc8am9iUGFyYW1zOihbXHdcLi1dKyk7KC4qPyk+JwogICAgcGlwZWxpbmVKc29uTGlzdCA9IFtdCgogICAgZm9yIGl0ZW0gaW4gcGlwZWxpbmVKc29uWydlbGVtZW50cyddOgogICAgICAgIGl0ZW1UZXh0ID0ganNvbi5kdW1wcyhpdGVtKQogICAgICAgICMgcmVwbGFjZSBPcmcKICAgICAgICBpdGVtVGV4dCA9IGl0ZW1UZXh0LnJlcGxhY2UoJzxqb2JQYXJhbXM6b3JnTmFtZT4nLCBvcmdhbml6YXRpb24pCiAgICAgICAgIyByZXBsYWNlIHRpbWVzdGFtcHMKICAgICAgICBwYXJhbXMgPSByZS5maW5kYWxsKHJlZ0V4LCBpdGVtVGV4dCkKICAgICAgICBmb3IgcCBpbiBwYXJhbXM6CiAgICAgICAgICAgIHRleHRUb3JlcGxhY2UgPSAnPGpvYlBhcmFtczp7MH07ezF9PicuZm9ybWF0KHBbMF0sIHBbMV0pCiAgICAgICAgICAgIGlmIGpvYlBhcmFtc1twWzBdXSAhPSAnJyBhbmQgam9iUGFyYW1zW3BbMF1dICE9IC0xOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIGR0ID0gZGF0ZXRpbWUuc3RycHRpbWUoam9iUGFyYW1zW3BbMF1dLCAnJWEsICVkICViICVZICVIOiVNOiVTJykKICAgICAgICAgICAgICAgICAgICByZXBsYWNlV2l0aCA9IGRhdGV0aW1lLnN0cmZ0aW1lKGR0LCBwWzFdKQogICAgICAgICAgICAgICAgICAgIGl0ZW1UZXh0ID0gaXRlbVRleHQucmVwbGFjZSh0ZXh0VG9yZXBsYWNlLCByZXBsYWNlV2l0aCkKICAgICAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgICAgICBhID0gMQogICAgICAgIHBpcGVsaW5lSnNvbkxpc3QuYXBwZW5kKGpzb24ubG9hZHMoaXRlbVRleHQpKQogICAgcmV0dXJuIHBpcGVsaW5lSnNvbkxpc3QKCgojIEJ1aWxkIERBRyBvZiBhbGwgdGhlIG5vZGVzCiMgUmV0dXJucyB0aGUgbGlzdCBvZiBlbGVtZW50cyBpbiBvcmRlcgpkZWYgYnVpbGREQUcocGlwZWxpbmVKc29uTGlzdCk6CiAgICBwcmludCgncGlwZWxpbmVKc29uTGlzdCcsICkKICAgIG9yZGVyZWRFbGVtZW50TGlzdCA9IGJ1aWxkREFHT3JkZXIocGlwZWxpbmVKc29uTGlzdCkgIyBEQUcuYnVpbGQocGlwZWxpbmVKc29uTGlzdCk7CiAgICBvcmRlcmVkRWxlbWVudExpc3QgPSBsaXN0KGZpbHRlcihOb25lLCBvcmRlcmVkRWxlbWVudExpc3QpKQogICAgcmV0dXJuIG9yZGVyZWRFbGVtZW50TGlzdAoKCiMgZmlsbCBub2RlIGF0dHJpYnV0ZXMgd2l0aCBBY3R1YWwgRGF0YQpkZWYgZmlsbERhdGFub2RlKG5vZGUsIHNjcmlwdCk6CiAgICBhdHRyaWJ1dGVzID0gcmUuZmluZGFsbCgnXDwoLio/KVw+Jywgc2NyaXB0KQogICAgCiAgICBmb3IgaXRlbSBpbiBhdHRyaWJ1dGVzOgoKICAgICAgICBpbnB1dF9zcGxpdCA9IGl0ZW0uc3BsaXQoJy4nKQogICAgICAgIGtleXMgPSAnJy5qb2luKFsnJydbJ3swfSddJycnLmZvcm1hdChrKSBmb3IgayBpbiBpbnB1dF9zcGxpdF0pCiAgICAgICAgCiAgICAgICAgdHJ5OgogICAgICAgICAgICAKICAgICAgICAgICAgdmFsdWUgPSBldmFsKCcnJ25vZGUuYXR0cmlidXRlcycnJyArICcnJ3swfScnJy5mb3JtYXQoa2V5cykpCiAgICAgICAgICAgIGlmIG5vZGUuY2xhc3NOYW1lICE9ICdEYXRhc2V0RXh0cmFjdG9yQ29uZmlnJyBhbmQgbm9kZS5jbGFzc05hbWUgIT0gJ0RhdGFzZXRMb2FkZXJDb25maWcnOgogICAgICAgICAgICAgICAgZm9ybSA9IGV2YWwoJycnbm9kZS5mb3JtYXRzJycnICsgJycnezB9JycnLmZvcm1hdChrZXlzKSkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgZm9ybSA9PSAnYm9vbCc6CiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAnVHJ1ZScgaWYgdmFsdWU9PSd0cnVlJyBlbHNlICdGYWxzZScKICAgICAgICAgICAgCiAgICAgICAgICAgIHNjcmlwdCA9IHNjcmlwdC5yZXBsYWNlKCc8JyArIGl0ZW0gKyAnPicsIHN0cih2YWx1ZSkpCiAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHByaW50KCdpbiBFeGNlcHQnKQogICAgICAgICAgICBzY3JpcHQgPSBzY3JpcHQucmVwbGFjZSgnPCcgKyBpdGVtICsgJz4nLCAnJykKCiAgICByZXR1cm4gc2NyaXB0CgojIGZpbGwgbm9kZSBhdHRyaWJ1dGVzIHdpdGggQWN0dWFsIERhdGEKZGVmIGZpbGxEYXRhbm9kZShub2RlLCBzY3JpcHQpOgogICAgYXR0cmlidXRlcyA9IHJlLmZpbmRhbGwoJ1w8KC4qPylcPicsIHNjcmlwdCkKICAgIAogICAgZm9yIGl0ZW0gaW4gYXR0cmlidXRlczoKCiAgICAgICAgaW5wdXRfc3BsaXQgPSBpdGVtLnNwbGl0KCcuJykKICAgICAgICBrZXlzID0gJycuam9pbihbJycnWyd7fSddJycnLmZvcm1hdChrKSBmb3IgayBpbiBpbnB1dF9zcGxpdF0pCiAgICAgICAgCiAgICAgICAgdHJ5OgogICAgICAgICAgICAKICAgICAgICAgICAgdmFsdWUgPSBldmFsKCcnJ25vZGUuYXR0cmlidXRlcycnJyArICcnJ3swfScnJy5mb3JtYXQoa2V5cykpCiAgICAgICAgICAgIGlmIG5vZGUuY2xhc3NOYW1lICE9ICdEYXRhc2V0RXh0cmFjdG9yQ29uZmlnJzoKICAgICAgICAgICAgICAgIGZvcm0gPSBldmFsKCcnJ25vZGUuZm9ybWF0cycnJyArICcnJ3swfScnJy5mb3JtYXQoa2V5cykpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIGZvcm0gPT0gJ2Jvb2wnOgogICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJ1RydWUnIGlmIHZhbHVlLmxvd2VyKCk9PSd0cnVlJyBlbHNlICdGYWxzZScKICAgICAgICAgICAgCiAgICAgICAgICAgIHNjcmlwdCA9IHNjcmlwdC5yZXBsYWNlKCc8JyArIGl0ZW0gKyAnPicsIHN0cih2YWx1ZSkpCiAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHByaW50KCdpbiBFeGNlcHQnKQogICAgICAgICAgICBzY3JpcHQgPSBzY3JpcHQucmVwbGFjZSgnPCcgKyBpdGVtICsgJz4nLCAnJykKCiAgICByZXR1cm4gc2NyaXB0CgpkZWYgZ2VuZXJhdGVTY3JpcHQocGlwZWxpbmVKc29uKToKCiAgICAjIGZvcm1hdCB0eXBlIGZvciBwcmUtcHJvY2Vzc2luZyBub2RlL3B5dGhvbi1zY3JpcHQgbm9kZQogICAgZGVmIGNvbihzLCB0KToKICAgICAgICBpZiBzPT0naW50JzoKICAgICAgICAgICAgcmV0dXJuICdpbnRlZ2VyJwogICAgICAgIGVsaWYgcz09J3N0cic6CiAgICAgICAgICAgIHJldHVybiAndGV4dCcKICAgICAgICBlbGlmIHM9PSdsaXN0JzoKICAgICAgICAgICAgcmV0dXJuICdsaXN0JwogICAgICAgIGVsaWYgcz09J2Jvb2wnOgogICAgICAgICAgICByZXR1cm4gJ2Jvb2wnCiAgICAgICAgZWxpZiBpc2luc3RhbmNlKHQsIHN0cik6CiAgICAgICAgICAgIHJldHVybiAndGV4dCcKICAgICAgICBlbGlmIGlzaW5zdGFuY2UodCwgaW50KToKICAgICAgICAgICAgcmV0dXJuICdpbnRlZ2VyJwogICAgICAgIHJldHVybiAnYm9vbCcKCgogICAgcGlwZWxpbmVFbGVtZW50cyA9IGZpbGxKb2JQYXJhbXMocGlwZWxpbmVKc29uKQogICAgb3JkZXJlZEVsZW1lbnRMaXN0ID0gYnVpbGREQUcocGlwZWxpbmVFbGVtZW50cykKICAgIHJlcXVpcmVtZW50cyA9IFtdCiAgICBpbXBvcnRfbGluZXMgPSBbXQogICAgZnVuY3Rpb25zID0gW10KICAgIGRhdGFzZXRfZXh0cmFjdG9yX3BhcmFtID0ge30KICAgIGRhdGFzZXRfbG9hZGVyX3BhcmFtcyA9IFtdCiAgICBleHRyYWN0c2NyaXB0c3VmZml4ID0gJycKICAgIGZ1bmN0aW9uX2ZsYWcgPSB7fQogICAgZmxhc2tfZmxhZyA9IEZhbHNlCiAgICBmbGFza19jYWxsID0gJycKICAgIGZsYXNrX2FwcCA9IFtdCgogICAgIyBTY3JpcHQgZ2VuZXJhdGlvbgogICAgZm9yIG5vZGUgaW4gb3JkZXJlZEVsZW1lbnRMaXN0OgogICAgICAgICMgRXh0cmFjdG9ycwogICAgICAgIGVsZW1lbnQgPSBuZXh0KGUgZm9yIGUgaW4gcGlwZWxpbmVKc29uWydlbGVtZW50cyddIGlmIGVbJ2lkJ10gPT0gbm9kZS5pZCkKICAgICAgICAKICAgICAgICBpZiBub2RlLmNsYXNzTmFtZT09J1B5dGhvbkNsYXNzJzoKICAgICAgICAgICAgZmxhc2tfZmxhZyA9IFRydWUKICAgICAgICAgICAgcHJvY2Vzc2luZ1NjcmlwdCA9ICcnCiAgICAgICAgICAgIHByb2Nlc3NpbmdTY3JpcHQgPSAoJycpLmpvaW4obm9kZS5hdHRyaWJ1dGVzWydzY3JpcHQnXSkKICAgICAgICAgICAgZnVuY3Rpb25zLmFwcGVuZChwcm9jZXNzaW5nU2NyaXB0KQogICAgICAgIGlmIG5vZGUuY2xhc3NOYW1lID09ICdGbGFza0FQUCc6CiAgICAgICAgICAgIGZsYXNrX2ZsYWcgPSBUcnVlCiAgICAgICAgICAgIHByb2Nlc3NpbmdTY3JpcHQgPSAnJwogICAgICAgICAgICBwcm9jZXNzaW5nU2NyaXB0ID0gKCcnKS5qb2luKG5vZGUuYXR0cmlidXRlc1snc2NyaXB0J10pCiAgICAgICAgICAgIGZsYXNrX2FwcC5hcHBlbmQocHJvY2Vzc2luZ1NjcmlwdCkKCgogICAgICAgIGlmIG5vZGUuY2xhc3NOYW1lID09ICdEYXRhc2V0RXh0cmFjdG9yQ29uZmlnJzogICAKICAgICAgICAgICAgZXh0cmFjdG9yU2NyaXB0ID0gXAogICAgICAgICAgICAgICAgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVtub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWyd0eXBlJ11dWydzY3JpcHQnXQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICAgICBleHRyYWN0b3JTY3JpcHQgPSBleHRyYWN0b3JTY3JpcHQucmVwbGFjZSgnXzxpZD4nLCAnJykKICAgICAgICAgICAgZXh0cmFjdG9ycGFyYW1zID0gcmUuZmluZGFsbCgnZGVmIERhdGFzZXRFeHRyYWN0b3IuKlwoLio/XCknLCBleHRyYWN0b3JTY3JpcHQpCgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAjIFJldHJpdmluZyBwYXJhbWV0ZXJzIG9mIERhdGFzZXQgRXh0cmFjdG9yCiAgICAgICAgICAgICAgICBleHRyYWN0b3JwYXJhbXMgPSByZS5maW5kYWxsKCdcKC4qP1wpJywgZXh0cmFjdG9ycGFyYW1zWzBdKQogICAgICAgICAgICAgICAgZXh0cmFjdG9ycGFyYW1zID0gZXh0cmFjdG9ycGFyYW1zWzBdWzE6LTFdLnNwbGl0KCcsICcpCiAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgIGV4dHJhY3RvcnBhcmFtcyA9IFtdCiAgICAgICAgICAgIAogICAgICAgICAgICBwYXJhID0gW10KICAgICAgICAgICAgZm9yIHAgaW4gZXh0cmFjdG9ycGFyYW1zOgogICAgICAgICAgICAgICAgcGFyYS5leHRlbmQocC5zcGxpdCgnLCcpKQogICAgICAgICAgICAKICAgICAgICAgICAgZGF0YXNldF9leHRyYWN0b3JfcGFyYW1bbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddXSA9IFtwLnNwbGl0KCc9JylbMF0uc3RyaXAoKSBmb3IgcCBpbiBwYXJhXQogICAgICAgICAgICAKICAgICAgICAgICAgCiAgICAgICAgICAgIGV4dHJhY3RvclNjcmlwdCA9IGV4dHJhY3RvclNjcmlwdC5yZXBsYWNlKCc8aWQ+Jywgbm9kZS5pZCkKCiAgICAgICAgICAgIGlmIGlzaW5zdGFuY2Uobm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2F0dHJpYnV0ZXMnXSwgc3RyKToKICAgICAgICAgICAgICAgIG5vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydhdHRyaWJ1dGVzJ10gPSBqc29uLmxvYWRzKG5vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydhdHRyaWJ1dGVzJ10pCiAgICAgICAgICAgIG5vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydkYXRhc291cmNlJ11bJ2Nvbm5lY3Rpb25EZXRhaWxzJ10gPSBqc29uLmxvYWRzKAogICAgICAgICAgICAgICAgbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsnY29ubmVjdGlvbkRldGFpbHMnXSkKICAgICAgICAgICAgCiAgICAgICAgICAgIGV4dHJhY3RzY3JpcHRzdWZmaXggPSBleHRyYWN0b3JTY3JpcHQKICAgICAgICAgICAgCiAgICAgICAgICAgICMgQ2hlY2tpbmcgaWYgdGhlIGZ1bmN0aW9uIGRlZmluaXRpb24gaXMgYWxyZWFkeSBleGlzdHMgaW4gc2NyaXB0CiAgICAgICAgICAgIGlmIChub2RlLmNsYXNzTmFtZSArIG5vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydkYXRhc291cmNlJ11bJ3R5cGUnXSkgaW4gZnVuY3Rpb25fZmxhZzoKICAgICAgICAgICAgICAgIHByaW50KCdleGl0cycsIChub2RlLmNsYXNzTmFtZSArIG5vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydkYXRhc291cmNlJ11bJ3R5cGUnXSkpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBmdW5jdGlvbl9mbGFnWyhub2RlLmNsYXNzTmFtZSArIG5vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydkYXRhc291cmNlJ11bJ3R5cGUnXSldID0gMQogICAgICAgICAgICAgICAgZnVuY3Rpb25zLmFwcGVuZChleHRyYWN0b3JTY3JpcHQpCiAgICAgICAgICAgIAogICAgICAgICAgICBpbXBvcnRfbGluZXMgPSBpbXBvcnRfbGluZXMgKyBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddXVsnaW1wb3J0cyddCiAgICAgICAgICAgIHJlcXVpcmVtZW50cyA9IHJlcXVpcmVtZW50cyArIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVtub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWyd0eXBlJ11dLmdldCgncmVxdWlyZW1lbnRzJyxbXSkKCiAgICAgICAgZWxpZiBub2RlLmNsYXNzTmFtZSA9PSAnQWRhcHRlck1ldGhvZENvbmZpZyc6CiAgICAgICAgICAgIHByaW50KCdub2RlIG5hbWUgaXM6ICcsIG5vZGUubmFtZSkKICAgICAgICAgICAgdHJhbnNmb3JtZXJTY3JpcHQgPSBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddWydzY3JpcHQnXQogICAgICAgICAgICBwcmludChlbGVtZW50KQogICAgICAgICAgICBub2RlbmFtZSA9ICcnLmpvaW4obm9kZS5uYW1lLnNwbGl0KCcgJykpCiAgICAgICAgICAgIAogICAgICAgICAgICB0cmFuc2Zvcm1lclNjcmlwdCA9IHRyYW5zZm9ybWVyU2NyaXB0LnJlcGxhY2UoJ188aWQ+JywgJycpCiAgICAgICAgICAgIHRyYW5zZm9ybWVyU2NyaXB0ID0gdHJhbnNmb3JtZXJTY3JpcHQucmVwbGFjZSgnPGlkPicsIG5vZGUuaWQpCiAgICAgICAgICAgIAogICAgICAgICAgICAjIENoZWNraW5nIGlmIHRoZSBmdW5jdGlvbiBkZWZpbml0aW9uIGlzIGFscmVhZHkgZXhpc3RzIGluIHNjcmlwdAogICAgICAgICAgICBpZiBub2RlLmNsYXNzTmFtZSBpbiBmdW5jdGlvbl9mbGFnOgogICAgICAgICAgICAgICAgcHJpbnQoJ2V4aXRzJywgbm9kZS5jbGFzc05hbWUpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBmdW5jdGlvbl9mbGFnW25vZGUuY2xhc3NOYW1lXSA9IDEKICAgICAgICAgICAgICAgIGZ1bmN0aW9ucy5hcHBlbmQodHJhbnNmb3JtZXJTY3JpcHQpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgaW1wb3J0X2xpbmVzID0gaW1wb3J0X2xpbmVzICsgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVsnaW1wb3J0cyddCiAgICAgICAgICAgIGlmIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ10uZ2V0KCdyZXF1aXJlbWVudHMnLCAnJykgIT0gJyc6CiAgICAgICAgICAgICAgICByZXF1aXJlbWVudHMgPSByZXF1aXJlbWVudHMgKyBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddLmdldCgncmVxdWlyZW1lbnRzJywgW10pCiAgICAgICAgICAgICAgICBwcmludChyZXF1aXJlbWVudHMpCgogICAgICAgICAgICAgIAogICAgICAgICMgUHJlLXByb2Nlc3NpbmcgU2NyaXB0CiAgICAgICAgZWxpZiBub2RlLmNsYXNzTmFtZSA9PSAnU2NyaXB0VHJhbnNmb3JtZXJDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdQcmVQcm9jZXNzaW5nU2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUG9zdFByb2Nlc3NpbmdTY3JpcHRDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdNb2RlbFByZWRpY3RTY3JpcHRDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdQeXRob25TY3JpcHRDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdQb3N0UHl0aG9uU2NyaXB0Q29uZmlnJzoKICAgICAgICAgICAgcHJvY2Vzc2luZ1NjcmlwdCA9ICcnCiAgICAgICAgICAgIHByb2Nlc3NpbmdTY3JpcHQgPSAoJycpLmpvaW4obm9kZS5hdHRyaWJ1dGVzWydzY3JpcHQnXSkKICAgICAgICAgICAgcHJpbnQocHJvY2Vzc2luZ1NjcmlwdCkKICAgICAgICAgICAgcHJvY2Vzc2luZ1NjcmlwdCA9IHByb2Nlc3NpbmdTY3JpcHQucmVwbGFjZSgnXFxuJywgJ1xyJykKICAgICAgICAgICAgI3Byb2Nlc3NpbmdTY3JpcHQgPSBwcm9jZXNzaW5nU2NyaXB0LnJlcGxhY2UoJ1xuJywgJ1xuJykKICAgICAgICAgICAgI3Byb2Nlc3NpbmdTY3JpcHQgPSBwcm9jZXNzaW5nU2NyaXB0LnJlcGxhY2UoJ1xyJywgJ1xuJykKICAgICAgICAgICAgcHJpbnQocHJvY2Vzc2luZ1NjcmlwdCkKICAgICAgICAgICAgcHJvY2Vzc2luZ1NjcmlwdCA9IHByb2Nlc3NpbmdTY3JpcHQucmVwbGFjZSgnXzxpZD4nLCAnJykKICAgICAgICAgICAgcHJvY2Vzc2luZ1NjcmlwdCA9IHByb2Nlc3NpbmdTY3JpcHQucmVwbGFjZSgnPGlkPicsIG5vZGUuaWQpCiAgICAgICAgICAgIG5vZGVuYW1lID0gbm9kZS5hdHRyaWJ1dGVzLmdldCgnRnVuY3Rpb25OYW1lJywgJycpCiAgICAgICAgICAgIAogICAgICAgICAgICAjIENoZWNraW5nIGlmIHRoZSBmdW5jdGlvbiBkZWZpbml0aW9uIGlzIGFscmVhZHkgZXhpc3RzIGluIHNjcmlwdAogICAgICAgICAgICBpZiBub2RlbmFtZSBpbiBmdW5jdGlvbl9mbGFnOgogICAgICAgICAgICAgICAgcHJpbnQoJ2V4aXRzJywgbm9kZW5hbWUpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBmdW5jdGlvbl9mbGFnW25vZGVuYW1lXSA9IDEKICAgICAgICAgICAgICAgIGZ1bmN0aW9ucy5hcHBlbmQocHJvY2Vzc2luZ1NjcmlwdCkKICAgICAgICAgICAgIyBpZiBpc2luc3RhbmNlKG5vZGUuYXR0cmlidXRlc1sncmVxdWlyZW1lbnRzJ10sc3RyKSA6CiAgICAgICAgICAgIHJlcXVpcmVtZW50cyA9IHJlcXVpcmVtZW50cyArIG5vZGUuYXR0cmlidXRlc1sncmVxdWlyZW1lbnRzJ10uc3BsaXQoJywnKQogICAgICAgIAoKICAgICAgICAjIExvYWRlcnMKICAgICAgICBlbGlmIG5vZGUuY2xhc3NOYW1lID09ICdEYXRhc2V0TG9hZGVyQ29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnTW9kZWxMb2FkZXJDb25maWcnOgoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgbG9hZGVyc2NyaXB0ID0gZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVtub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWyd0eXBlJ11dWydzY3JpcHQnXQogICAgICAgICAgICAgICAgcmVxdWlyZW1lbnRzID0gcmVxdWlyZW1lbnRzICsgXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVtub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWyd0eXBlJ11dLmdldCgncmVxdWlyZW1lbnRzJyxbXSkKCiAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgIGxvYWRlcnNjcmlwdCA9IGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bJ3NjcmlwdCddCiAgICAgICAgICAgICAgICByZXF1aXJlbWVudHMgPSByZXF1aXJlbWVudHMgKyBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddLmdldCgncmVxdWlyZW1lbnRzJywnJykKICAgICAgICAgICAgbG9hZGVyc2NyaXB0ID0gbG9hZGVyc2NyaXB0LnJlcGxhY2UoJ188aWQ+JywgJycpCiAgICAgICAgICAgIAogICAgICAgICAgICAjIFJldHJpdmluZyBwYXJhbWV0ZXJzIG9mIERhdGFzZXQgTG9hZGVyCiAgICAgICAgICAgIGV4dHJhY3RvcnBhcmFtcyA9IHJlLmZpbmRhbGwoJ2RlZiBEYXRhc2V0TG9hZGVyXCguKj9cKScsIGxvYWRlcnNjcmlwdCkKCiAgICAgICAgICAgIGV4dHJhY3RvcnBhcmFtcyA9IHJlLmZpbmRhbGwoJ1woLio/XCknLCBleHRyYWN0b3JwYXJhbXNbMF0pCiAgICAgICAgICAgIAogICAgICAgICAgICBleHRyYWN0b3JwYXJhbXMgPSBleHRyYWN0b3JwYXJhbXNbMF1bMTotMV0uc3BsaXQoJywgJykKICAgICAgICAgICAgcGFyYSA9IFtdCiAgICAgICAgICAgIGZvciBwIGluIGV4dHJhY3RvcnBhcmFtczoKICAgICAgICAgICAgICAgIHBhcmEuZXh0ZW5kKHAuc3BsaXQoJywnKSkKICAgICAgICAgICAgCiAgICAgICAgICAgIGRhdGFzZXRfbG9hZGVyX3BhcmFtcyA9IFtwLnNwbGl0KCc9JylbMF0uc3RyaXAoKSBmb3IgcCBpbiBwYXJhXQogICAgICAgICAgICBsb2FkZXJzY3JpcHQgPSBsb2FkZXJzY3JpcHQucmVwbGFjZSgnPGlkPicsIG5vZGUuaWQpCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiBub2RlLmF0dHJpYnV0ZXMuZ2V0KCdkYXRhc2V0JywgJycpICE9ICcnIGFuZCBpc2luc3RhbmNlKG5vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydhdHRyaWJ1dGVzJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyKToKICAgICAgICAgICAgICAgIG5vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydhdHRyaWJ1dGVzJ10gPSBqc29uLmxvYWRzKG5vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydhdHRyaWJ1dGVzJ10pCiAgICAgICAgICAgIGlmIG5vZGUuYXR0cmlidXRlcy5nZXQoJ2RhdGFzZXQnLCAnJykgIT0gJycgYW5kIGlzaW5zdGFuY2Uobm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsnY29ubmVjdGlvbkRldGFpbHMnXSAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyKToKICAgICAgICAgICAgICAgIG5vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydkYXRhc291cmNlJ11bJ2Nvbm5lY3Rpb25EZXRhaWxzJ10gPSBqc29uLmxvYWRzKAogICAgICAgICAgICAgICAgICAgIG5vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydkYXRhc291cmNlJ11bJ2Nvbm5lY3Rpb25EZXRhaWxzJ10pCiAgICAgICAgICAgIAogICAgICAgICAgICAjIENoZWNraW5nIGlmIHRoZSBmdW5jdGlvbiBkZWZpbml0aW9uIGlzIGFscmVhZHkgZXhpc3RzIGluIHNjcmlwdAogICAgICAgICAgICBpZiBub2RlLmNsYXNzTmFtZSBpbiBmdW5jdGlvbl9mbGFnOgogICAgICAgICAgICAgICAgcHJpbnQoJ2V4aXRzJywgbm9kZS5jbGFzc05hbWUpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBmdW5jdGlvbl9mbGFnW25vZGUuY2xhc3NOYW1lXSA9IDEKICAgICAgICAgICAgICAgIGZ1bmN0aW9ucy5hcHBlbmQobG9hZGVyc2NyaXB0KQoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgaW1wb3J0X2xpbmVzID0gaW1wb3J0X2xpbmVzICsgXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVtub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWyd0eXBlJ11dWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpbXBvcnRzJ10KCiAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgIGltcG9ydF9saW5lcyA9IGltcG9ydF9saW5lcyArIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bJ2ltcG9ydHMnXQogICAgICAgIAogICAgICAgICMgVHJhbnNmb3JtZXJzCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnQoJ25vZGUgbmFtZSBpczogJywgbm9kZS5uYW1lKQogICAgICAgICAgICB0cmFuc2Zvcm1lclNjcmlwdCA9IGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bJ3NjcmlwdCddCiAgICAgICAgICAgIHByaW50KGVsZW1lbnQpCiAgICAgICAgICAgIG5vZGVuYW1lID0gJycuam9pbihub2RlLm5hbWUuc3BsaXQoJyAnKSkKICAgICAgICAgICAgCiAgICAgICAgICAgIHRyYW5zZm9ybWVyU2NyaXB0ID0gdHJhbnNmb3JtZXJTY3JpcHQucmVwbGFjZSgnXzxpZD4nLCAnJykKICAgICAgICAgICAgdHJhbnNmb3JtZXJTY3JpcHQgPSB0cmFuc2Zvcm1lclNjcmlwdC5yZXBsYWNlKCc8aWQ+Jywgbm9kZS5pZCkKICAgICAgICAgICAgCiAgICAgICAgICAgICMgQ2hlY2tpbmcgaWYgdGhlIGZ1bmN0aW9uIGRlZmluaXRpb24gaXMgYWxyZWFkeSBleGlzdHMgaW4gc2NyaXB0CiAgICAgICAgICAgIGlmIG5vZGUuY2xhc3NOYW1lIGluIGZ1bmN0aW9uX2ZsYWc6CiAgICAgICAgICAgICAgICBwcmludCgnZXhpdHMnLCBub2RlLmNsYXNzTmFtZSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGZ1bmN0aW9uX2ZsYWdbbm9kZS5jbGFzc05hbWVdID0gMQogICAgICAgICAgICAgICAgZnVuY3Rpb25zLmFwcGVuZCh0cmFuc2Zvcm1lclNjcmlwdCkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICBpbXBvcnRfbGluZXMgPSBpbXBvcnRfbGluZXMgKyBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddWydpbXBvcnRzJ10KICAgICAgICAgICAgaWYgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXS5nZXQoJ3JlcXVpcmVtZW50cycsICcnKSAhPSAnJzoKICAgICAgICAgICAgICAgIHJlcXVpcmVtZW50cyA9IHJlcXVpcmVtZW50cyArIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ10uZ2V0KCdyZXF1aXJlbWVudHMnLCBbXSkKICAgICAgICAgICAgICAgIHByaW50KHJlcXVpcmVtZW50cykKICAgICAgICAgICAgCgoKICAgIGltcG9ydF9saW5lcyA9IFtsIGZvciBsIGluIHNldChpbXBvcnRfbGluZXMpIGlmIGwgIT0gJyddCiAgICByZXF1aXJlbWVudHMgPSBbbCBmb3IgbCBpbiBzZXQocmVxdWlyZW1lbnRzKSBpZiBsICE9ICcnXQogICAgCiAgICBpZiBmbGFza19mbGFnOgogICAgICAgIHBpcGVsaW5lQ29kZSA9IGJhc2VTY3JpcHRfZmxhc2soKQogICAgZWxzZToKICAgICAgICBwaXBlbGluZUNvZGUgPSBiYXNlU2NyaXB0KCkKICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7aW1wb3J0c30nLCAoJ1xuJykuam9pbihpbXBvcnRfbGluZXMpKQogICAgaWYgbGVuKHJlcXVpcmVtZW50cyk+MDoKICAgICAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne3JlcXVpcmVtZW50c30nLCAnXCcnKyAoJ1wnLFwnJykuam9pbihyZXF1aXJlbWVudHMpKydcJycpCiAgICBlbHNlOgogICAgICAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne3JlcXVpcmVtZW50c30nLCAnJykKICAgICAgICAKICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7cGlwZWxpbmVOYW1lfScsIGFyZ3NEaWN0WydwaXBlbGluZU5hbWUnXSkKICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7ZnVuY3Rpb25zfScsICgnXHInKS5qb2luKGZ1bmN0aW9ucykpCiAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne2ZsYXNrX2FwcH0nLCAoJ1xyJykuam9pbihmbGFza19hcHApKQogICAgZXhlY3V0aW9uT3JkZXIgPSAnXG4nCiAgICAKICAgIAogICAgCiAgICBmb3Igbm9kZSBpbiBvcmRlcmVkRWxlbWVudExpc3Q6CiAgICAgICAgaW5wdXRzID0gW10KICAgICAgICAKICAgICAgICAjIEluaXRpYWxpemluZyBwb3NpdGlvbmluZyBvcmRlciBmb3IgaW5wdXQgZW50cmllcyBvZiBhIG5vZGUKICAgICAgICBwb3NpdGlvbl9vcmRlcmluZyA9IHsnTGVmdE1pZGRsZSc6IDAsJ1RvcENlbnRlcic6IDEsICdSaWdodE1pZGRsZSc6IDIsICdCb3R0b21DZW50ZXInOiAzfQogICAgICAgIGluZGV4X29yZGVyaW5nID0gezA6ICdMZWZ0TWlkZGxlJywgMTogJ1RvcENlbnRlcicsIDI6ICdSaWdodE1pZGRsZScsIDM6ICdCb3R0b21DZW50ZXInfQogICAgICAgIG91dHB1dHMgPSBbXQogICAgICAgIG5vZGVuYW1lID0gJycuam9pbihub2RlLm5hbWUuc3BsaXQoJyAnKSkKICAgICAgICAjIG5vZGVuYW1lID0gJ18nLmpvaW4obm9kZS5uYW1lLnN0cmlwKCkuc3BsaXQoJyAnKSkubG93ZXIoKQogICAgICAgIG5vZGVpZCA9IG5vZGUuaWQKICAgICAgICAKICAgICAgICAjIGlmIG5vZGVuYW1lID09ICdEYXRhc2V0RXh0cmFjdG9yJzoKICAgICAgICAjICAgICBub2RlbmFtZSA9IG5vZGVuYW1lICsgbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddCiAgICAgICAgCiAgICAgICAgIyBpZiBub2RlbmFtZSA9PSAnUHl0aG9uU2NyaXB0JyBvciBub2RlbmFtZSA9PSAnUG9zdFB5dGhvblNjcmlwdCcgb3Igbm9kZW5hbWUgPT0gJ1Bvc3RQcm9jZXNzaW5nU2NyaXB0JyBvciBub2RlbmFtZSA9PSAnUHJlUHJvY2Vzc2luZ1NjcmlwdCc6CiAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgPT0gJ1NjcmlwdFRyYW5zZm9ybWVyQ29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUHJlUHJvY2Vzc2luZ1NjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1Bvc3RQcm9jZXNzaW5nU2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnTW9kZWxQcmVkaWN0U2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUHl0aG9uU2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUG9zdFB5dGhvblNjcmlwdENvbmZpZyc6CiAgICAgICAgICAgIG5vZGVuYW1lID0gbm9kZS5hdHRyaWJ1dGVzLmdldCgnRnVuY3Rpb25OYW1lJywgJycpCiAgICAgICAgICAgIG5vZGUuZm9ybWF0cyA9IHtwYXJhWyduYW1lJ10uc3BsaXQoJzonKVswXTogY29uKHBhcmFbJ25hbWUnXS5zcGxpdCgnOicpWy0xXSwgcGFyYVsndmFsdWUnXSkgZm9yIHBhcmEgaW4gbm9kZS5hdHRyaWJ1dGVzLmdldCgncGFyYW1zJywgJycpIGlmIGxlbihwYXJhKSA+IDB9CiAgICAgICAgICAgIG5vZGUuYXR0cmlidXRlcyA9IHtwYXJhWyduYW1lJ10uc3BsaXQoJzonKVswXTogcGFyYVsndmFsdWUnXSBmb3IgcGFyYSBpbiBub2RlLmF0dHJpYnV0ZXMuZ2V0KCdwYXJhbXMnLCAnJykgaWYgbGVuKHBhcmEpID4gMH0KCiAgICAgICAgCiAgICAgICAgZm9yIGNvbm5lY3RvciBpbiBub2RlLmNvbm5lY3RvcnM6CgogICAgICAgICAgICBpZiAoY29ubmVjdG9yWyd0eXBlJ10gPT0gJ3RhcmdldCcpOgogICAgICAgICAgICAgICAgaW5wdXRzLmFwcGVuZChwb3NpdGlvbl9vcmRlcmluZ1tjb25uZWN0b3JbJ3Bvc2l0aW9uJ11dKQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChjb25uZWN0b3JbJ3R5cGUnXSA9PSAnc291cmNlJyk6CiAgICAgICAgICAgICAgICBvdXRwdXRzLmFwcGVuZCgnZHNfJyArIGNvbm5lY3RvclsnZWxlbWVudFBvc2l0aW9uJ10gKyAnXycgKyBjb25uZWN0b3JbJ2VsZW1lbnRJZCddKQogICAgICAgIAogICAgICAgICMgUG9zaXRpb25pbmcgaW5wdXQgZW50cmllcyBmb3IgYSBub2RlICAgICAgICAKICAgICAgICBpbnB1dHMuc29ydCgpCiAgICAgICAgCiAgICAgICAgaW5wdXRzID0gWydkc18nICsgaW5kZXhfb3JkZXJpbmdbcG9zXSArICdfJyArIG5vZGVpZCBmb3IgcG9zIGluIGlucHV0c10KICAgICAgICAKICAgICAgICAjIEFkZGluZyBwYXJhbWV0ZXJzIGZvciByZXNwZWN0aXZlIGZ1bmN0aW9uIGNhbGwKICAgICAgICBkZWZhdWx0X3BhcmFtcyA9IFtdCiAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgPT0gJ0RhdGFzZXRFeHRyYWN0b3JDb25maWcnOgogICAgICAgICAgICBkZWZhdWx0X3BhcmFtcyA9IFtdCiAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zID0gW2UgKyAnPVwnPCcgKyBlLnJlcGxhY2UoJ18nLCAnLicpICsgJz5cJycgZm9yIGUgaW4gZGF0YXNldF9leHRyYWN0b3JfcGFyYW1bbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddXV0KICAgICAgICAgICAgCiAgICAgICAgZWxpZiBub2RlLmNsYXNzTmFtZSA9PSAnQWRhcHRlck1ldGhvZENvbmZpZyc6CiAgICAgICAgICAgIGFjdHVhbF9wYXJhbXMgPSBub2RlLmF0dHJpYnV0ZXMgICAgICAgICAgICAKICAgICAgICAgICAgYWN0dWFsX3BhcmFtID0gbGlzdChhY3R1YWxfcGFyYW1zLmtleXMoKSkKICAgICAgICAgICAgc2NyaXB0X2JvZHkgPSB7cGFyYW06ICdfJy5qb2luKHJlLnNwbGl0KCdcc1xzKicsIHBhcmFtLnN0cmlwKCkpKSBmb3IgcGFyYW0gaW4gYWN0dWFsX3BhcmFtfQogICAgICAgICAgICBkZWZhdWx0X3BhcmFtcyA9IFtdCiAgICAgICAgICAgIGFjdHVhbF9mb3JtYXRzID0gbm9kZS5mb3JtYXRzCiAgICAgICAgICAgIE5vbmVUeXBlID0gdHlwZShOb25lKQogICAgICAgIAogICAgICAgICAgICAjIFZhbHVlIHR5cGUgYXMgU3RyaW5nIG9yIE5vbi1zdHJpbmcgZGVwZW5kaW5nIG9uIGZvcm1hdCB0eXBlCiAgICAgICAgICAgIGZvciBrZXksIHZhbCBpbiBzY3JpcHRfYm9keS5pdGVtcygpOiAKICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPTwnICsga2V5ICsgJz4nKQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgIGVsaWYgbm9kZS5jbGFzc05hbWUgPT0gJ0RhdGFzZXRMb2FkZXJDb25maWcnOgogICAgICAgICAgICBkZWZhdWx0X3BhcmFtcyA9IFtdCiAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zID0gW2UgKyAnPVwnPCcgKyBlLnJlcGxhY2UoJ18nLCAnLicpICsgJz5cJycgZm9yIGUgaW4gZGF0YXNldF9sb2FkZXJfcGFyYW1zWzE6XV0KICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICMgZWxpZiBub2RlLmNsYXNzTmFtZSA9PSAnUHl0aG9uU2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUG9zdFB5dGhvblNjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1ByZVByb2Nlc3NpbmdTY3JpcHRDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdQb3N0UHJvY2Vzc2luZ1NjcmlwdENvbmZpZyc6CiAgICAgICAgZWxpZiBub2RlLmNsYXNzTmFtZSA9PSAnU2NyaXB0VHJhbnNmb3JtZXJDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdQcmVQcm9jZXNzaW5nU2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUG9zdFByb2Nlc3NpbmdTY3JpcHRDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdNb2RlbFByZWRpY3RTY3JpcHRDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdQeXRob25TY3JpcHRDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdQb3N0UHl0aG9uU2NyaXB0Q29uZmlnJzoKICAgICAgICAgICAgYWN0dWFsX3BhcmFtcyA9IG5vZGUuYXR0cmlidXRlcyAgICAgICAgICAgIAogICAgICAgICAgICBhY3R1YWxfcGFyYW0gPSBsaXN0KGFjdHVhbF9wYXJhbXMua2V5cygpKQogICAgICAgICAgICBzY3JpcHRfYm9keSA9IHtwYXJhbTogJ18nLmpvaW4ocmUuc3BsaXQoJ1xzXHMqJywgcGFyYW0ubG93ZXIoKS5zdHJpcCgpKSkgKyAnX3BhcmFtJyBmb3IgcGFyYW0gaW4gYWN0dWFsX3BhcmFtfQogICAgICAgICAgICBkZWZhdWx0X3BhcmFtcyA9IFtdCiAgICAgICAgICAgIGFjdHVhbF9mb3JtYXRzID0gbm9kZS5mb3JtYXRzCiAgICAgICAgICAgIE5vbmVUeXBlID0gdHlwZShOb25lKQogICAgICAgIAogICAgICAgICAgICBmb3Iga2V5LCB2YWwgaW4gc2NyaXB0X2JvZHkuaXRlbXMoKTogCiAgICAKICAgICAgICAgICAgICAgIGlmIGtleSA9PSAnc2NyaXB0JzoKICAgICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgIyBWYWx1ZSB0eXBlIGFzIFN0cmluZyBvciBOb24tc3RyaW5nIGRlcGVuZGluZyBvbiBmb3JtYXQgdHlwZQogICAgICAgICAgICAgICAgZWxpZiBhY3R1YWxfZm9ybWF0c1trZXldID09ICd0ZXh0JzoKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X3BhcmFtcy5hcHBlbmQodmFsICsgJz1cJzwnICsga2V5ICsgJz5cJycpIAogICAgICAgICAgICAgICAgZWxpZiBhY3R1YWxfZm9ybWF0c1trZXldID09ICd0ZXh0YXJlYSc6CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9XCdcJ1wnPCcgKyBrZXkgKyAnPlwnXCdcJycpIAogICAgICAgICAgICAgICAgZWxpZiBhY3R1YWxfZm9ybWF0c1trZXldID09ICdpbnRlZ2VyJzoKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X3BhcmFtcy5hcHBlbmQodmFsICsgJz08JyArIGtleSArICc+JykKICAgICAgICAgICAgICAgIGVsaWYgYWN0dWFsX2Zvcm1hdHNba2V5XSA9PSAnYm9vbCc6CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9PCcgKyBrZXkgKyAnPicpCiAgICAgICAgICAgICAgICBlbGlmICdkcm9wJyBpbiBhY3R1YWxfZm9ybWF0c1trZXldLmxvd2VyKCk6ICAjIGZvciBkcm9wIGRvd24gdmFsdWVzCiAgICAgICAgICAgICAgICAgICAgaWYgYWN0dWFsX2Zvcm1hdHNbYWN0dWFsX2Zvcm1hdHNba2V5XV1bMF0uaXNhbHBoYSgpOgogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X3BhcmFtcy5hcHBlbmQodmFsICsgJz1cJzwnICsga2V5ICsgJz5cJycpCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9PCcgKyBrZXkgKyAnPicpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPTwnICsga2V5ICsgJz4nKQogICAgICAgIGVsc2U6ICAgICAgICAgICAgICAgCiAgICAgICAgICAgIGFjdHVhbF9wYXJhbXMgPSBub2RlLmF0dHJpYnV0ZXMgICAgICAgICAgICAKICAgICAgICAgICAgYWN0dWFsX3BhcmFtID0gbGlzdChhY3R1YWxfcGFyYW1zLmtleXMoKSkKICAgICAgICAgICAgc2NyaXB0X2JvZHkgPSB7cGFyYW06ICdfJy5qb2luKHJlLnNwbGl0KCdcc1xzKicsIHBhcmFtLmxvd2VyKCkuc3RyaXAoKSkpICsgJ19wYXJhbScgZm9yIHBhcmFtIGluIGFjdHVhbF9wYXJhbX0KICAgICAgICAgICAgcHJpbnQoJy8vLy8vLy8vLy8vLy8vJyxzY3JpcHRfYm9keSkKICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMgPSBbXQogICAgICAgICAgICBhY3R1YWxfZm9ybWF0cyA9IG5vZGUuZm9ybWF0cwogICAgICAgICAgICBOb25lVHlwZSA9IHR5cGUoTm9uZSkKICAgICAgICAKICAgICAgICAgICAgIyBWYWx1ZSB0eXBlIGFzIFN0cmluZyBvciBOb24tc3RyaW5nIGRlcGVuZGluZyBvbiBmb3JtYXQgdHlwZQogICAgICAgICAgICBmb3Iga2V5LCB2YWwgaW4gc2NyaXB0X2JvZHkuaXRlbXMoKTogCiAgICAgICAgICAgICAgICBpZiBhY3R1YWxfZm9ybWF0c1trZXldID09ICd0ZXh0JzoKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X3BhcmFtcy5hcHBlbmQodmFsICsgJz1cJzwnICsga2V5ICsgJz5cJycpIAogICAgICAgICAgICAgICAgZWxpZiBhY3R1YWxfZm9ybWF0c1trZXldID09ICd0ZXh0YXJlYSc6CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9XCdcJ1wnPCcgKyBrZXkgKyAnPlwnXCdcJycpIAogICAgICAgICAgICAgICAgZWxpZiBhY3R1YWxfZm9ybWF0c1trZXldID09ICdpbnRlZ2VyJyBvciBhY3R1YWxfZm9ybWF0c1trZXldID09ICdpbnQnOgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPTwnICsga2V5ICsgJz4nKQogICAgICAgICAgICAgICAgZWxpZiBhY3R1YWxfZm9ybWF0c1trZXldID09ICdib29sJzoKICAgICAgICAgICAgICAgICAgICAjIGtleSA9ICdUcnVlJyBpZiBrZXkgPT0gJ3RydWUnIGVsc2UgJ0ZhbHNlJwogICAgICAgICAgICAgICAgICAgIHByaW50KCdrZXknLCBrZXkpCiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9PCcgKyBrZXkgKyAnPicpCiAgICAgICAgICAgICAgICBlbGlmICdkcm9wJyBpbiBhY3R1YWxfZm9ybWF0c1trZXldLmxvd2VyKCk6ICAjIGZvciBkcm9wIGRvd24gdmFsdWVzCiAgICAgICAgICAgICAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgPT0gJ0RhdGFFeHRyYWN0b3InOgogICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxfZm9ybWF0c1thY3R1YWxfZm9ybWF0c1trZXldXSA9IFt7fV0KICAgICAgICAgICAgICAgICAgICBpZiBpc2luc3RhbmNlKGFjdHVhbF9mb3JtYXRzW2FjdHVhbF9mb3JtYXRzW2tleV1dWzBdLCBzdHIpIGFuZCBhY3R1YWxfZm9ybWF0c1thY3R1YWxfZm9ybWF0c1trZXldXVswXS5pc2FscGhhKCk6CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X3BhcmFtcy5hcHBlbmQodmFsICsgJz1cJzwnICsga2V5ICsgJz5cJycpCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9PCcgKyBrZXkgKyAnPicpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPTwnICsga2V5ICsgJz4nKQogICAgICAgICAgICAgICAgCiAgICAgICAgIyBHZW5lcmF0aW5nIGZ1bmN0aW9uIGNhbGwKICAgICAgICBpZiBsZW4ob3V0cHV0cykgPiAwOgogICAgICAgICAgICBjYWxsID0gJyAgICAnICsgJywnLmpvaW4ob3V0cHV0cykgKyAnID0gJyArIG5vZGVuYW1lICsgJygnICsgJywnLmpvaW4oaW5wdXRzKQogICAgICAgICAgICBpZiBsZW4oZGVmYXVsdF9wYXJhbXMpID4gMDoKICAgICAgICAgICAgICAgIGNhbGwgKz0gJywgJyBpZiBsZW4oaW5wdXRzKSA+IDAgZWxzZSAnJwogICAgICAgICAgICAgICAgY2FsbCArPSAnLCcuam9pbihkZWZhdWx0X3BhcmFtcykKICAgICAgICAgICAgY2FsbCArPSAgJylcbicKICAgICAgICBlbHNlOgogICAgICAgICAgICBjYWxsID0gJyAgICAnICsgbm9kZW5hbWUgKyAnKCcgKyAnLCcuam9pbihpbnB1dHMpCiAgICAgICAgICAgIGlmIGxlbihkZWZhdWx0X3BhcmFtcykgPiAwOgogICAgICAgICAgICAgICAgY2FsbCArPSAnLCAnIGlmIGxlbihpbnB1dHMpID4gMCBlbHNlICcnCiAgICAgICAgICAgICAgICBjYWxsICs9ICcsJy5qb2luKGRlZmF1bHRfcGFyYW1zKQogICAgICAgICAgICBjYWxsICs9ICAnKVxuJyAgIAogICAgICAgICAgICAKICAgICAgICAjIEZpbGxpbmcgdGhlIHVzZXIgaW5wdXR0ZWQgdmFsdWVzIGluIGZ1bmN0aW9uIGNhbGwKICAgICAgICBjYWxsID0gZmlsbERhdGFub2RlKG5vZGUsIGNhbGwpIAogICAgICAgIAogICAgICAgIGlmIG5vZGUuY2xhc3NOYW1lID09ICdGbGFza0FQUCc6CiAgICAgICAgICAgIGZsYXNrX2NhbGwgKz0gY2FsbAogICAgICAgIGlmIG5vZGUuY2xhc3NOYW1lICE9ICdGbGFza0FQUCc6CiAgICAgICAgICAgIGV4ZWN1dGlvbk9yZGVyID0gZXhlY3V0aW9uT3JkZXIgKyBjYWxsICAgIAoKICAgIHByaW50KCdleGVjdXRpb25PcmRlcicsIGV4ZWN1dGlvbk9yZGVyKQogICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3tleGVjdXRpb25PcmRlcn0nLCBleGVjdXRpb25PcmRlcikKICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7ZXhlY3V0ZWZsYXNrfScsIGZsYXNrX2NhbGwpCiAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgnXHInLCAnXG4nKQogICAgCiAgICAKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oYXJnc0RpY3RbJ3NjcmlwdFBhdGgnXSwgYXJnc0RpY3RbJ3BpcGVsaW5lTmFtZSddICsgJ19nZW5lcmF0ZWRDb2RlLnB5JyksICd3JykgYXMgZjoKICAgICAgICBmLndyaXRlbGluZXMocGlwZWxpbmVDb2RlKQoKCmdlbmVyYXRlU2NyaXB0KHBpcGVsaW5lX2pzb24pCgpwcmludCgnQ29tcGxldGVkJykKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgo=","leo1311"
"CHACDGNR87605","CHACDGNR87605_leo1311.py","aW1wb3J0IHN5cywgb3MNCiMgZnJvbSB1cmxsaWIucGFyc2UgaW1wb3J0IHVybHBhcnNlDQppbXBvcnQgc3lzDQppbXBvcnQgb3MucGF0aA0KaW1wb3J0IGpzb24NCmltcG9ydCByZQ0KZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUNCmZyb20gY29sbGVjdGlvbnMgaW1wb3J0IGRlZmF1bHRkaWN0DQoNCmFyZ3VtZW50cyA9IHN5cy5hcmd2DQphcmdzRGljdCA9IHt9DQpmb3IgYXJnIGluIGFyZ3VtZW50czoNCiAgICB0cnk6DQogICAgICAgIGFyZ3NEaWN0W2FyZy5zcGxpdCgnOicpWzBdXSA9ICgnOicpLmpvaW4oYXJnLnNwbGl0KCc6JylbMTpdKQ0KICAgIGV4Y2VwdDoNCiAgICAgICAgYSA9ICdlcnJvcicNCiAgICAgICAgDQpqc29uX2ZpbGUgPSBvcy5wYXRoLmpvaW4oYXJnc0RpY3RbJ3NjcmlwdFBhdGgnXSwgJ3BpcGVsaW5lLmpzb24nKQ0KDQp3aXRoIG9wZW4oanNvbl9maWxlKSBhcyBmOg0KICAgIGltcG9ydCBqc29uDQogICAgcGlwZWxpbmVfanNvbiA9IGpzb24ubG9hZChmKQ0KICAgIHByaW50KHBpcGVsaW5lX2pzb24pDQogDQoNCiMgYmFzZSBzY3JpcHQgDQpkZWYgYmFzZVNjcmlwdCgpOg0KICAgIHJldHVybiAnJycNCmltcG9ydCBzeXMNCmltcG9ydCBvcw0KaW1wb3J0IHN1YnByb2Nlc3MNCmltcG9ydCBsb2dnaW5nDQoNCntpbXBvcnRzfQ0KDQojIG9zLmVudmlyb25bJ0hUVFBfUFJPWFknXT0naHR0cDovL2JscnByb3h5LmFkLmluZm9zeXMuY29tOjgwJw0KIyBvcy5lbnZpcm9uWydIVFRQU19QUk9YWSddPSdodHRwOi8vYmxycHJveHkuYWQuaW5mb3N5cy5jb206ODAnDQojIG9zLmVudmlyb25bJ2h0dHBfcHJveHknXT0naHR0cDovL2JscnByb3h5LmFkLmluZm9zeXMuY29tOjgwJw0KIyBvcy5lbnZpcm9uWydodHRwc19wcm94eSddPSdodHRwOi8vYmxycHJveHkuYWQuaW5mb3N5cy5jb206ODAnDQoNCiMgb3MuZW52aXJvblsnTk9fUFJPWFknXT0nMTAuKixsb2NhbGhvc3QsMC4wLjAuMCx2aWN0bHBhc3QwMiwwLjAuMC4wLDEyNy4wLjAuMSwxMC44MS43OC4xNDYsdmljdGNiZmMxNjAsMTAuMTU2Ljg5LjgsMTAuMjI0LjIxNi4xMCwxMC42Ni4xNS4xMDAnDQpyZXF1aXJlbWVudHMgPSBbe3JlcXVpcmVtZW50c31dDQpmb3IgbW9kdWxlIGluIHJlcXVpcmVtZW50czoNCiAgICBzdWJwcm9jZXNzLnJ1bihzeXMuZXhlY3V0YWJsZSArICcgLW0gcGlwIGluc3RhbGwgJysgbW9kdWxlICsgJyAtLWluZGV4LXVybCBodHRwczovL3NocmV5YV9iYW5zYWxAYWQuaW5mb3N5cy5jb206Y21WbWRHdHVPakF4T2pFM01qSTVNemsxTWpBNmIyNVljM1pWUlVZeFYydFlSMVZEUzFwM2VsTkZNa3hRT0hwTUBpbmZ5YXJ0aWZhY3RvcnkuamZyb2cuaW8vYXJ0aWZhY3RvcnkvYXBpL3B5cGkvcHlwaS1yZW1vdGUvc2ltcGxlIC0tdHJ1c3RlZC1ob3N0IGluZnlhcnRpZmFjdG9yeS5qZnJvZy5pbycsc2hlbGw9VHJ1ZSkNCiAgICAjIHN1YnByb2Nlc3MucnVuKHN5cy5leGVjdXRhYmxlICsgJyAtbSBwaXAgaW5zdGFsbCAnKyBtb2R1bGUpDQogICAgcHJpbnQoIklOU1RBTExJTkciK21vZHVsZSkNCg0KbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pDQpsb2dnZXIuc2V0TGV2ZWwobG9nZ2luZy5ERUJVRykNCmhhbmRsZXIgPSBsb2dnaW5nLlN0cmVhbUhhbmRsZXIoKQ0KZm9ybWF0dGVyID0gbG9nZ2luZy5Gb3JtYXR0ZXIoJyUoYXNjdGltZSlzIC0gJShsZXZlbG5hbWUpcyAtICUobWVzc2FnZSlzJykNCmhhbmRsZXIuc2V0Rm9ybWF0dGVyKGZvcm1hdHRlcikNCmxvZ2dlci5hZGRIYW5kbGVyKGhhbmRsZXIpDQoNCnRpY2tldF9udW1iZXIgPSAiIg0KDQpjaGF0Ym90X3BhcmFtcyA9IHtjaGF0Ym90X3BhcmFtc30NCg0KDQp7ZnVuY3Rpb25zfQ0KDQpkZWYgZXhlY3V0ZVBpcGVsaW5lKCk6DQp7ZXhlY3V0aW9uT3JkZXJ9DQoNCg0KaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoNCiAgICBleGVjdXRlUGlwZWxpbmUoKQ0KICAgIHByaW50KCdDb21wbGV0ZWQnKQ0KJycnDQoNCiMgYmFzZSBzY3JpcHQgDQpkZWYgYmFzZVNjcmlwdF9mbGFzaygpOg0KICAgIHJldHVybiAnJycNCmltcG9ydCBzeXMNCmltcG9ydCBvcw0KaW1wb3J0IHN1YnByb2Nlc3MNCg0Ke2ltcG9ydHN9DQoNCmltcG9ydCBsb2dnaW5nDQoNCiMgb3MuZW52aXJvblsnSFRUUF9QUk9YWSddPSdodHRwOi8vYmxycHJveHkuYWQuaW5mb3N5cy5jb206ODAnDQojIG9zLmVudmlyb25bJ0hUVFBTX1BST1hZJ109J2h0dHA6Ly9ibHJwcm94eS5hZC5pbmZvc3lzLmNvbTo4MCcNCiMgb3MuZW52aXJvblsnaHR0cF9wcm94eSddPSdodHRwOi8vYmxycHJveHkuYWQuaW5mb3N5cy5jb206ODAnDQojIG9zLmVudmlyb25bJ2h0dHBzX3Byb3h5J109J2h0dHA6Ly9ibHJwcm94eS5hZC5pbmZvc3lzLmNvbTo4MCcNCg0KIyBvcy5lbnZpcm9uWydOT19QUk9YWSddPScxMC4qLGxvY2FsaG9zdCwwLjAuMC4wLHZpY3RscGFzdDAyLDAuMC4wLjAsMTI3LjAuMC4xLDEwLjgxLjc4LjE0Nix2aWN0Y2JmYzE2MCwxMC4xNTYuODkuOCwxMC4yMjQuMjE2LjEwLDEwLjY2LjE1LjEwMCcNCnJlcXVpcmVtZW50cyA9IFt7cmVxdWlyZW1lbnRzfV0NCmZvciBtb2R1bGUgaW4gcmVxdWlyZW1lbnRzOg0KICAgIHN1YnByb2Nlc3MucnVuKHN5cy5leGVjdXRhYmxlICsgJyAtbSBwaXAgaW5zdGFsbCAnKyBtb2R1bGUgKyAnIC0taW5kZXgtdXJsIGh0dHBzOi8vc2hyZXlhX2JhbnNhbEBhZC5pbmZvc3lzLmNvbTpjbVZtZEd0dU9qQXhPakUzTWpJNU16azFNakE2YjI1WWMzWlZSVVl4VjJ0WVIxVkRTMXAzZWxORk1reFFPSHBNQGluZnlhcnRpZmFjdG9yeS5qZnJvZy5pby9hcnRpZmFjdG9yeS9hcGkvcHlwaS9weXBpLXJlbW90ZS9zaW1wbGUgLS10cnVzdGVkLWhvc3QgaW5meWFydGlmYWN0b3J5Lmpmcm9nLmlvJyxzaGVsbD1UcnVlKQ0KDQoNCmxvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKF9fbmFtZV9fKQ0KbG9nZ2VyLnNldExldmVsKGxvZ2dpbmcuREVCVUcpDQpoYW5kbGVyID0gbG9nZ2luZy5TdHJlYW1IYW5kbGVyKCkNCmZvcm1hdHRlciA9IGxvZ2dpbmcuRm9ybWF0dGVyKCclKGFzY3RpbWUpcyAtICUobGV2ZWxuYW1lKXMgLSAlKG1lc3NhZ2UpcycpDQpoYW5kbGVyLnNldEZvcm1hdHRlcihmb3JtYXR0ZXIpDQpsb2dnZXIuYWRkSGFuZGxlcihoYW5kbGVyKQ0KDQp0aWNrZXRfbnVtYmVyID0gIiINCg0KY2hhdGJvdF9wYXJhbXMgPSB7Y2hhdGJvdF9wYXJhbXN9DQoNCntmdW5jdGlvbnN9DQoNCntmbGFza19hcHB9DQoNCmRlZiBleGVjdXRlKCk6DQp7ZXhlY3V0ZWZsYXNrfQ0KDQoNCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6DQogICAgZXhlY3V0ZSgpDQogICAgcHJpbnQoJ0NvbXBsZXRlZCcpDQonJycNCg0KIyBOb2RlIA0KY2xhc3MgR3JhcGg6DQoJZGVmIF9faW5pdF9fKHNlbGYsIHZlcnRpY2VzKToNCgkJc2VsZi5ncmFwaCA9IGRlZmF1bHRkaWN0KGxpc3QpDQoJCXNlbGYuViA9IHZlcnRpY2VzDQoJDQoJZGVmIGFkZEVkZ2Uoc2VsZiwgdSwgdik6DQoJCXNlbGYuZ3JhcGhbdV0uYXBwZW5kKHYpDQoNCglkZWYgdG9wb2xvZ2ljYWxTb3J0VXRpbChzZWxmLCB2LCB2aXNpdGVkLCBzdGFjayk6DQoJCXZpc2l0ZWRbdl0gPSBUcnVlDQoJCWZvciBpIGluIHNlbGYuZ3JhcGhbdl06DQoJCQlpZiB2aXNpdGVkW2ldID09IEZhbHNlOg0KCQkJCXNlbGYudG9wb2xvZ2ljYWxTb3J0VXRpbChpLCB2aXNpdGVkLCBzdGFjaykNCgkJc3RhY2suYXBwZW5kKHYpDQoNCglkZWYgdG9wb2xvZ2ljYWxTb3J0KHNlbGYpOg0KCQl2aXNpdGVkID0gW0ZhbHNlXSpzZWxmLlYNCgkJc3RhY2sgPSBbXQ0KDQoJCWZvciBpIGluIHJhbmdlKHNlbGYuVik6DQoJCQlpZiB2aXNpdGVkW2ldID09IEZhbHNlOg0KCQkJCXNlbGYudG9wb2xvZ2ljYWxTb3J0VXRpbChpLCB2aXNpdGVkLCBzdGFjaykNCg0KCQlyZXR1cm4gc3RhY2tbOjotMV0gDQoNCmNsYXNzIE5vZGU6DQogICAgZGVmIF9faW5pdF9fKHNlbGYsIGpzb25PYmplY3QpOg0KICAgICAgICBzZWxmLmxldmVsID0gMDsNCiAgICAgICAgc2VsZi5pZCA9IGpzb25PYmplY3QuZ2V0KCdpZCcsJycpOw0KICAgICAgICBzZWxmLm5hbWUgPSBqc29uT2JqZWN0LmdldCgnbmFtZScsJycpOw0KICAgICAgICBzZWxmLmNsYXNzTmFtZSA9IGpzb25PYmplY3QuZ2V0KCdjbGFzc25hbWUnLCBzZWxmLm5hbWUgKyAnQ29uZmlnJyk7DQogICAgICAgIHNlbGYuY2F0ZWdvcnkgPSBqc29uT2JqZWN0LmdldCgnY2F0ZWdvcnknLCcnKTsNCiAgICAgICAgc2VsZi5hdHRyaWJ1dGVzID0ganNvbk9iamVjdC5nZXQoJ2F0dHJpYnV0ZXMnLCcnKTsNCiAgICAgICAgc2VsZi5jb25uZWN0b3JzID0ganNvbk9iamVjdC5nZXQoJ2Nvbm5lY3RvcnMnLCcnKTsNCiAgICAgICAgc2VsZi5wYXJlbnQgPSBOb25lDQogICAgICAgIHNlbGYuZm9ybWF0cyA9IGpzb25PYmplY3QuZ2V0KCdmb3JtYXRzJywnJyk7ICAgICAgICANCg0KIyBCdWlsZGluZyBEQUcgb3JkZXINCmRlZiBidWlsZERBR09yZGVyKGVsZW1lbnRzKToNCiAgICAjIGdldCBhbGwgZWxlbWVudHMgZnJvbSBqc29uDQogICAgZWxlbWVudGxpc3QgPSBbXQ0KICAgIG5vZGVsaXN0ID0gW10NCiAgICBmb3IgZSBpbiBlbGVtZW50czoNCiAgICAgICAgbm9kZSA9IE5vZGUoZSkNCiAgICAgICAgbm9kZWxpc3QuYXBwZW5kKG5vZGUpDQoNCiAgICBpZF90b19udW0gPSB7fQ0KICAgIG51bV90b19pZCA9IHt9DQogICAgaWRfdG9fbm9kZSA9IHt9DQogICAgZm9yIGksIGVsZSBpbiBlbnVtZXJhdGUobm9kZWxpc3QpOg0KICAgICAgICBpZF90b19udW1bZWxlLmlkXSA9IGkNCiAgICAgICAgbnVtX3RvX2lkW2ldID0gZWxlLmlkDQogICAgICAgIGlkX3RvX25vZGVbZWxlLmlkXSA9IGVsZQ0KDQogICAgdmVydGV4ID0gbGVuKG5vZGVsaXN0KQ0KICAgIGcgPSBHcmFwaCh2ZXJ0ZXgpICANCg0KICAgIGZvciBpdGVtIGluIG5vZGVsaXN0Og0KICAgICAgICBwYXJlbnRpZCA9ICcnDQogICAgICAgIGNoaWxkaWQgPSAnJw0KICAgICAgICBmb3IgY29ubmVjdG9yIGluIGl0ZW0uY29ubmVjdG9yczoNCiAgICAgICAgICAgIGlmIChjb25uZWN0b3JbJ3R5cGUnXSA9PSAndGFyZ2V0Jyk6DQogICAgICAgICAgICAgICAgcGFyZW50aWQgPSBjb25uZWN0b3JbJ2VsZW1lbnRJZCddDQogICAgICAgICAgICAgICAgZy5hZGRFZGdlKGlkX3RvX251bVtwYXJlbnRpZF0sIGlkX3RvX251bVtpdGVtLmlkXSkNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIGlmIChjb25uZWN0b3JbJ3R5cGUnXSA9PSAnc291cmNlJyk6DQogICAgICAgICAgICAgICAgY2hpbGRpZCA9IGNvbm5lY3RvclsnZWxlbWVudElkJ10NCiAgICAgICAgICAgICAgICBnLmFkZEVkZ2UoaWRfdG9fbnVtW2l0ZW0uaWRdLCBpZF90b19udW1bY2hpbGRpZF0pDQoNCiAgICBzdGFjayA9IGcudG9wb2xvZ2ljYWxTb3J0KCkNCiAgICBzdGFjayA9IFtudW1fdG9faWRbbnVtXSBmb3IgbnVtIGluIHN0YWNrXQ0KDQogICAgZm9yIGlkIGluIHN0YWNrOg0KICAgICAgICAgIGVsZW1lbnRsaXN0LmFwcGVuZChpZF90b19ub2RlW2lkXSkNCiAgICByZXR1cm4gZWxlbWVudGxpc3QNCg0KIyBmaWxsIGFsbCBqb2IgcGFyYW1zIGluIHBpcGVsaW5lSnNvbg0KZGVmIGZpbGxKb2JQYXJhbXMocGlwZWxpbmVKc29uKToNCg0KICAgIG9yZ2FuaXphdGlvbiA9IHBpcGVsaW5lSnNvbi5nZXQoJ29yZycsICdJTkZPU1lTJykNCg0KICAgICMgU2V0IGFsbCBKb2IgUGFyYW1zDQogICAgam9iUGFyYW1zID0ge30NCiAgICBqb2JQYXJhbXNbJ05leHRFeGVjdXRpb25UaW1lJ10gPSBwaXBlbGluZUpzb24uZ2V0KCdOZXh0X0V4ZWN1dGlvbl9UaW1lJywgJycpDQogICAgam9iUGFyYW1zWydDdXJyZW50RXhlY3V0aW9uVGltZSddID0gcGlwZWxpbmVKc29uLmdldCgnQ3VycmVudF9FeGVjdXRpb25fVGltZScsICcnKQ0KICAgIGpvYlBhcmFtc1snTGFzdFN1Y2Nlc3NmdWxFeGVjdXRpb25UaW1lJ10gPSBwaXBlbGluZUpzb24uZ2V0KCdMYXN0X1N1Y2Nlc3NmdWxfRXhlY3V0aW9uX1RpbWUnLCAnJykNCiAgICBqb2JQYXJhbXNbJ0xhc3RFeGVjdXRpb25UaW1lJ10gPSBwaXBlbGluZUpzb24uZ2V0KCdMYXN0X0V4ZWN1dGlvbl9UaW1lJywgJycpDQoNCiAgICByZWdFeCA9ICc8am9iUGFyYW1zOihbXHdcLi1dKyk7KC4qPyk+Jw0KICAgIHBpcGVsaW5lSnNvbkxpc3QgPSBbXQ0KDQogICAgZm9yIGl0ZW0gaW4gcGlwZWxpbmVKc29uWydlbGVtZW50cyddOg0KICAgICAgICBpdGVtVGV4dCA9IGpzb24uZHVtcHMoaXRlbSkNCiAgICAgICAgIyByZXBsYWNlIE9yZw0KICAgICAgICBpdGVtVGV4dCA9IGl0ZW1UZXh0LnJlcGxhY2UoJzxqb2JQYXJhbXM6b3JnTmFtZT4nLCBvcmdhbml6YXRpb24pDQogICAgICAgICMgcmVwbGFjZSB0aW1lc3RhbXBzDQogICAgICAgIHBhcmFtcyA9IHJlLmZpbmRhbGwocmVnRXgsIGl0ZW1UZXh0KQ0KICAgICAgICBmb3IgcCBpbiBwYXJhbXM6DQogICAgICAgICAgICB0ZXh0VG9yZXBsYWNlID0gJzxqb2JQYXJhbXM6ezB9O3sxfT4nLmZvcm1hdChwWzBdLCBwWzFdKQ0KICAgICAgICAgICAgaWYgam9iUGFyYW1zW3BbMF1dICE9ICcnIGFuZCBqb2JQYXJhbXNbcFswXV0gIT0gLTE6DQogICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICBkdCA9IGRhdGV0aW1lLnN0cnB0aW1lKGpvYlBhcmFtc1twWzBdXSwgJyVhLCAlZCAlYiAlWSAlSDolTTolUycpDQogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VXaXRoID0gZGF0ZXRpbWUuc3RyZnRpbWUoZHQsIHBbMV0pDQogICAgICAgICAgICAgICAgICAgIGl0ZW1UZXh0ID0gaXRlbVRleHQucmVwbGFjZSh0ZXh0VG9yZXBsYWNlLCByZXBsYWNlV2l0aCkNCiAgICAgICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgICAgIGEgPSAxDQogICAgICAgIHBpcGVsaW5lSnNvbkxpc3QuYXBwZW5kKGpzb24ubG9hZHMoaXRlbVRleHQpKQ0KICAgIHJldHVybiBwaXBlbGluZUpzb25MaXN0DQoNCg0KIyBCdWlsZCBEQUcgb2YgYWxsIHRoZSBub2Rlcw0KIyBSZXR1cm5zIHRoZSBsaXN0IG9mIGVsZW1lbnRzIGluIG9yZGVyDQpkZWYgYnVpbGREQUcocGlwZWxpbmVKc29uTGlzdCk6DQogICAgcHJpbnQoJ3BpcGVsaW5lSnNvbkxpc3QnLCApDQogICAgb3JkZXJlZEVsZW1lbnRMaXN0ID0gYnVpbGREQUdPcmRlcihwaXBlbGluZUpzb25MaXN0KSAjIERBRy5idWlsZChwaXBlbGluZUpzb25MaXN0KTsNCiAgICBvcmRlcmVkRWxlbWVudExpc3QgPSBsaXN0KGZpbHRlcihOb25lLCBvcmRlcmVkRWxlbWVudExpc3QpKQ0KICAgIHJldHVybiBvcmRlcmVkRWxlbWVudExpc3QNCg0KDQojIGZpbGwgbm9kZSBhdHRyaWJ1dGVzIHdpdGggQWN0dWFsIERhdGENCmRlZiBmaWxsRGF0YW5vZGUobm9kZSwgc2NyaXB0KToNCiAgICBhdHRyaWJ1dGVzID0gcmUuZmluZGFsbCgnXDwoLio/KVw+Jywgc2NyaXB0KQ0KICAgIA0KICAgIGZvciBpdGVtIGluIGF0dHJpYnV0ZXM6DQoNCiAgICAgICAgaW5wdXRfc3BsaXQgPSBpdGVtLnNwbGl0KCcuJykNCiAgICAgICAga2V5cyA9ICcnLmpvaW4oWycnJ1snezB9J10nJycuZm9ybWF0KGspIGZvciBrIGluIGlucHV0X3NwbGl0XSkNCiAgICAgICAgDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgdmFsdWUgPSBldmFsKCcnJ25vZGUuYXR0cmlidXRlcycnJyArICcnJ3swfScnJy5mb3JtYXQoa2V5cykpDQogICAgICAgICAgICBpZiBub2RlLmNsYXNzTmFtZSAhPSAnRGF0YXNldEV4dHJhY3RvckNvbmZpZycgYW5kIG5vZGUuY2xhc3NOYW1lICE9ICdEYXRhc2V0TG9hZGVyQ29uZmlnJzoNCiAgICAgICAgICAgICAgICBmb3JtID0gZXZhbCgnJydub2RlLmZvcm1hdHMnJycgKyAnJyd7MH0nJycuZm9ybWF0KGtleXMpKQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGlmIGZvcm0gPT0gJ2Jvb2wnOg0KICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICdUcnVlJyBpZiB2YWx1ZT09J3RydWUnIGVsc2UgJ0ZhbHNlJw0KICAgICAgICAgICAgDQogICAgICAgICAgICBzY3JpcHQgPSBzY3JpcHQucmVwbGFjZSgnPCcgKyBpdGVtICsgJz4nLCBzdHIodmFsdWUpKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgcHJpbnQoJ2luIEV4Y2VwdCcpDQogICAgICAgICAgICBzY3JpcHQgPSBzY3JpcHQucmVwbGFjZSgnPCcgKyBpdGVtICsgJz4nLCAnJykNCg0KICAgIHJldHVybiBzY3JpcHQNCg0KIyBmaWxsIG5vZGUgYXR0cmlidXRlcyB3aXRoIEFjdHVhbCBEYXRhDQpkZWYgZmlsbERhdGFub2RlKG5vZGUsIHNjcmlwdCk6DQogICAgYXR0cmlidXRlcyA9IHJlLmZpbmRhbGwoJ1w8KC4qPylcPicsIHNjcmlwdCkNCiAgICANCiAgICBmb3IgaXRlbSBpbiBhdHRyaWJ1dGVzOg0KDQogICAgICAgIGlucHV0X3NwbGl0ID0gaXRlbS5zcGxpdCgnLicpDQogICAgICAgIGtleXMgPSAnJy5qb2luKFsnJydbJ3swfSddJycnLmZvcm1hdChrKSBmb3IgayBpbiBpbnB1dF9zcGxpdF0pDQogICAgICAgIA0KICAgICAgICB0cnk6DQogICAgICAgICAgICANCiAgICAgICAgICAgIHZhbHVlID0gZXZhbCgnJydub2RlLmF0dHJpYnV0ZXMnJycgKyAnJyd7MH0nJycuZm9ybWF0KGtleXMpKQ0KICAgICAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgIT0gJ0RhdGFzZXRFeHRyYWN0b3JDb25maWcnOg0KICAgICAgICAgICAgICAgIGZvcm0gPSBldmFsKCcnJ25vZGUuYXR0cmlidXRlcycnJyArICcnJ3swfScnJy5mb3JtYXQoa2V5cykpDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgaWYgZm9ybSA9PSAnYm9vbCc6DQogICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJ1RydWUnIGlmIHZhbHVlLmxvd2VyKCk9PSd0cnVlJyBlbHNlICdGYWxzZScNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgc2NyaXB0ID0gc2NyaXB0LnJlcGxhY2UoJzwnICsgaXRlbSArICc+Jywgc3RyKHZhbHVlKSkNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgDQogICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgIHByaW50KCdpbiBFeGNlcHQnKQ0KICAgICAgICAgICAgc2NyaXB0ID0gc2NyaXB0LnJlcGxhY2UoJzwnICsgaXRlbSArICc+JywgJycpDQoNCiAgICByZXR1cm4gc2NyaXB0DQoNCmRlZiBnZW5lcmF0ZVNjcmlwdChwaXBlbGluZUpzb24pOg0KDQogICAgIyBmb3JtYXQgdHlwZSBmb3IgcHJlLXByb2Nlc3Npbmcgbm9kZS9weXRob24tc2NyaXB0IG5vZGUNCiAgICBkZWYgY29uKHMsIHQpOg0KICAgICAgICBpZiBzPT0naW50JzoNCiAgICAgICAgICAgIHJldHVybiAnaW50ZWdlcicNCiAgICAgICAgZWxpZiBzPT0nc3RyJzoNCiAgICAgICAgICAgIHJldHVybiAndGV4dCcNCiAgICAgICAgZWxpZiBzPT0nbGlzdCc6DQogICAgICAgICAgICByZXR1cm4gJ2xpc3QnDQogICAgICAgIGVsaWYgcz09J2Jvb2wnOg0KICAgICAgICAgICAgcmV0dXJuICdib29sJw0KICAgICAgICBlbGlmIGlzaW5zdGFuY2UodCwgc3RyKToNCiAgICAgICAgICAgIHJldHVybiAndGV4dCcNCiAgICAgICAgZWxpZiBpc2luc3RhbmNlKHQsIGludCk6DQogICAgICAgICAgICByZXR1cm4gJ2ludGVnZXInDQogICAgICAgIHJldHVybiAnYm9vbCcNCg0KDQogICAgcGlwZWxpbmVFbGVtZW50cyA9IGZpbGxKb2JQYXJhbXMocGlwZWxpbmVKc29uKQ0KICAgIG9yZGVyZWRFbGVtZW50TGlzdCA9IGJ1aWxkREFHKHBpcGVsaW5lRWxlbWVudHMpDQogICAgcmVxdWlyZW1lbnRzID0gW10NCiAgICBjaGF0Ym90X3BhcmFtcz0ge30NCiAgICBpbXBvcnRfbGluZXMgPSBbXQ0KICAgIGZ1bmN0aW9ucyA9IFtdDQogICAgZGF0YXNldF9leHRyYWN0b3JfcGFyYW0gPSB7fQ0KICAgIGRhdGFzZXRfbG9hZGVyX3BhcmFtcyA9IFtdDQogICAgZXh0cmFjdHNjcmlwdHN1ZmZpeCA9ICcnDQogICAgZnVuY3Rpb25fZmxhZyA9IHt9DQogICAgZmxhc2tfZmxhZyA9IEZhbHNlDQogICAgZmxhc2tfY2FsbCA9ICcnDQogICAgZmxhc2tfYXBwID0gW10NCg0KICAgICMgU2NyaXB0IGdlbmVyYXRpb24NCiAgICBmb3Igbm9kZSBpbiBvcmRlcmVkRWxlbWVudExpc3Q6DQogICAgICAgICMgRXh0cmFjdG9ycw0KICAgICAgICBlbGVtZW50ID0gbmV4dChlIGZvciBlIGluIHBpcGVsaW5lSnNvblsnZWxlbWVudHMnXSBpZiBlWydpZCddID09IG5vZGUuaWQpDQogICAgICAgIA0KICAgICAgICANCiAgICAgICAgDQoNCiAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgPT0gJ0RhdGFzZXRFeHRyYWN0b3JDb25maWcnOiAgIA0KICAgICAgICAgICAgZXh0cmFjdG9yU2NyaXB0ID0gXA0KICAgICAgICAgICAgICAgIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddXVsnc2NyaXB0J10NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIA0KICAgICAgICAgICAgZXh0cmFjdG9yU2NyaXB0ID0gZXh0cmFjdG9yU2NyaXB0LnJlcGxhY2UoJ188aWQ+JywgJycpDQogICAgICAgICAgICBleHRyYWN0b3JwYXJhbXMgPSByZS5maW5kYWxsKCdkZWYgRGF0YXNldEV4dHJhY3Rvci4qXCguKj9cKScsIGV4dHJhY3RvclNjcmlwdCkNCg0KICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICMgUmV0cml2aW5nIHBhcmFtZXRlcnMgb2YgRGF0YXNldCBFeHRyYWN0b3INCiAgICAgICAgICAgICAgICBleHRyYWN0b3JwYXJhbXMgPSByZS5maW5kYWxsKCdcKC4qP1wpJywgZXh0cmFjdG9ycGFyYW1zWzBdKQ0KICAgICAgICAgICAgICAgIGV4dHJhY3RvcnBhcmFtcyA9IGV4dHJhY3RvcnBhcmFtc1swXVsxOi0xXS5zcGxpdCgnLCAnKQ0KICAgICAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgICAgIGV4dHJhY3RvcnBhcmFtcyA9IFtdDQogICAgICAgICAgICANCiAgICAgICAgICAgIHBhcmEgPSBbXQ0KICAgICAgICAgICAgZm9yIHAgaW4gZXh0cmFjdG9ycGFyYW1zOg0KICAgICAgICAgICAgICAgIHBhcmEuZXh0ZW5kKHAuc3BsaXQoJywnKSkNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgZGF0YXNldF9leHRyYWN0b3JfcGFyYW1bbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddXSA9IFtwLnNwbGl0KCc9JylbMF0uc3RyaXAoKSBmb3IgcCBpbiBwYXJhXQ0KICAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgICAgIGV4dHJhY3RvclNjcmlwdCA9IGV4dHJhY3RvclNjcmlwdC5yZXBsYWNlKCc8aWQ+Jywgbm9kZS5pZCkNCg0KICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnYXR0cmlidXRlcyddLCBzdHIpOg0KICAgICAgICAgICAgICAgIG5vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydhdHRyaWJ1dGVzJ10gPSBqc29uLmxvYWRzKG5vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydhdHRyaWJ1dGVzJ10pDQogICAgICAgICAgICBub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWydjb25uZWN0aW9uRGV0YWlscyddID0ganNvbi5sb2FkcygNCiAgICAgICAgICAgICAgICBub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWydjb25uZWN0aW9uRGV0YWlscyddKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBleHRyYWN0c2NyaXB0c3VmZml4ID0gZXh0cmFjdG9yU2NyaXB0DQogICAgICAgICAgICANCiAgICAgICAgICAgICMgQ2hlY2tpbmcgaWYgdGhlIGZ1bmN0aW9uIGRlZmluaXRpb24gaXMgYWxyZWFkeSBleGlzdHMgaW4gc2NyaXB0DQogICAgICAgICAgICBpZiAobm9kZS5jbGFzc05hbWUgKyBub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWyd0eXBlJ10pIGluIGZ1bmN0aW9uX2ZsYWc6DQogICAgICAgICAgICAgICAgcHJpbnQoJ2V4aXRzJywgKG5vZGUuY2xhc3NOYW1lICsgbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddKSkNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgZnVuY3Rpb25fZmxhZ1sobm9kZS5jbGFzc05hbWUgKyBub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWyd0eXBlJ10pXSA9IDENCiAgICAgICAgICAgICAgICBmdW5jdGlvbnMuYXBwZW5kKGV4dHJhY3RvclNjcmlwdCkNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaW1wb3J0X2xpbmVzID0gaW1wb3J0X2xpbmVzICsgXA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVtub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWyd0eXBlJ11dWydpbXBvcnRzJ10NCiAgICAgICAgICAgIHJlcXVpcmVtZW50cyA9IHJlcXVpcmVtZW50cyArIFwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddXS5nZXQoJ3JlcXVpcmVtZW50cycsW10pDQoNCiAgICAgICAgZWxpZiBub2RlLmNsYXNzTmFtZSA9PSAnQWRhcHRlck1ldGhvZENvbmZpZyc6DQogICAgICAgICAgICBwcmludCgnbm9kZSBuYW1lIGlzOiAnLCBub2RlLm5hbWUpDQogICAgICAgICAgICB0cmFuc2Zvcm1lclNjcmlwdCA9IGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bJ3NjcmlwdCddDQogICAgICAgICAgICBwcmludChlbGVtZW50KQ0KICAgICAgICAgICAgbm9kZW5hbWUgPSAnJy5qb2luKG5vZGUubmFtZS5zcGxpdCgnICcpKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICB0cmFuc2Zvcm1lclNjcmlwdCA9IHRyYW5zZm9ybWVyU2NyaXB0LnJlcGxhY2UoJ188aWQ+JywgJycpDQogICAgICAgICAgICB0cmFuc2Zvcm1lclNjcmlwdCA9IHRyYW5zZm9ybWVyU2NyaXB0LnJlcGxhY2UoJzxpZD4nLCBub2RlLmlkKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAjIENoZWNraW5nIGlmIHRoZSBmdW5jdGlvbiBkZWZpbml0aW9uIGlzIGFscmVhZHkgZXhpc3RzIGluIHNjcmlwdA0KICAgICAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgaW4gZnVuY3Rpb25fZmxhZzoNCiAgICAgICAgICAgICAgICBwcmludCgnZXhpdHMnLCBub2RlLmNsYXNzTmFtZSkNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgZnVuY3Rpb25fZmxhZ1tub2RlLmNsYXNzTmFtZV0gPSAxDQogICAgICAgICAgICAgICAgZnVuY3Rpb25zLmFwcGVuZCh0cmFuc2Zvcm1lclNjcmlwdCkNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIGltcG9ydF9saW5lcyA9IGltcG9ydF9saW5lcyArIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bJ2ltcG9ydHMnXQ0KICAgICAgICAgICAgaWYgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXS5nZXQoJ3JlcXVpcmVtZW50cycsICcnKSAhPSAnJzoNCiAgICAgICAgICAgICAgICByZXF1aXJlbWVudHMgPSByZXF1aXJlbWVudHMgKyBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddLmdldCgncmVxdWlyZW1lbnRzJywgW10pDQogICAgICAgICAgICAgICAgcHJpbnQocmVxdWlyZW1lbnRzKQ0KDQogICAgICAgICAgICAgIA0KICAgICAgICAjIFByZS1wcm9jZXNzaW5nIFNjcmlwdA0KICAgICAgICBlbGlmIG5vZGUuY2xhc3NOYW1lID09ICdTY3JpcHRUcmFuc2Zvcm1lckNvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1ByZVByb2Nlc3NpbmdTY3JpcHRDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdQb3N0UHJvY2Vzc2luZ1NjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ01vZGVsUHJlZGljdFNjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1B5dGhvblNjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1Bvc3RQeXRob25TY3JpcHRDb25maWcnOg0KICAgICAgICAgICAgcHJvY2Vzc2luZ1NjcmlwdCA9ICcnDQogICAgICAgICAgICBwcm9jZXNzaW5nU2NyaXB0ID0gKCcnKS5qb2luKG5vZGUuYXR0cmlidXRlc1snc2NyaXB0J10pDQogICAgICAgICAgICBwcmludChwcm9jZXNzaW5nU2NyaXB0KQ0KICAgICAgICAgICAgIyBwcm9jZXNzaW5nU2NyaXB0ID0gcHJvY2Vzc2luZ1NjcmlwdC5yZXBsYWNlKCdcXG4nLCAnXHInKQ0KICAgICAgICAgICAgI3Byb2Nlc3NpbmdTY3JpcHQgPSBwcm9jZXNzaW5nU2NyaXB0LnJlcGxhY2UoJ1xuJywgJ1xuJykNCiAgICAgICAgICAgICNwcm9jZXNzaW5nU2NyaXB0ID0gcHJvY2Vzc2luZ1NjcmlwdC5yZXBsYWNlKCdccicsICdcbicpDQogICAgICAgICAgICBwcmludChwcm9jZXNzaW5nU2NyaXB0KQ0KICAgICAgICAgICAgcHJvY2Vzc2luZ1NjcmlwdCA9IHByb2Nlc3NpbmdTY3JpcHQucmVwbGFjZSgnXzxpZD4nLCAnJykNCiAgICAgICAgICAgIHByb2Nlc3NpbmdTY3JpcHQgPSBwcm9jZXNzaW5nU2NyaXB0LnJlcGxhY2UoJzxpZD4nLCBub2RlLmlkKQ0KICAgICAgICAgICAgbm9kZW5hbWUgPSBub2RlLmF0dHJpYnV0ZXMuZ2V0KCdGdW5jdGlvbk5hbWUnLCAnJykNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgIyBDaGVja2luZyBpZiB0aGUgZnVuY3Rpb24gZGVmaW5pdGlvbiBpcyBhbHJlYWR5IGV4aXN0cyBpbiBzY3JpcHQNCiAgICAgICAgICAgIGlmIG5vZGVuYW1lIGluIGZ1bmN0aW9uX2ZsYWc6DQogICAgICAgICAgICAgICAgcHJpbnQoJ2V4aXRzJywgbm9kZW5hbWUpDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIGZ1bmN0aW9uX2ZsYWdbbm9kZW5hbWVdID0gMQ0KICAgICAgICAgICAgICAgIGZ1bmN0aW9ucy5hcHBlbmQocHJvY2Vzc2luZ1NjcmlwdCkNCiAgICAgICAgICAgIGlmIGlzaW5zdGFuY2Uobm9kZS5hdHRyaWJ1dGVzWydyZXF1aXJlbWVudHMnXSxzdHIpIDoNCiAgICAgICAgICAgICAgICByZXF1aXJlbWVudHMgPSByZXF1aXJlbWVudHMgKyBub2RlLmF0dHJpYnV0ZXNbJ3JlcXVpcmVtZW50cyddLnNwbGl0KCcsJykNCiAgICAgICAgICAgICAgICAjIHByaW50KGYiXG5cbiBAQEBAQEBAQEBAIFJlcXVpcmVtZW50cyBpbiBQeXRob24gU2NyaXB0czoge3JlcXVpcmVtZW50c31AQEBAQEBAQEBAQEBAXG5cbiIpDQogICAgICAgIA0KDQogICAgICAgICMgTG9hZGVycw0KICAgICAgICBlbGlmIG5vZGUuY2xhc3NOYW1lID09ICdEYXRhc2V0TG9hZGVyQ29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnTW9kZWxMb2FkZXJDb25maWcnOg0KDQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgbG9hZGVyc2NyaXB0ID0gZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVtub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWyd0eXBlJ11dWydzY3JpcHQnXQ0KICAgICAgICAgICAgICAgIHJlcXVpcmVtZW50cyA9IHJlcXVpcmVtZW50cyArIFwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddW25vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydkYXRhc291cmNlJ11bJ3R5cGUnXV0uZ2V0KCdyZXF1aXJlbWVudHMnLFtdKQ0KDQogICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgbG9hZGVyc2NyaXB0ID0gZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVsnc2NyaXB0J10NCiAgICAgICAgICAgICAgICByZXF1aXJlbWVudHMgPSByZXF1aXJlbWVudHMgKyBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddLmdldCgncmVxdWlyZW1lbnRzJywnJykNCiAgICAgICAgICAgIGxvYWRlcnNjcmlwdCA9IGxvYWRlcnNjcmlwdC5yZXBsYWNlKCdfPGlkPicsICcnKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAjIFJldHJpdmluZyBwYXJhbWV0ZXJzIG9mIERhdGFzZXQgTG9hZGVyDQogICAgICAgICAgICBleHRyYWN0b3JwYXJhbXMgPSByZS5maW5kYWxsKCdkZWYgRGF0YXNldExvYWRlclwoLio/XCknLCBsb2FkZXJzY3JpcHQpDQoNCiAgICAgICAgICAgIGV4dHJhY3RvcnBhcmFtcyA9IHJlLmZpbmRhbGwoJ1woLio/XCknLCBleHRyYWN0b3JwYXJhbXNbMF0pDQogICAgICAgICAgICANCiAgICAgICAgICAgIGV4dHJhY3RvcnBhcmFtcyA9IGV4dHJhY3RvcnBhcmFtc1swXVsxOi0xXS5zcGxpdCgnLCAnKQ0KICAgICAgICAgICAgcGFyYSA9IFtdDQogICAgICAgICAgICBmb3IgcCBpbiBleHRyYWN0b3JwYXJhbXM6DQogICAgICAgICAgICAgICAgcGFyYS5leHRlbmQocC5zcGxpdCgnLCcpKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBkYXRhc2V0X2xvYWRlcl9wYXJhbXMgPSBbcC5zcGxpdCgnPScpWzBdLnN0cmlwKCkgZm9yIHAgaW4gcGFyYV0NCiAgICAgICAgICAgIGxvYWRlcnNjcmlwdCA9IGxvYWRlcnNjcmlwdC5yZXBsYWNlKCc8aWQ+Jywgbm9kZS5pZCkNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgbm9kZS5hdHRyaWJ1dGVzLmdldCgnZGF0YXNldCcsICcnKSAhPSAnJyBhbmQgaXNpbnN0YW5jZShub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnYXR0cmlidXRlcyddLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIpOg0KICAgICAgICAgICAgICAgIG5vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydhdHRyaWJ1dGVzJ10gPSBqc29uLmxvYWRzKG5vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydhdHRyaWJ1dGVzJ10pDQogICAgICAgICAgICBpZiBub2RlLmF0dHJpYnV0ZXMuZ2V0KCdkYXRhc2V0JywgJycpICE9ICcnIGFuZCBpc2luc3RhbmNlKG5vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydkYXRhc291cmNlJ11bJ2Nvbm5lY3Rpb25EZXRhaWxzJ10gLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIpOg0KICAgICAgICAgICAgICAgIG5vZGUuYXR0cmlidXRlc1snZGF0YXNldCddWydkYXRhc291cmNlJ11bJ2Nvbm5lY3Rpb25EZXRhaWxzJ10gPSBqc29uLmxvYWRzKA0KICAgICAgICAgICAgICAgICAgICBub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWydjb25uZWN0aW9uRGV0YWlscyddKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAjIENoZWNraW5nIGlmIHRoZSBmdW5jdGlvbiBkZWZpbml0aW9uIGlzIGFscmVhZHkgZXhpc3RzIGluIHNjcmlwdA0KICAgICAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgaW4gZnVuY3Rpb25fZmxhZzoNCiAgICAgICAgICAgICAgICBwcmludCgnZXhpdHMnLCBub2RlLmNsYXNzTmFtZSkNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgZnVuY3Rpb25fZmxhZ1tub2RlLmNsYXNzTmFtZV0gPSAxDQogICAgICAgICAgICAgICAgZnVuY3Rpb25zLmFwcGVuZChsb2FkZXJzY3JpcHQpDQoNCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICBpbXBvcnRfbGluZXMgPSBpbXBvcnRfbGluZXMgKyBcDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVtub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWyd0eXBlJ11dWw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaW1wb3J0cyddDQoNCiAgICAgICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgICAgICBpbXBvcnRfbGluZXMgPSBpbXBvcnRfbGluZXMgKyBcDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVsnaW1wb3J0cyddDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgIGVsaWYgbm9kZS5jbGFzc05hbWUgPT0gJ0ZsYXNrQXBwJzoNCiAgICAgICAgICAgIGZsYXNrX2ZsYWcgPSBUcnVlDQogICAgICAgICAgICBwcm9jZXNzaW5nU2NyaXB0ID0gJycNCiAgICAgICAgICAgIHByb2Nlc3NpbmdTY3JpcHQgPSAoJycpLmpvaW4obm9kZS5hdHRyaWJ1dGVzWydzY3JpcHQnXSkNCiAgICAgICAgICAgIGZsYXNrX2FwcC5hcHBlbmQocHJvY2Vzc2luZ1NjcmlwdCkNCiAgICAgICAgICAgIHRyYW5zZm9ybWVyU2NyaXB0ID0gZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVsnc2NyaXB0J10NCiAgICAgICAgICAgIGZ1bmN0aW9ucy5hcHBlbmQodHJhbnNmb3JtZXJTY3JpcHQpDQogICAgICAgICAgICBpbXBvcnRfbGluZXMgPSBpbXBvcnRfbGluZXMgKyBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddWydpbXBvcnRzJ10NCiAgICAgICAgICAgIGlmIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ10uZ2V0KCdyZXF1aXJlbWVudHMnLCAnJykgIT0gJyc6DQogICAgICAgICAgICAgICAgcmVxdWlyZW1lbnRzID0gcmVxdWlyZW1lbnRzICsgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXS5nZXQoJ3JlcXVpcmVtZW50cycsIFtdKQ0KICAgICAgICAgICAgICAgICMgcHJpbnQoZiJcblxuQEBAQEBAQEBAQEBAIFJlcXVpcmVtZW50cyBpbiBmbGFzayBub2RlOiB7cmVxdWlyZW1lbnRzfSBAQEBAQEBAQEBAQEBAQEBAQFxuXG4iKQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICBlbGlmIG5vZGUuY2xhc3NOYW1lID09ICdGbGFza0FQUCc6DQogICAgICAgICAgICBmbGFza19mbGFnID0gVHJ1ZQ0KICAgICAgICAgICAgcHJvY2Vzc2luZ1NjcmlwdCA9ICcnDQogICAgICAgICAgICBwcm9jZXNzaW5nU2NyaXB0ID0gKCcnKS5qb2luKG5vZGUuYXR0cmlidXRlc1snc2NyaXB0J10pDQogICAgICAgICAgICBmbGFza19hcHAuYXBwZW5kKHByb2Nlc3NpbmdTY3JpcHQpDQogICAgICAgICAgICB0cmFuc2Zvcm1lclNjcmlwdCA9IGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bJ3NjcmlwdCddDQogICAgICAgICAgICBmdW5jdGlvbnMuYXBwZW5kKHRyYW5zZm9ybWVyU2NyaXB0KQ0KICAgICAgICAgICAgaW1wb3J0X2xpbmVzID0gaW1wb3J0X2xpbmVzICsgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXVsnaW1wb3J0cyddDQogICAgICAgICAgICBpZiBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddLmdldCgncmVxdWlyZW1lbnRzJywgJycpICE9ICcnOg0KICAgICAgICAgICAgICAgIHJlcXVpcmVtZW50cyA9IHJlcXVpcmVtZW50cyArIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ10uZ2V0KCdyZXF1aXJlbWVudHMnLCBbXSkNCiAgICAgICAgICAgICAgICAjIHByaW50KGYiXG5cbkBAQEBAQEBAQEBAQCBSZXF1aXJlbWVudHMgaW4gZmxhc2sgbm9kZToge3JlcXVpcmVtZW50c30gQEBAQEBAQEBAQEBAQEBAQEBcblxuIikNCiAgICAgICAgDQogICAgICAgIGVsaWYgbm9kZS5jbGFzc05hbWU9PSdQeXRob25DbGFzcyc6DQogICAgICAgICAgICBmbGFza19mbGFnID0gVHJ1ZQ0KICAgICAgICAgICAgcHJvY2Vzc2luZ1NjcmlwdCA9ICcnDQogICAgICAgICAgICBwcm9jZXNzaW5nU2NyaXB0ID0gKCcnKS5qb2luKG5vZGUuYXR0cmlidXRlc1snc2NyaXB0J10pDQogICAgICAgICAgICBmdW5jdGlvbnMuYXBwZW5kKHByb2Nlc3NpbmdTY3JpcHQpDQoNCiAgICAgICAgIyBUcmFuc2Zvcm1lcnMNCiAgICAgICAgZWxzZToNCiAgICAgICAgICAgIHByaW50KCdAQEBAQEBAQEBAQEAgbm9kZSBuYW1lIGlzOiAnLCBub2RlLm5hbWUpDQogICAgICAgICAgICBOb2RlbmFtZSA9IG5vZGUuY2xhc3NOYW1lDQogICAgICAgICAgICBhdHRyaWJ1dGVzID0gbm9kZS5hdHRyaWJ1dGVzIA0KICAgICAgICAgICAgIyBwcmludChmIlxuXG5cbiBAQEBAQCBBVFRSSUJVVEVTOiB7YXR0cmlidXRlc30gQEBAQEBAQEBAIFxuXG5cbiIpICAgIA0KICAgICAgICAgICAgIyBwcmludChmIlxuXG5cbiBAQEBAQCBBVFRSSUJVVEVTIFRZUEU6IHt0eXBlKGF0dHJpYnV0ZXMpfSBAQEBAQEBAQEAgXG5cblxuIikNCiAgICAgICAgICAgIGZvciBrZXksdmFsdWUgaW4gYXR0cmlidXRlcy5pdGVtcygpOg0KICAgICAgICAgICAgICAgIHBhcmFtX2tleSA9ICIiDQogICAgICAgICAgICAgICAgcGFyYW1fa2V5ICs9IE5vZGVuYW1lDQogICAgICAgICAgICAgICAgcGFyYW1fa2V5ICs9ICJfIg0KICAgICAgICAgICAgICAgIHBhcmFtX2tleSArPSBrZXkNCiAgICAgICAgICAgICAgICBjaGF0Ym90X3BhcmFtc1twYXJhbV9rZXldPXZhbHVlIA0KICAgICAgICAgICAgIyBwcmludChmIlxuXG5cbiBAQEBAQEBAIENIQVRCT1QgUEFSQU1TOiB7Y2hhdGJvdF9wYXJhbXN9IEBAQEBAQEBAQCBcblxuXG4iKQ0KICAgICAgICAgICAgIyBwcmludChmIlxuXG5cbiBAQEBAQEBAIENIQVRCT1QgUEFSQU1TIFR5cGU6IHt0eXBlKGNoYXRib3RfcGFyYW1zKX0gQEBAQEBAQEBAIFxuXG5cbiIpDQogICAgICAgICAgICAjIEhlcmUgdGhlIGRpY3Rpb25hcnkgYXBwZW5kaW5nIHBhcnQgY29tZXMgaW50byBhY3Rpb24gDQogICAgICAgICAgICB0cmFuc2Zvcm1lclNjcmlwdCA9IGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bJ3NjcmlwdCddDQogICAgICAgICAgICBwcmludChlbGVtZW50KQ0KICAgICAgICAgICAgbm9kZW5hbWUgPSAnJy5qb2luKG5vZGUubmFtZS5zcGxpdCgnICcpKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICB0cmFuc2Zvcm1lclNjcmlwdCA9IHRyYW5zZm9ybWVyU2NyaXB0LnJlcGxhY2UoJ188aWQ+JywgJycpDQogICAgICAgICAgICB0cmFuc2Zvcm1lclNjcmlwdCA9IHRyYW5zZm9ybWVyU2NyaXB0LnJlcGxhY2UoJzxpZD4nLCBub2RlLmlkKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAjIENoZWNraW5nIGlmIHRoZSBmdW5jdGlvbiBkZWZpbml0aW9uIGlzIGFscmVhZHkgZXhpc3RzIGluIHNjcmlwdA0KICAgICAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgaW4gZnVuY3Rpb25fZmxhZzoNCiAgICAgICAgICAgICAgICBwcmludCgnZXhpdHMnLCBub2RlLmNsYXNzTmFtZSkNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgZnVuY3Rpb25fZmxhZ1tub2RlLmNsYXNzTmFtZV0gPSAxDQogICAgICAgICAgICAgICAgZnVuY3Rpb25zLmFwcGVuZCh0cmFuc2Zvcm1lclNjcmlwdCkNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIGltcG9ydF9saW5lcyA9IGltcG9ydF9saW5lcyArIGVsZW1lbnRbJ2NvZGVHZW5lcmF0aW9uJ11bJ2ltcG9ydHMnXQ0KICAgICAgICAgICAgaWYgZWxlbWVudFsnY29kZUdlbmVyYXRpb24nXS5nZXQoJ3JlcXVpcmVtZW50cycsICcnKSAhPSAnJzoNCiAgICAgICAgICAgICAgICByZXF1aXJlbWVudHMgPSByZXF1aXJlbWVudHMgKyBlbGVtZW50Wydjb2RlR2VuZXJhdGlvbiddLmdldCgncmVxdWlyZW1lbnRzJywgW10pDQogICAgICAgICAgICAgICAgcHJpbnQocmVxdWlyZW1lbnRzKQ0KICAgICAgICAgICAgDQoNCg0KICAgIGltcG9ydF9saW5lcyA9IFtsIGZvciBsIGluIHNldChpbXBvcnRfbGluZXMpIGlmIGwgIT0gJyddDQogICAgcmVxdWlyZW1lbnRzID0gW2wgZm9yIGwgaW4gc2V0KHJlcXVpcmVtZW50cykgaWYgbCAhPSAnJ10NCiAgICANCiAgICBpZiBmbGFza19mbGFnOg0KICAgICAgICBwaXBlbGluZUNvZGUgPSBiYXNlU2NyaXB0X2ZsYXNrKCkNCiAgICBlbHNlOg0KICAgICAgICBwaXBlbGluZUNvZGUgPSBiYXNlU2NyaXB0KCkNCiAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne2ltcG9ydHN9JywgKCdcbicpLmpvaW4oaW1wb3J0X2xpbmVzKSkNCiAgICBpZiBsZW4ocmVxdWlyZW1lbnRzKT4wOg0KICAgICAgICAjIHByaW50KGYiXG5cbkBAQEBAQEBAQEBAQCBSZXF1aXJlbWVudHMgaW4gRklOQUwgU0NSSVBUOiB7cmVxdWlyZW1lbnRzfSBAQEBAQEBAQEBAQEBAQEBAQFxuXG4iKQ0KICAgICAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne3JlcXVpcmVtZW50c30nLCAnXCcnKyAoJ1wnLFwnJykuam9pbihyZXF1aXJlbWVudHMpKydcJycpDQogICAgZWxzZToNCiAgICAgICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3tyZXF1aXJlbWVudHN9JywgJycpDQogICAgDQogICAgaWYgbGVuKGNoYXRib3RfcGFyYW1zKT4wOg0KICAgICAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne2NoYXRib3RfcGFyYW1zfScsIGpzb24uZHVtcHMoY2hhdGJvdF9wYXJhbXMpICkNCiAgICBlbHNlOg0KICAgICAgICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3tjaGF0Ym90X3BhcmFtc30nLCAnTm9uZScpDQogICAgICAgIA0KICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7cGlwZWxpbmVOYW1lfScsIGFyZ3NEaWN0WydwaXBlbGluZU5hbWUnXSkNCiAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne2Z1bmN0aW9uc30nLCAoJ1xyJykuam9pbihmdW5jdGlvbnMpKQ0KICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCd7Zmxhc2tfYXBwfScsICgnXHInKS5qb2luKGZsYXNrX2FwcCkpDQogICAgZXhlY3V0aW9uT3JkZXIgPSAnXG4nDQogICAgDQogICAgDQogICAgDQogICAgZm9yIG5vZGUgaW4gb3JkZXJlZEVsZW1lbnRMaXN0Og0KICAgICAgICBpbnB1dHMgPSBbXQ0KICAgICAgICANCiAgICAgICAgIyBJbml0aWFsaXppbmcgcG9zaXRpb25pbmcgb3JkZXIgZm9yIGlucHV0IGVudHJpZXMgb2YgYSBub2RlDQogICAgICAgIHBvc2l0aW9uX29yZGVyaW5nID0geydMZWZ0TWlkZGxlJzogMCwnVG9wQ2VudGVyJzogMSwgJ1JpZ2h0TWlkZGxlJzogMiwgJ0JvdHRvbUNlbnRlcic6IDN9DQogICAgICAgIGluZGV4X29yZGVyaW5nID0gezA6ICdMZWZ0TWlkZGxlJywgMTogJ1RvcENlbnRlcicsIDI6ICdSaWdodE1pZGRsZScsIDM6ICdCb3R0b21DZW50ZXInfQ0KICAgICAgICBvdXRwdXRzID0gW10NCiAgICAgICAgbm9kZW5hbWUgPSAnJy5qb2luKG5vZGUubmFtZS5zcGxpdCgnICcpKQ0KICAgICAgICAjIG5vZGVuYW1lID0gJ18nLmpvaW4obm9kZS5uYW1lLnN0cmlwKCkuc3BsaXQoJyAnKSkubG93ZXIoKQ0KICAgICAgICBub2RlaWQgPSBub2RlLmlkDQogICAgICAgIA0KICAgICAgICBpZiBub2RlbmFtZSA9PSAnRGF0YXNldEV4dHJhY3Rvcic6DQogICAgICAgICAgICBub2RlbmFtZSA9IG5vZGVuYW1lICsgbm9kZS5hdHRyaWJ1dGVzWydkYXRhc2V0J11bJ2RhdGFzb3VyY2UnXVsndHlwZSddDQogICAgICAgIA0KICAgICAgICAjIGlmIG5vZGVuYW1lID09ICdQeXRob25TY3JpcHQnIG9yIG5vZGVuYW1lID09ICdQb3N0UHl0aG9uU2NyaXB0JyBvciBub2RlbmFtZSA9PSAnUG9zdFByb2Nlc3NpbmdTY3JpcHQnIG9yIG5vZGVuYW1lID09ICdQcmVQcm9jZXNzaW5nU2NyaXB0JzoNCiAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgPT0gJ1NjcmlwdFRyYW5zZm9ybWVyQ29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUHJlUHJvY2Vzc2luZ1NjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1Bvc3RQcm9jZXNzaW5nU2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnTW9kZWxQcmVkaWN0U2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUHl0aG9uU2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUG9zdFB5dGhvblNjcmlwdENvbmZpZyc6DQogICAgICAgICAgICBub2RlbmFtZSA9IG5vZGUuYXR0cmlidXRlcy5nZXQoJ0Z1bmN0aW9uTmFtZScsICcnKQ0KICAgICAgICAgICAgbm9kZS5mb3JtYXRzID0ge3BhcmFbJ25hbWUnXS5zcGxpdCgnOicpWzBdOiBjb24ocGFyYVsnbmFtZSddLnNwbGl0KCc6JylbLTFdLCBwYXJhWyd2YWx1ZSddKSBmb3IgcGFyYSBpbiBub2RlLmF0dHJpYnV0ZXMuZ2V0KCdwYXJhbXMnLCAnJykgaWYgbGVuKHBhcmEpID4gMH0NCiAgICAgICAgICAgIG5vZGUuYXR0cmlidXRlcyA9IHtwYXJhWyduYW1lJ10uc3BsaXQoJzonKVswXTogcGFyYVsndmFsdWUnXSBmb3IgcGFyYSBpbiBub2RlLmF0dHJpYnV0ZXMuZ2V0KCdwYXJhbXMnLCAnJykgaWYgbGVuKHBhcmEpID4gMH0NCg0KICAgICAgICANCiAgICAgICAgZm9yIGNvbm5lY3RvciBpbiBub2RlLmNvbm5lY3RvcnM6DQoNCiAgICAgICAgICAgIGlmIChjb25uZWN0b3JbJ3R5cGUnXSA9PSAndGFyZ2V0Jyk6DQogICAgICAgICAgICAgICAgaW5wdXRzLmFwcGVuZChwb3NpdGlvbl9vcmRlcmluZ1tjb25uZWN0b3JbJ3Bvc2l0aW9uJ11dKQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKGNvbm5lY3RvclsndHlwZSddID09ICdzb3VyY2UnKToNCiAgICAgICAgICAgICAgICBvdXRwdXRzLmFwcGVuZCgnZHNfJyArIGNvbm5lY3RvclsnZWxlbWVudFBvc2l0aW9uJ10gKyAnXycgKyBjb25uZWN0b3JbJ2VsZW1lbnRJZCddKQ0KICAgICAgICANCiAgICAgICAgIyBQb3NpdGlvbmluZyBpbnB1dCBlbnRyaWVzIGZvciBhIG5vZGUgICAgICAgIA0KICAgICAgICBpbnB1dHMuc29ydCgpDQogICAgICAgIA0KICAgICAgICBpbnB1dHMgPSBbJ2RzXycgKyBpbmRleF9vcmRlcmluZ1twb3NdICsgJ18nICsgbm9kZWlkIGZvciBwb3MgaW4gaW5wdXRzXQ0KICAgICAgICANCiAgICAgICAgIyBBZGRpbmcgcGFyYW1ldGVycyBmb3IgcmVzcGVjdGl2ZSBmdW5jdGlvbiBjYWxsDQogICAgICAgIGRlZmF1bHRfcGFyYW1zID0gW10NCiAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgPT0gJ0RhdGFzZXRFeHRyYWN0b3JDb25maWcnOg0KICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMgPSBbXQ0KICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMgPSBbZSArICc9XCc8JyArIGUucmVwbGFjZSgnXycsICcuJykgKyAnPlwnJyBmb3IgZSBpbiBkYXRhc2V0X2V4dHJhY3Rvcl9wYXJhbVtub2RlLmF0dHJpYnV0ZXNbJ2RhdGFzZXQnXVsnZGF0YXNvdXJjZSddWyd0eXBlJ11dXQ0KICAgICAgICAgICAgDQogICAgICAgIGVsaWYgbm9kZS5jbGFzc05hbWUgPT0gJ0FkYXB0ZXJNZXRob2RDb25maWcnOg0KICAgICAgICAgICAgYWN0dWFsX3BhcmFtcyA9IG5vZGUuYXR0cmlidXRlcyAgICAgICAgICAgIA0KICAgICAgICAgICAgYWN0dWFsX3BhcmFtID0gbGlzdChhY3R1YWxfcGFyYW1zLmtleXMoKSkNCiAgICAgICAgICAgIHNjcmlwdF9ib2R5ID0ge3BhcmFtOiAnXycuam9pbihyZS5zcGxpdCgnXHNccyonLCBwYXJhbS5zdHJpcCgpKSkgZm9yIHBhcmFtIGluIGFjdHVhbF9wYXJhbX0NCiAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zID0gW10NCiAgICAgICAgICAgIGFjdHVhbF9mb3JtYXRzID0gbm9kZS5mb3JtYXRzDQogICAgICAgICAgICBOb25lVHlwZSA9IHR5cGUoTm9uZSkNCiAgICAgICAgDQogICAgICAgICAgICAjIFZhbHVlIHR5cGUgYXMgU3RyaW5nIG9yIE5vbi1zdHJpbmcgZGVwZW5kaW5nIG9uIGZvcm1hdCB0eXBlDQogICAgICAgICAgICBmb3Iga2V5LCB2YWwgaW4gc2NyaXB0X2JvZHkuaXRlbXMoKTogDQogICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9PCcgKyBrZXkgKyAnPicpDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgZWxpZiBub2RlLmNsYXNzTmFtZSA9PSAnRGF0YXNldExvYWRlckNvbmZpZyc6DQogICAgICAgICAgICBkZWZhdWx0X3BhcmFtcyA9IFtdDQogICAgICAgICAgICBkZWZhdWx0X3BhcmFtcyA9IFtlICsgJz1cJzwnICsgZS5yZXBsYWNlKCdfJywgJy4nKSArICc+XCcnIGZvciBlIGluIGRhdGFzZXRfbG9hZGVyX3BhcmFtc1sxOl1dDQogICAgICAgICAgICANCiAgICAgICAgICAgIA0KICAgICAgICAjIGVsaWYgbm9kZS5jbGFzc05hbWUgPT0gJ1B5dGhvblNjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1Bvc3RQeXRob25TY3JpcHRDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdQcmVQcm9jZXNzaW5nU2NyaXB0Q29uZmlnJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnUG9zdFByb2Nlc3NpbmdTY3JpcHRDb25maWcnOg0KICAgICAgICBlbGlmIG5vZGUuY2xhc3NOYW1lID09ICdTY3JpcHRUcmFuc2Zvcm1lckNvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1ByZVByb2Nlc3NpbmdTY3JpcHRDb25maWcnIG9yIG5vZGUuY2xhc3NOYW1lID09ICdQb3N0UHJvY2Vzc2luZ1NjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ01vZGVsUHJlZGljdFNjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1B5dGhvblNjcmlwdENvbmZpZycgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ1Bvc3RQeXRob25TY3JpcHRDb25maWcnOg0KICAgICAgICAgICAgYWN0dWFsX3BhcmFtcyA9IG5vZGUuYXR0cmlidXRlcyAgICAgICAgICAgIA0KICAgICAgICAgICAgYWN0dWFsX3BhcmFtID0gbGlzdChhY3R1YWxfcGFyYW1zLmtleXMoKSkNCiAgICAgICAgICAgIHNjcmlwdF9ib2R5ID0ge3BhcmFtOiAnXycuam9pbihyZS5zcGxpdCgnXHNccyonLCBwYXJhbS5sb3dlcigpLnN0cmlwKCkpKSArICdfcGFyYW0nIGZvciBwYXJhbSBpbiBhY3R1YWxfcGFyYW19DQogICAgICAgICAgICBkZWZhdWx0X3BhcmFtcyA9IFtdDQogICAgICAgICAgICBhY3R1YWxfZm9ybWF0cyA9IG5vZGUuZm9ybWF0cw0KICAgICAgICAgICAgTm9uZVR5cGUgPSB0eXBlKE5vbmUpDQogICAgICAgIA0KICAgICAgICAgICAgZm9yIGtleSwgdmFsIGluIHNjcmlwdF9ib2R5Lml0ZW1zKCk6IA0KICAgIA0KICAgICAgICAgICAgICAgIGlmIGtleSA9PSAnc2NyaXB0JzoNCiAgICAgICAgICAgICAgICAgICBwYXNzDQogICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgIyBWYWx1ZSB0eXBlIGFzIFN0cmluZyBvciBOb24tc3RyaW5nIGRlcGVuZGluZyBvbiBmb3JtYXQgdHlwZQ0KICAgICAgICAgICAgICAgIGVsaWYgYWN0dWFsX2Zvcm1hdHNba2V5XSA9PSAndGV4dCc6DQogICAgICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPVwnPCcgKyBrZXkgKyAnPlwnJykgDQogICAgICAgICAgICAgICAgZWxpZiBhY3R1YWxfZm9ybWF0c1trZXldID09ICd0ZXh0YXJlYSc6DQogICAgICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPVwnXCdcJzwnICsga2V5ICsgJz5cJ1wnXCcnKSANCiAgICAgICAgICAgICAgICBlbGlmIGFjdHVhbF9mb3JtYXRzW2tleV0gPT0gJ2ludGVnZXInOg0KICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X3BhcmFtcy5hcHBlbmQodmFsICsgJz08JyArIGtleSArICc+JykNCiAgICAgICAgICAgICAgICBlbGlmIGFjdHVhbF9mb3JtYXRzW2tleV0gPT0gJ2Jvb2wnOg0KICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X3BhcmFtcy5hcHBlbmQodmFsICsgJz08JyArIGtleSArICc+JykNCiAgICAgICAgICAgICAgICBlbGlmICdkcm9wJyBpbiBhY3R1YWxfZm9ybWF0c1trZXldLmxvd2VyKCk6ICAjIGZvciBkcm9wIGRvd24gdmFsdWVzDQogICAgICAgICAgICAgICAgICAgIGlmIGFjdHVhbF9mb3JtYXRzW2FjdHVhbF9mb3JtYXRzW2tleV1dWzBdLmlzYWxwaGEoKToNCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPVwnPCcgKyBrZXkgKyAnPlwnJykNCiAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPTwnICsga2V5ICsgJz4nKQ0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIGRlZmF1bHRfcGFyYW1zLmFwcGVuZCh2YWwgKyAnPTwnICsga2V5ICsgJz4nKQ0KICAgICAgICBlbHNlOiAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgYWN0dWFsX3BhcmFtcyA9IG5vZGUuYXR0cmlidXRlcyAgICAgICAgICAgIA0KICAgICAgICAgICAgYWN0dWFsX3BhcmFtID0gbGlzdChhY3R1YWxfcGFyYW1zLmtleXMoKSkNCiAgICAgICAgICAgIHNjcmlwdF9ib2R5ID0ge3BhcmFtOiAnXycuam9pbihyZS5zcGxpdCgnXHNccyonLCBwYXJhbS5sb3dlcigpLnN0cmlwKCkpKSArICdfcGFyYW0nIGZvciBwYXJhbSBpbiBhY3R1YWxfcGFyYW19DQogICAgICAgICAgICBwcmludCgnLy8vLy8vLy8vLy8vLy8nLHNjcmlwdF9ib2R5KQ0KICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMgPSBbXQ0KICAgICAgICAgICAgYWN0dWFsX2Zvcm1hdHMgPSBub2RlLmZvcm1hdHMNCiAgICAgICAgICAgIE5vbmVUeXBlID0gdHlwZShOb25lKQ0KICAgICAgICANCiAgICAgICAgICAgICMgVmFsdWUgdHlwZSBhcyBTdHJpbmcgb3IgTm9uLXN0cmluZyBkZXBlbmRpbmcgb24gZm9ybWF0IHR5cGUNCiAgICAgICAgICAgIGZvciBrZXksIHZhbCBpbiBzY3JpcHRfYm9keS5pdGVtcygpOiANCiAgICAgICAgICAgICAgICBpZiBhY3R1YWxfZm9ybWF0c1trZXldID09ICd0ZXh0JzoNCiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9XCc8JyArIGtleSArICc+XCcnKSANCiAgICAgICAgICAgICAgICBlbGlmIGFjdHVhbF9mb3JtYXRzW2tleV0gPT0gJ3RleHRhcmVhJzoNCiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9XCdcJ1wnPCcgKyBrZXkgKyAnPlwnXCdcJycpIA0KICAgICAgICAgICAgICAgIGVsaWYgYWN0dWFsX2Zvcm1hdHNba2V5XSA9PSAnaW50ZWdlcicgb3IgYWN0dWFsX2Zvcm1hdHNba2V5XSA9PSAnaW50JzoNCiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9PCcgKyBrZXkgKyAnPicpDQogICAgICAgICAgICAgICAgZWxpZiBhY3R1YWxfZm9ybWF0c1trZXldID09ICdib29sJzoNCiAgICAgICAgICAgICAgICAgICAgIyBrZXkgPSAnVHJ1ZScgaWYga2V5ID09ICd0cnVlJyBlbHNlICdGYWxzZScNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ2tleScsIGtleSkNCiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdF9wYXJhbXMuYXBwZW5kKHZhbCArICc9PCcgKyBrZXkgKyAnPicpDQogICAgICAgICAgICAgICAgZWxpZiAnZHJvcCcgaW4gYWN0dWFsX2Zvcm1hdHNba2V5XS5sb3dlcigpOiAgIyBmb3IgZHJvcCBkb3duIHZhbHVlcw0KICAgICAgICAgICAgICAgICAgICBpZiBub2RlLmNsYXNzTmFtZSA9PSAnRGF0YUV4dHJhY3Rvcic6DQogICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxfZm9ybWF0c1thY3R1YWxfZm9ybWF0c1trZXldXSA9IFt7fV0NCiAgICAgICAgICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShhY3R1YWxfZm9ybWF0c1thY3R1YWxfZm9ybWF0c1trZXldXVswXSwgc3RyKSBhbmQgYWN0dWFsX2Zvcm1hdHNbYWN0dWFsX2Zvcm1hdHNba2V5XV1bMF0uaXNhbHBoYSgpOg0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X3BhcmFtcy5hcHBlbmQodmFsICsgJz1cJzwnICsga2V5ICsgJz5cJycpDQogICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X3BhcmFtcy5hcHBlbmQodmFsICsgJz08JyArIGtleSArICc+JykNCiAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X3BhcmFtcy5hcHBlbmQodmFsICsgJz08JyArIGtleSArICc+JykNCiAgICAgICAgICAgICAgICANCiAgICAgICAgIyBHZW5lcmF0aW5nIGZ1bmN0aW9uIGNhbGwNCiAgICAgICAgaWYgbGVuKG91dHB1dHMpID4gMDoNCiAgICAgICAgICAgIGNhbGwgPSAnICAgICcgKyAnLCcuam9pbihvdXRwdXRzKSArICcgPSAnICsgbm9kZW5hbWUgKyAnKCcgKyAnLCcuam9pbihpbnB1dHMpDQogICAgICAgICAgICBpZiBsZW4oZGVmYXVsdF9wYXJhbXMpID4gMDoNCiAgICAgICAgICAgICAgICBjYWxsICs9ICcsICcgaWYgbGVuKGlucHV0cykgPiAwIGVsc2UgJycNCiAgICAgICAgICAgICAgICBjYWxsICs9ICcsJy5qb2luKGRlZmF1bHRfcGFyYW1zKQ0KICAgICAgICAgICAgY2FsbCArPSAgJylcbicNCiAgICAgICAgZWxzZToNCiAgICAgICAgICAgIGNhbGwgPSAnICAgICcgKyBub2RlbmFtZSArICcoJyArICcsJy5qb2luKGlucHV0cykNCiAgICAgICAgICAgIGlmIGxlbihkZWZhdWx0X3BhcmFtcykgPiAwOg0KICAgICAgICAgICAgICAgIGNhbGwgKz0gJywgJyBpZiBsZW4oaW5wdXRzKSA+IDAgZWxzZSAnJw0KICAgICAgICAgICAgICAgIGNhbGwgKz0gJywnLmpvaW4oZGVmYXVsdF9wYXJhbXMpDQogICAgICAgICAgICBjYWxsICs9ICAnKVxuJyAgIA0KICAgICAgICAgICAgDQogICAgICAgICMgRmlsbGluZyB0aGUgdXNlciBpbnB1dHRlZCB2YWx1ZXMgaW4gZnVuY3Rpb24gY2FsbA0KICAgICAgICBjYWxsID0gZmlsbERhdGFub2RlKG5vZGUsIGNhbGwpIA0KICAgICAgICANCiAgICAgICAgaWYgbm9kZS5jbGFzc05hbWUgPT0gJ0ZsYXNrQVBQJyBvciBub2RlLmNsYXNzTmFtZSA9PSAnRmxhc2tBcHAnOg0KICAgICAgICAgICAgZmxhc2tfY2FsbCArPSBjYWxsDQogICAgICAgIGlmIG5vZGUuY2xhc3NOYW1lICE9ICdGbGFza0FQUCcgb3Igbm9kZS5jbGFzc05hbWUgPT0gJ0ZsYXNrQVBQJzoNCiAgICAgICAgICAgIGV4ZWN1dGlvbk9yZGVyID0gZXhlY3V0aW9uT3JkZXIgKyBjYWxsICAgIA0KDQogICAgcHJpbnQoJ2V4ZWN1dGlvbk9yZGVyJywgZXhlY3V0aW9uT3JkZXIpDQogICAgcGlwZWxpbmVDb2RlID0gcGlwZWxpbmVDb2RlLnJlcGxhY2UoJ3tleGVjdXRpb25PcmRlcn0nLCBleGVjdXRpb25PcmRlcikNCiAgICBwaXBlbGluZUNvZGUgPSBwaXBlbGluZUNvZGUucmVwbGFjZSgne2V4ZWN1dGVmbGFza30nLCBmbGFza19jYWxsKQ0KICAgIHBpcGVsaW5lQ29kZSA9IHBpcGVsaW5lQ29kZS5yZXBsYWNlKCdccicsICdcbicpDQogICAgDQogICAgDQogICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihhcmdzRGljdFsnc2NyaXB0UGF0aCddLCBhcmdzRGljdFsncGlwZWxpbmVOYW1lJ10gKyAnX2dlbmVyYXRlZENvZGUucHknKSwgJ3cnKSBhcyBmOg0KICAgICAgICBmLndyaXRlbGluZXMocGlwZWxpbmVDb2RlKQ0KDQpnZW5lcmF0ZVNjcmlwdChwaXBlbGluZV9qc29uKQ0KDQpwcmludCgnQ29tcGxldGVkJykNCg0KDQoNCg0KDQoNCg0KDQo=","leo1311"
"LEOCDGNR66088","LEOCDGNR66088_leo1311.py","aW1wb3J0IG9zDQppbXBvcnQgc3lzDQppbXBvcnQgb3MucGF0aA0KaW1wb3J0IHJlDQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQ0KZnJvbSBjb2xsZWN0aW9ucyBpbXBvcnQgZGVmYXVsdGRpY3QNCg0KYXJndW1lbnRzID0gc3lzLmFyZ3YNCmFyZ3NEaWN0ID0ge30NCmZvciBhcmcgaW4gYXJndW1lbnRzOg0KICAgIHRyeToNCiAgICAgICAgYXJnc0RpY3RbYXJnLnNwbGl0KCc6JylbMF1dID0gKCc6Jykuam9pbihhcmcuc3BsaXQoJzonKVsxOl0pDQogICAgZXhjZXB0Og0KICAgICAgICBhID0gJ2Vycm9yJw0KDQpqc29uX2ZpbGUgPSBvcy5wYXRoLmpvaW4oYXJnc0RpY3RbJ3NjcmlwdFBhdGgnXSwgJ3BpcGVsaW5lLmpzb24nKQ0KDQp3aXRoIG9wZW4oanNvbl9maWxlKSBhcyBmOg0KICAgIGltcG9ydCBqc29uDQogICAgcGlwZWxpbmVfanNvbiA9IGYucmVhZCgpDQogICAgDQpiYXNlU2NyaXB0ID0gJycnDQpmcm9tIHB5c3BhcmsubWwgaW1wb3J0IFBpcGVsaW5lDQpmcm9tIGxlYXAudXRpbHMudXRpbERBRyBpbXBvcnQgREFHDQpmcm9tIGxlYXAuY29uZmlnRmFjdG9yeS5BbmFseXplckNvbmZpZ0ZhY3RvcnkgaW1wb3J0IEFuYWx5emVyQ29uZmlnRmFjdG9yeQ0KZnJvbSBsZWFwLmNvbmZpZ0ZhY3RvcnkuQmFzZUNvbmZpZ0ZhY3RvcnkgaW1wb3J0IEJhc2VDb25maWdGYWN0b3J5DQpmcm9tIGxlYXAuY29uZmlnRmFjdG9yeS5Eb21haW5Tb2x1dGlvbkNvbmZpZ0ZhY3RvcnkgaW1wb3J0IERvbWFpblNvbHV0aW9uQ29uZmlnRmFjdG9yeQ0KZnJvbSBsZWFwLmNvbmZpZ0ZhY3RvcnkuRXh0cmFjdG9yQ29uZmlnRmFjdG9yeSBpbXBvcnQgRXh0cmFjdG9yQ29uZmlnRmFjdG9yeQ0KZnJvbSBsZWFwLmNvbmZpZ0ZhY3RvcnkuTG9hZGVyQ29uZmlnRmFjdG9yeSBpbXBvcnQgTG9hZGVyQ29uZmlnRmFjdG9yeQ0KZnJvbSBsZWFwLmNvbmZpZ0ZhY3RvcnkuU3BhcmtUcmFuc2Zvcm1lckNvbmZpZ0ZhY3RvcnkgaW1wb3J0IFNwYXJrVHJhbnNmb3JtZXJDb25maWdGYWN0b3J5DQpmcm9tIGxlYXAuY29uZmlnRmFjdG9yeS5GZWF0dXJlRXh0cmFjdG9yQ29uZmlnRmFjdG9yeSBpbXBvcnQgRmVhdHVyZUV4dHJhY3RvckNvbmZpZ0ZhY3RvcnkNCmZyb20gbGVhcC51dGlscy5EYXRhc2V0IGltcG9ydCBEYXRhc2V0DQpmcm9tIGRhZ3N0ZXIgaW1wb3J0ICoNCmZyb20gcHlzcGFyay5zcWwgaW1wb3J0IFNwYXJrU2Vzc2lvbg0KaW1wb3J0IHV1aWQNCmltcG9ydCBqc29uDQppbXBvcnQgbG9nZ2luZw0KaW1wb3J0IHJlDQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQ0KaW1wb3J0IG9zDQpvcy5lbnZpcm9uWydKQVZBX0hPTUUnXT0nL3Vzci9saWIvanZtL2phdmEtMjEtb3Blbmpkay1hbWQ2NCcNCg0KZGVmIGdldHJ1bnRpbWUoKToNCiAgICBqb2JJZCA9IHV1aWQudXVpZDEoKQ0KICAgIHJ1bnRpbWUgPSB7ImpvYklkIjogc3RyKGpvYklkKX0NCiAgICByZXR1cm4gcnVudGltZQ0KDQoNCmRlZiBpbml0aWF0ZVNwYXJrKCk6DQogICAgc3BhcmsgPSBTcGFya1Nlc3Npb24uYnVpbGRlci5hcHBOYW1lKCdwaXBlbGluZScpLmdldE9yQ3JlYXRlKCkNCiAgICBsb2dnaW5nLmJhc2ljQ29uZmlnKGxldmVsPWxvZ2dpbmcuSU5GTywgZm9ybWF0PSclKGFzY3RpbWUpcyAtICUobWVzc2FnZSlzJywgZGF0ZWZtdD0nJXkvJW0vJWQgJUg6JU06JVMnKQ0KICAgIGxvZ2dpbmcuaW5mbygiSW5pdGlhdGVkIFNwYXJrIikNCiAgICByZXR1cm4gc3BhcmsNCg0KDQpkZWYgYnVpbGREQUcocGlwZWxpbmVKc29uKToNCiAgICBvcmdhbml6YXRpb24gPSBwaXBlbGluZUpzb24uZ2V0KCdvcmcnLCAnSU5GT1NZUycpDQogICAgam9iUGFyYW1zID0ge30NCg0KICAgIGpvYlBhcmFtc1snTmV4dEV4ZWN1dGlvblRpbWUnXSA9IHBpcGVsaW5lSnNvbi5nZXQoJ05leHRfRXhlY3V0aW9uX1RpbWUnLCAnJykNCiAgICBqb2JQYXJhbXNbJ0N1cnJlbnRFeGVjdXRpb25UaW1lJ10gPSBwaXBlbGluZUpzb24uZ2V0KCdDdXJyZW50X0V4ZWN1dGlvbl9UaW1lJywgJycpDQogICAgam9iUGFyYW1zWydMYXN0U3VjY2Vzc2Z1bEV4ZWN1dGlvblRpbWUnXSA9IHBpcGVsaW5lSnNvbi5nZXQoJ0xhc3RfU3VjY2Vzc2Z1bF9FeGVjdXRpb25fVGltZScsICcnKQ0KICAgIGpvYlBhcmFtc1snTGFzdEV4ZWN1dGlvblRpbWUnXSA9IHBpcGVsaW5lSnNvbi5nZXQoJ0xhc3RfRXhlY3V0aW9uX1RpbWUnLCAnJykNCg0KICAgIHJlZ0V4ID0gJzxqb2JQYXJhbXM6KFtcd1wuLV0rKTsoLio/KT4nDQogICAgcGlwZWxpbmVKc29uTGlzdCA9IFtdDQoNCiAgICBmb3IgaXRlbSBpbiBwaXBlbGluZUpzb25bJ2VsZW1lbnRzJ106DQogICAgICAgIGl0ZW1UZXh0ID0ganNvbi5kdW1wcyhpdGVtKQ0KICAgICAgICAjIHJlcGxhY2UgT3JnDQogICAgICAgIGl0ZW1UZXh0ID0gaXRlbVRleHQucmVwbGFjZSgnPGpvYlBhcmFtczpvcmdOYW1lPicsIG9yZ2FuaXphdGlvbikNCiAgICAgICAgIyByZXBsYWNlIHRpbWVzdGFtcHMNCiAgICAgICAgcGFyYW1zID0gcmUuZmluZGFsbChyZWdFeCwgaXRlbVRleHQpDQogICAgICAgIGZvciBwIGluIHBhcmFtczoNCiAgICAgICAgICAgIHRleHRUb3JlcGxhY2UgPSAnPGpvYlBhcmFtczp7MH07ezF9PicuZm9ybWF0KHBbMF0sIHBbMV0pDQogICAgICAgICAgICBpZiBqb2JQYXJhbXNbcFswXV0gIT0gJycgYW5kIGpvYlBhcmFtc1twWzBdXSAhPSAtMToNCiAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgIGR0ID0gZGF0ZXRpbWUuc3RycHRpbWUoam9iUGFyYW1zW3BbMF1dLCAnJWEsICVkICViICVZICVIOiVNOiVTJykNCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZVdpdGggPSBkYXRldGltZS5zdHJmdGltZShkdCwgcFsxXSkNCiAgICAgICAgICAgICAgICAgICAgaXRlbVRleHQgPSBpdGVtVGV4dC5yZXBsYWNlKHRleHRUb3JlcGxhY2UsIHJlcGxhY2VXaXRoKQ0KICAgICAgICAgICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgICAgICAgICAgYSA9IDENCiAgICAgICAgcGlwZWxpbmVKc29uTGlzdC5hcHBlbmQoanNvbi5sb2FkcyhpdGVtVGV4dCkpDQogICAgIyBCVUlMRCBUUkVFDQogICAgZWxlbWVudGxpc3QgPSBEQUcuYnVpbGQocGlwZWxpbmVKc29uTGlzdCk7DQoNCiAgICBlbGVtZW50bGlzdCA9IGxpc3QoZmlsdGVyKE5vbmUsIGVsZW1lbnRsaXN0KSkNCiAgICAjIEdFVCBFbGVtZW50IENvbmZpZ3MNCiAgICBleHRyYWN0b3JDb25maWdsaXN0ID0gW10NCiAgICBwaXBlbGluZXN0YWdlcyA9IFtdDQogICAgcGlwZWxpbmVzdGFnZXNDb25maWdMaXN0ID0gW10NCiAgICBsb2FkZXJDb25maWdsaXN0ID0gW10NCiAgICBtb2RlbFNpbmtDb25maWcgPSAiIg0KICAgIG1vZGVsU291cmNlQ29uZmlnID0gIiINCiAgICBzcGFya0NvbmZpZyA9ICIiDQogICAgcG9zdFByb2Nlc3NpbmdTY3JpcHRDb25maWdMaXN0ID0gW10NCiAgICBwcmVQcm9jZXNzaW5nU2NyaXB0Q29uZmlnTGlzdCA9IFtdDQogICAgZG9tYWluU29sdXRpb25Db25maWcgPSAiIg0KICAgIHZhbGlkYXRpb25UYXJnZXRDb2x1bW4gPSBOb25lDQoNCiAgICBmb3IgZWxlbWVudCBpbiBlbGVtZW50bGlzdDoNCiAgICAgICAgaWYgKGVsZW1lbnQuY2F0ZWdvcnkgPT0gIkV4dHJhY3RvckNvbmZpZyIpOg0KICAgICAgICAgICAgZXh0cmFjdG9yQ29uZmlnID0gRXh0cmFjdG9yQ29uZmlnRmFjdG9yeS5nZXRFeHRyYWN0b3JDb25maWcoZWxlbWVudC5pZCwgZWxlbWVudC5jbGFzc05hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMsIGVsZW1lbnQuY29ubmVjdG9ycykNCiAgICAgICAgICAgIGV4dHJhY3RvckNvbmZpZ2xpc3QuYXBwZW5kKGV4dHJhY3RvckNvbmZpZykNCiAgICAgICAgaWYgKGVsZW1lbnQuY2F0ZWdvcnkgPT0gIlRyYW5zZm9ybWVyQ29uZmlnIik6DQogICAgICAgICAgICB0cmFuc2Zvcm1lckNvbmZpZyA9IFNwYXJrVHJhbnNmb3JtZXJDb25maWdGYWN0b3J5LmdldFRyYW5zZm9ybWVyQ29uZmlnKGVsZW1lbnQuaWQsIGVsZW1lbnQuY2xhc3NOYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY29ubmVjdG9ycykNCiAgICAgICAgICAgIHRyYW5zZm9ybWVyVmFyID0gdHJhbnNmb3JtZXJDb25maWcuZ2V0VHJhbnNmb3JtZXIoKQ0KICAgICAgICAgICAgaWYgaXNpbnN0YW5jZSh0cmFuc2Zvcm1lclZhciwgbGlzdCk6DQogICAgICAgICAgICAgICAgZm9yIHQgaW4gdHJhbnNmb3JtZXJWYXI6DQogICAgICAgICAgICAgICAgICAgIHBpcGVsaW5lc3RhZ2VzLmFwcGVuZCh0KQ0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBwaXBlbGluZXN0YWdlcy5hcHBlbmQodHJhbnNmb3JtZXJWYXIpDQogICAgICAgICAgICBwaXBlbGluZXN0YWdlc0NvbmZpZ0xpc3QuYXBwZW5kKHRyYW5zZm9ybWVyQ29uZmlnKQ0KICAgICAgICBpZiAoZWxlbWVudC5jYXRlZ29yeSA9PSAiRmVhdHVyZUV4dHJhY3RvckNvbmZpZyIpOg0KICAgICAgICAgICAgZmVhdHVyZUV4dHJhY3RvckNvbmZpZyA9IEZlYXR1cmVFeHRyYWN0b3JDb25maWdGYWN0b3J5LmdldEZlYXR1cmVFeHRyYWN0b3JDb25maWcoZWxlbWVudC5pZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jb25uZWN0b3JzKQ0KICAgICAgICAgICAgcGlwZWxpbmVzdGFnZXMuYXBwZW5kKGZlYXR1cmVFeHRyYWN0b3JDb25maWcuZ2V0RmVhdHVyZUV4dHJhY3RvcigpKQ0KICAgICAgICAgICAgcGlwZWxpbmVzdGFnZXNDb25maWdMaXN0LmFwcGVuZChmZWF0dXJlRXh0cmFjdG9yQ29uZmlnKQ0KICAgICAgICBpZiAoZWxlbWVudC5jYXRlZ29yeSA9PSAiQW5hbHl6ZXJDb25maWciKToNCiAgICAgICAgICAgIGFuYWx5emVyQ29uZmlnID0gQW5hbHl6ZXJDb25maWdGYWN0b3J5LmdldEFuYWx5emVyQ29uZmlnKGVsZW1lbnQuaWQsIGVsZW1lbnQuY2xhc3NOYW1lLCBlbGVtZW50LmF0dHJpYnV0ZXMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNvbm5lY3RvcnMpDQogICAgICAgICAgICBwaXBlbGluZXN0YWdlcy5hcHBlbmQoYW5hbHl6ZXJDb25maWcuZ2V0QW5hbHl6ZXIoKSkNCiAgICAgICAgICAgIHZhbGlkYXRpb25UYXJnZXRDb2x1bW4gPSBhbmFseXplckNvbmZpZy5nZXRMYWJlbENvbCgpDQogICAgICAgICAgICBwaXBlbGluZXN0YWdlc0NvbmZpZ0xpc3QuYXBwZW5kKGFuYWx5emVyQ29uZmlnKQ0KICAgICAgICBpZiAoZWxlbWVudC5jYXRlZ29yeSA9PSAiTG9hZGVyQ29uZmlnIik6DQogICAgICAgICAgICBsb2FkZXJDb25maWcgPSBMb2FkZXJDb25maWdGYWN0b3J5LmdldExvYWRlckNvbmZpZyhlbGVtZW50LmlkLCBlbGVtZW50LmNsYXNzTmFtZSwgZWxlbWVudC5hdHRyaWJ1dGVzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jb25uZWN0b3JzKQ0KICAgICAgICAgICAgbG9hZGVyQ29uZmlnbGlzdC5hcHBlbmQobG9hZGVyQ29uZmlnKQ0KICAgICAgICBpZiAoZWxlbWVudC5jYXRlZ29yeSA9PSAiQmFzZUNvbmZpZyIpOg0KICAgICAgICAgICAgYmFzZWNvbmZpZyA9IEJhc2VDb25maWdGYWN0b3J5LmdldEJhc2VDb25maWcoZWxlbWVudC5pZCwgZWxlbWVudC5jbGFzc05hbWUsIGVsZW1lbnQuYXR0cmlidXRlcywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY29ubmVjdG9ycykNCiAgICAgICAgICAgIGlmIGVsZW1lbnQuY2xhc3NOYW1lID09ICJNb2RlbFNpbmtDb25maWciOg0KICAgICAgICAgICAgICAgIG1vZGVsU2lua0NvbmZpZyA9IGJhc2Vjb25maWcNCiAgICAgICAgICAgIGVsaWYgZWxlbWVudC5jbGFzc05hbWUgPT0gIk1vZGVsU291cmNlQ29uZmlnIjoNCiAgICAgICAgICAgICAgICBtb2RlbFNvdXJjZUNvbmZpZyA9IGJhc2Vjb25maWcNCiAgICAgICAgICAgIGVsaWYgZWxlbWVudC5jbGFzc05hbWUgPT0gIlByZVByb2Nlc3NpbmdTY3JpcHRDb25maWciOg0KICAgICAgICAgICAgICAgIHByZVByb2Nlc3NpbmdTY3JpcHRDb25maWdMaXN0LmFwcGVuZChiYXNlY29uZmlnKQ0KICAgICAgICAgICAgZWxpZiBlbGVtZW50LmNsYXNzTmFtZSA9PSAiUG9zdFByb2Nlc3NpbmdTY3JpcHRDb25maWciOg0KICAgICAgICAgICAgICAgIHBvc3RQcm9jZXNzaW5nU2NyaXB0Q29uZmlnTGlzdC5hcHBlbmQoYmFzZWNvbmZpZykNCg0KICAgICAgICBpZiAoZWxlbWVudC5jYXRlZ29yeSA9PSAiRG9tYWluU29sdXRpb25Db25maWciKToNCiAgICAgICAgICAgIGRvbWFpblNvbHV0aW9uQ29uZmlnID0gRG9tYWluU29sdXRpb25Db25maWdGYWN0b3J5LmdldERvbWFpblNvbHV0aW9uQ29uZmlnKGVsZW1lbnQuaWQsIGVsZW1lbnQuY2xhc3NOYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jb25uZWN0b3JzKQ0KICAgIHJldHVybiBvcmdhbml6YXRpb24sIHNwYXJrQ29uZmlnLCBleHRyYWN0b3JDb25maWdsaXN0LCBwcmVQcm9jZXNzaW5nU2NyaXB0Q29uZmlnTGlzdCwgcG9zdFByb2Nlc3NpbmdTY3JpcHRDb25maWdMaXN0LCBwaXBlbGluZXN0YWdlcywgXA0KICAgICAgICBwaXBlbGluZXN0YWdlc0NvbmZpZ0xpc3QsIGRvbWFpblNvbHV0aW9uQ29uZmlnLCBsb2FkZXJDb25maWdsaXN0LCBtb2RlbFNpbmtDb25maWcsIG1vZGVsU291cmNlQ29uZmlnLCBcDQogICAgICAgIHZhbGlkYXRpb25UYXJnZXRDb2x1bW4NCg0KDQpkZWYgZ2V0RGF0YShzcGFyaywgZXh0cmFjdG9yQ29uZmlnbGlzdCk6DQogICAgcHJpbWFyeUV4dHJhY3RvckNvbmZpZyA9IE5vbmUNCiAgICBkYXRhc2V0cyA9IHt9DQogICAgZm9yIGl0ZW0gaW4gZXh0cmFjdG9yQ29uZmlnbGlzdDoNCiAgICAgICAgZXh0cmFjdG9yID0gaXRlbS5nZXRFeHRyYWN0b3IoKQ0KICAgICAgICB0cnk6DQogICAgICAgICAgICBzdHJlYW1pbmcgPSBleHRyYWN0b3IuaXNTdHJlYW1pbmcNCiAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgc3RyZWFtaW5nID0gImZhbHNlIg0KICAgICAgICBpZiBzdHJlYW1pbmcubG93ZXIoKSA9PSAidHJ1ZSI6DQogICAgICAgICAgICBkcyA9IGV4dHJhY3Rvci5nZXRTdHJlYW1pbmdEYXRhc2V0KHNwYXJrKQ0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgZHMgPSBleHRyYWN0b3IuZ2V0RGF0YXNldChzcGFyaykNCiAgICAgICAgZGF0YXNldHNbaXRlbS5pZF0gPSBkcw0KICAgICAgICBwcmltYXJ5RXh0cmFjdG9yQ29uZmlnID0gaXRlbQ0KDQogICAgcmV0dXJuIGRhdGFzZXRzLHByaW1hcnlFeHRyYWN0b3JDb25maWcNCg0KDQpkZWYgcHJlcHJvY2Vzc2luZyhzcGFyaywgZGF0YXNldHMsIGV4dHJhY3RvckNvbmZpZ2xpc3QsIHByaW1hcnlFeHRyYWN0b3JDb25maWcsIHByZVByb2Nlc3NpbmdTY3JpcHRDb25maWdMaXN0KToNCiAgICBmaW5hbERhdGFzZXQgPSBOb25lDQogICAgcHJpbWFyeWRzID0gTm9uZQ0KICAgIGlmIGxlbihwcmVQcm9jZXNzaW5nU2NyaXB0Q29uZmlnTGlzdCkgPiAwOg0KICAgICAgICBmb3IgcHJlUHJvY2Vzc2luZ1NjcmlwdENvbmZpZyBpbiBwcmVQcm9jZXNzaW5nU2NyaXB0Q29uZmlnTGlzdDoNCiAgICAgICAgICAgIGNvbm5lY3RvcnMgPSBwcmVQcm9jZXNzaW5nU2NyaXB0Q29uZmlnLmNvbm5lY3RvcnMNCiAgICAgICAgICAgIGlmIHByaW1hcnlkcyBpcyBOb25lOg0KICAgICAgICAgICAgICAgIHByaW1hcnlDb24gPSBuZXh0KCh4IGZvciB4IGluIGNvbm5lY3RvcnMgaWYgeFsnZW5kcG9pbnQnXSA9PSAiZGF0YXNldDEiKSkNCiAgICAgICAgICAgICAgICBwcmltYXJ5ZHMgPSBkYXRhc2V0c1twcmltYXJ5Q29uWydlbGVtZW50SWQnXV0NCiAgICAgICAgICAgICAgICBwcmltYXJ5RXh0cmFjdG9yQ29uZmlnID0gbmV4dCh4IGZvciB4IGluIGV4dHJhY3RvckNvbmZpZ2xpc3QgaWYgeC5pZCA9PSBwcmltYXJ5Q29uWydlbGVtZW50SWQnXSkNCiAgICAgICAgICAgIHRvcGluQ29uID0gbmV4dCgoeCBmb3IgeCBpbiBjb25uZWN0b3JzIGlmIHhbJ2VuZHBvaW50J10gPT0gImRhdGFzZXQyIiksIE5vbmUpDQogICAgICAgICAgICB0b3BpbmRzID0gZGF0YXNldHNbdG9waW5Db25bJ2VsZW1lbnRJZCddXSBpZiB0b3BpbkNvbiBpcyBub3QgTm9uZSBlbHNlIE5vbmUNCiAgICAgICAgICAgIGJvdHRvbmluQ29uID0gbmV4dCgoeCBmb3IgeCBpbiBjb25uZWN0b3JzIGlmIHhbJ2VuZHBvaW50J10gPT0gImRhdGFzZXQzIiksIE5vbmUpDQogICAgICAgICAgICBib3R0b21pbmRzID0gZGF0YXNldHNbYm90dG9uaW5Db25bJ2VsZW1lbnRJZCddXSBpZiBib3R0b25pbkNvbiBpcyBub3QgTm9uZSBlbHNlIE5vbmUNCiAgICAgICAgICAgIGZpbmFsRGF0YXNldCA9IHByZVByb2Nlc3NpbmdTY3JpcHRDb25maWcuZ2V0QmFzZUNsYXNzKCkuZXhlY3V0ZVNjcmlwdChzcGFyaywgcHJpbWFyeWRzLCB0b3BpbmRzLCBib3R0b21pbmRzKQ0KICAgIGVsc2U6DQogICAgICAgIGZpbmFsRGF0YXNldCA9IGRhdGFzZXRzW3ByaW1hcnlFeHRyYWN0b3JDb25maWcuaWRdDQogICAgcmV0dXJuIGZpbmFsRGF0YXNldA0KDQoNCmRlZiB2YWxpZGF0aW9uUmVxdWlyZWQoZXh0cmFjdG9yQ29uZmlnbGlzdCk6DQogICAgaXNWYWxpZGF0aW9uUGlwZWxpbmUgPSBGYWxzZQ0KICAgIGZvciBpdGVtIGluIGV4dHJhY3RvckNvbmZpZ2xpc3Q6DQogICAgICAgIGlmIGl0ZW0uY2xhc3NOYW1lID09ICJEYXRhc2V0RXh0cmFjdG9yQ29uZmlnIjoNCiAgICAgICAgICAgIGlzVmFsaWRhdGlvblBpcGVsaW5lID0gaXRlbS5pc1ZhbGlkYXRpb25QaXBlbGluZSgpDQogICAgICAgICAgICBpZiBpc1ZhbGlkYXRpb25QaXBlbGluZSA9PSBUcnVlOg0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgIHJldHVybiBpc1ZhbGlkYXRpb25QaXBlbGluZQ0KDQoNCmRlZiBnZXRUcmFpblRlc3RTcGxpdChleHRyYWN0b3JDb25maWdsaXN0LCBkYXRhc2V0KToNCiAgICB0cmFpbmRzID0gZGF0YXNldA0KICAgIHRlc3RkcyA9IGRhdGFzZXQNCiAgICBmb3IgaXRlbSBpbiBleHRyYWN0b3JDb25maWdsaXN0Og0KICAgICAgICBpZiBpdGVtLmNsYXNzTmFtZSA9PSAiRGF0YXNldEV4dHJhY3RvckNvbmZpZyI6DQogICAgICAgICAgICBpc1ZhbGlkYXRpb25QaXBlbGluZSA9IGl0ZW0uaXNWYWxpZGF0aW9uUGlwZWxpbmUoKQ0KICAgICAgICAgICAgaWYgaXNWYWxpZGF0aW9uUGlwZWxpbmUgPT0gVHJ1ZToNCiAgICAgICAgICAgICAgICB0cmFpblBlcmNlbnQsIHRlc3RQZXJjZW50ID0gaXRlbS5nZXRUcmFpblRlc3RTcGxpdCgpDQogICAgICAgICAgICAgICAgbG9nZ2luZy5pbmZvKA0KICAgICAgICAgICAgICAgICAgICAiU3BsaXR0aW5nIGRhdGFzZXQgLSB0cmFpbmluZyBkYXRhc2V0IDogezB9LCB0ZXN0IGRhdGFzZXQgOiB7MX0iLmZvcm1hdCh0cmFpblBlcmNlbnQsIHRlc3RQZXJjZW50KSkNCiAgICAgICAgICAgICAgICBzcGxpdHMgPSBkYXRhc2V0LnJhbmRvbVNwbGl0KFt0cmFpblBlcmNlbnQgLyAxMDAsIHRlc3RQZXJjZW50IC8gMTAwXSkNCiAgICAgICAgICAgICAgICB0cmFpbmRzID0gc3BsaXRzWzBdDQogICAgICAgICAgICAgICAgdGVzdGRzID0gc3BsaXRzWzFdDQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgcmV0dXJuIHRyYWluZHMsIHRlc3Rkcw0KDQoNCmRlZiBleGVjdXRlRG9tYWluU29sdXRpb24oZG9tYWluU29sdXRpb25Db25maWcsIGRhdGFzZXQsIHJ1bnRpbWUsIG9yZ2FuaXNhdGlvbik6DQogICAgbG9hZGVyRGF0YXNldERpYyA9IFtdDQogICAgcmVzdWx0cyA9ICIiDQogICAgbW9kZWwgPSAiIg0KICAgIGlmIGRvbWFpblNvbHV0aW9uQ29uZmlnICE9ICIiOg0KICAgICAgICBpZiBkb21haW5Tb2x1dGlvbkNvbmZpZyAhPSAiIjoNCiAgICAgICAgICAgIHJlc3VsdHMgPSBkb21haW5Tb2x1dGlvbkNvbmZpZy5nZXRTb2x1dGlvbigpLmV4ZWN1dGUoZGF0YXNldCwgcnVudGltZVsiam9iSWQiXSwgb3JnYW5pc2F0aW9uKQ0KICAgICAgICAgICAgZm9yIGtleSBpbiByZXN1bHRzLmtleXMoKToNCiAgICAgICAgICAgICAgICB0YXJnZXQgPSAobmV4dCgoeCBmb3IgeCBpbiBkb21haW5Tb2x1dGlvbkNvbmZpZy5jb25uZWN0b3JzIGlmIHhbJ2VuZHBvaW50J10gPT0ga2V5KSkpDQogICAgICAgICAgICAgICAgbG9hZGVyRGF0YXNldERpYy5hcHBlbmQoRGF0YXNldChkb21haW5Tb2x1dGlvbkNvbmZpZy5pZCwgdGFyZ2V0WydlbGVtZW50SWQnXSwga2V5LCByZXN1bHRzW2tleV0pKQ0KICAgIHJldHVybiBtb2RlbCwgcmVzdWx0cywgbG9hZGVyRGF0YXNldERpYw0KDQoNCmRlZiBleGVjdXRlUHlTcGFya1BpcGVsaW5lKHNwYXJrLCB0cmFpbmRzLCB0ZXN0ZHMsIG1vZGVsU291cmNlQ29uZmlnLCBwaXBlbGluZXN0YWdlcywgcGlwZWxpbmVzdGFnZXNDb25maWdMaXN0LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxTaW5rQ29uZmlnLCBtb2RlbCwgcmVzdWx0cywgbG9hZGVyRGF0YXNldERpYywgb3JnYW5pemF0aW9uKToNCiAgICBpZiBtb2RlbFNvdXJjZUNvbmZpZyAhPSAiIiBvciBsZW4ocGlwZWxpbmVzdGFnZXMpID4gMDoNCg0KICAgICAgICAjIEJ1aWxkIGFuZCBleGVjdXRlIHBpcGVsaW5lDQogICAgICAgIGlmIG1vZGVsU291cmNlQ29uZmlnICE9ICIiOg0KICAgICAgICAgICAgbW9kZWwgPSBtb2RlbFNvdXJjZUNvbmZpZy5nZXRCYXNlQ2xhc3MoKS5sb2FkTW9kZWwoc3BhcmssIG9yZ2FuaXphdGlvbikNCiAgICAgICAgICAgIGxhc3R0cmFuc2Zvcm1lcklkID0gbW9kZWxTb3VyY2VDb25maWcuaWQNCiAgICAgICAgICAgIGNvbm5lY3RvciA9IChuZXh0KCh4IGZvciB4IGluIG1vZGVsU291cmNlQ29uZmlnLmNvbm5lY3RvcnMgaWYgeFsndHlwZSddID09ICJzb3VyY2UiKSkpDQoNCiAgICAgICAgZWxpZiBsZW4ocGlwZWxpbmVzdGFnZXMpID4gMDoNCiAgICAgICAgICAgIGxvZ2dpbmcuaW5mbygiQnVpbGRpbmcgcGlwZWxpbmUiKQ0KICAgICAgICAgICAgcGlwZWxpbmUgPSBQaXBlbGluZShzdGFnZXM9cGlwZWxpbmVzdGFnZXMpDQogICAgICAgICAgICBsb2dnaW5nLmluZm8oIlRyYWluaW5nIG1vZGVsIikNCiAgICAgICAgICAgIG1vZGVsID0gcGlwZWxpbmUuZml0KHRyYWluZHMpDQogICAgICAgICAgICBub09mU3RhZ2VzID0gbGVuKHBpcGVsaW5lc3RhZ2VzQ29uZmlnTGlzdCkNCiAgICAgICAgICAgIGxhc3R0cmFuc2Zvcm1lcklkID0gcGlwZWxpbmVzdGFnZXNDb25maWdMaXN0W25vT2ZTdGFnZXMgLSAxXS5pZA0KICAgICAgICAgICAgY29ubmVjdG9yID0gKA0KICAgICAgICAgICAgICAgIG5leHQoKHggZm9yIHggaW4gcGlwZWxpbmVzdGFnZXNDb25maWdMaXN0W25vT2ZTdGFnZXMgLSAxXS5jb25uZWN0b3JzIGlmIHhbJ3R5cGUnXSA9PSAic291cmNlIikpKQ0KDQogICAgICAgIGxvZ2dpbmcuaW5mbygiVHJhbnNmb3JtaW5nIERhdGFzZXQiKQ0KICAgICAgICByZXN1bHRzID0gbW9kZWwudHJhbnNmb3JtKHRlc3RkcykNCg0KICAgICAgICBsb2FkZXJEYXRhc2V0RGljLmFwcGVuZChEYXRhc2V0KGxhc3R0cmFuc2Zvcm1lcklkLCBjb25uZWN0b3JbJ2VsZW1lbnRJZCddLCBjb25uZWN0b3JbJ2VuZHBvaW50J10sIHJlc3VsdHMpKQ0KICAgICAgICBpZiBtb2RlbFNpbmtDb25maWcgIT0gIiI6DQogICAgICAgICAgICBtb2RlbFNpbmtDb25maWcuZ2V0QmFzZUNsYXNzKCkuc2F2ZU1vZGVsKHNwYXJrLCBtb2RlbCwgcmVzdWx0cywgdHJhaW5kcy5zY2hlbWEsIG9yZ2FuaXphdGlvbikNCiAgICAgICAgICAgIGNvbm5lY3RvciA9IG5leHQoKHggZm9yIHggaW4gbW9kZWxTaW5rQ29uZmlnLmNvbm5lY3RvcnMgaWYgeFsndHlwZSddID09ICJzb3VyY2UiKSkNCiAgICAgICAgICAgIGxvYWRlckRhdGFzZXREaWMuYXBwZW5kKA0KICAgICAgICAgICAgICAgIERhdGFzZXQobW9kZWxTaW5rQ29uZmlnLmlkLCBjb25uZWN0b3JbJ2VsZW1lbnRJZCddLCBjb25uZWN0b3JbJ2VuZHBvaW50J10sIHJlc3VsdHMpKQ0KICAgIHJldHVybiBtb2RlbCwgcmVzdWx0cywgbG9hZGVyRGF0YXNldERpYw0KDQoNCmRlZiBwb3N0UHJvY2Vzc2luZyhzcGFyaywgcG9zdFByb2Nlc3NpbmdTY3JpcHRDb25maWdMaXN0LCBtb2RlbCwgcmVzdWx0cywgbG9hZGVyRGF0YXNldERpYyk6DQogICAgIyBFeGVjdXRlIFBvc3QgUHJvY2Vzc2luZyBTY3JpcHRzDQogICAgaWYgbGVuKHBvc3RQcm9jZXNzaW5nU2NyaXB0Q29uZmlnTGlzdCkgPiAwOg0KICAgICAgICBmb3IgcG9zdFByb2Nlc3NpbmdTY3JpcHRDb25maWcgaW4gcG9zdFByb2Nlc3NpbmdTY3JpcHRDb25maWdMaXN0Og0KICAgICAgICAgICAgcmVzdWx0cyA9IHBvc3RQcm9jZXNzaW5nU2NyaXB0Q29uZmlnLmdldEJhc2VDbGFzcygpLmV4ZWN1dGVTY3JpcHQoc3BhcmssIG1vZGVsLCByZXN1bHRzKQ0KICAgICAgICAgICAgZm9yIGtleSBpbiByZXN1bHRzLmtleXMoKToNCiAgICAgICAgICAgICAgICB0YXJnZXQgPSBuZXh0KCh4IGZvciB4IGluIHBvc3RQcm9jZXNzaW5nU2NyaXB0Q29uZmlnLmNvbm5lY3RvcnMgaWYgeFsnZW5kcG9pbnQnXSA9PSBrZXkpKQ0KICAgICAgICAgICAgICAgIGxvYWRlckRhdGFzZXREaWMuYXBwZW5kKERhdGFzZXQocG9zdFByb2Nlc3NpbmdTY3JpcHRDb25maWcuaWQsIHRhcmdldFsnZWxlbWVudElkJ10sIGtleSwgcmVzdWx0c1trZXldKSkNCiAgICByZXR1cm4gbG9hZGVyRGF0YXNldERpYw0KDQoNCmRlZiBzYXZlRGF0YShzcGFyaywgcnVudGltZSwgbG9hZGVyQ29uZmlnbGlzdCwgbG9hZGVyRGF0YXNldERpYyk6DQogICAgaWYgbGVuKGxvYWRlckNvbmZpZ2xpc3QpID4gMDoNCiAgICAgICAgZm9yIGNvbmZpZyBpbiBsb2FkZXJDb25maWdsaXN0Og0KICAgICAgICAgICAgZGF0YXNvdXJjZSA9IG5leHQoeCBmb3IgeCBpbiBjb25maWcuY29ubmVjdG9ycyBpZiAoeFsndHlwZSddID09ICd0YXJnZXQnKSkNCiAgICAgICAgICAgIGRhdGFzb3VyY2VJZCA9IGRhdGFzb3VyY2VbJ2VsZW1lbnRJZCddDQogICAgICAgICAgICBkYXRhc2V0VG9Mb2FkID0gW3ggZm9yIHggaW4gbG9hZGVyRGF0YXNldERpYyBpZiAoeC5zb3VyY2VJZCA9PSBkYXRhc291cmNlSWQgYW5kIHgudGFyZ2V0SWQgPT0gY29uZmlnLmlkKV0NCiAgICAgICAgICAgIGxhc3Rsb2FkZXIgPSBjb25maWcuZ2V0TG9hZGVyKCkNCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICBzdHJlYW1pbmcgPSBsYXN0bG9hZGVyLmlzU3RyZWFtaW5nDQogICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgc3RyZWFtaW5nID0gImZhbHNlIg0KICAgICAgICAgICAgaWYgc3RyZWFtaW5nLmxvd2VyKCkgPT0gInRydWUiOg0KICAgICAgICAgICAgICAgIGxhc3Rsb2FkZXIubG9hZFN0cmVhbWluZ0RhdGFzZXQoZGF0YXNldFRvTG9hZFswXS5kYXRhLCBzcGFyaywgcnVudGltZSkNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgbGFzdGxvYWRlci5sb2FkRGF0YXNldChkYXRhc2V0VG9Mb2FkWzBdLmRhdGEsIHNwYXJrLCBydW50aW1lKQ0KDQogICAgc3Bhcmsuc3RvcCgpDQogICAgcHJpbnQoIkNvbXBsZXRlZCIpDQoNCmRlZiBwaXBlbGluZUV4ZWN1dGVyKCk6DQogICAgcnVudGltZSA9IGdldHJ1bnRpbWUoKQ0KICAgIHNwYXJrID0gaW5pdGlhdGVTcGFyaygpDQogICAgcyA9IHtwaXBlbGluZUpzb259DQogICAgcGlwZWxpbmVKc29uID0ganNvbi5sb2FkcyhzKQ0KICAgIG9yZ2FuaXphdGlvbiwgc3BhcmtDb25maWcsIGV4dHJhY3RvckNvbmZpZ2xpc3QsIHByZVByb2Nlc3NpbmdTY3JpcHRDb25maWdMaXN0LCBwb3N0UHJvY2Vzc2luZ1NjcmlwdENvbmZpZ0xpc3QsIHBpcGVsaW5lc3RhZ2VzLCBcDQogICAgICAgIHBpcGVsaW5lc3RhZ2VzQ29uZmlnTGlzdCwgZG9tYWluU29sdXRpb25Db25maWcsIGxvYWRlckNvbmZpZ2xpc3QsIG1vZGVsU2lua0NvbmZpZywgbW9kZWxTb3VyY2VDb25maWcsIFwNCiAgICAgICAgdmFsaWRhdGlvblRhcmdldENvbHVtbiA9IGJ1aWxkREFHKHBpcGVsaW5lSnNvbikNCiAgICBpc1ZhbGlkYXRpb25QaXBlbGluZSA9IHZhbGlkYXRpb25SZXF1aXJlZChleHRyYWN0b3JDb25maWdsaXN0KQ0KICAgIGRhdGFzZXRzLCBwcmltYXJ5RXh0cmFjdG9yQ29uZmlnID0gZ2V0RGF0YShzcGFyaywgZXh0cmFjdG9yQ29uZmlnbGlzdCkNCiAgICBmaW5hbERhdGFzZXQgPSBwcmVwcm9jZXNzaW5nKHNwYXJrLCBkYXRhc2V0cywgZXh0cmFjdG9yQ29uZmlnbGlzdCwgcHJpbWFyeUV4dHJhY3RvckNvbmZpZywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZVByb2Nlc3NpbmdTY3JpcHRDb25maWdMaXN0KQ0KICAgIHRyYWluZHMsIHRlc3RkcyA9IGdldFRyYWluVGVzdFNwbGl0KCBleHRyYWN0b3JDb25maWdsaXN0LCBmaW5hbERhdGFzZXQpDQogICAgbW9kZWwsIHJlc3VsdHMsIGxvYWRlckRhdGFzZXREaWMgPSBleGVjdXRlRG9tYWluU29sdXRpb24oZG9tYWluU29sdXRpb25Db25maWcsIGZpbmFsRGF0YXNldCwgcnVudGltZSwgb3JnYW5pemF0aW9uKQ0KICAgIG1vZGVsLCByZXN1bHRzLCBsb2FkZXJEYXRhc2V0RGljID0gZXhlY3V0ZVB5U3BhcmtQaXBlbGluZShzcGFyaywgdHJhaW5kcywgdGVzdGRzLCBtb2RlbFNvdXJjZUNvbmZpZywgcGlwZWxpbmVzdGFnZXMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpcGVsaW5lc3RhZ2VzQ29uZmlnTGlzdCwgbW9kZWxTaW5rQ29uZmlnLCBtb2RlbCwgcmVzdWx0cywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVyRGF0YXNldERpYywgb3JnYW5pemF0aW9uKQ0KICAgIGxvYWRlckRhdGFzZXREaWMgPSBwb3N0UHJvY2Vzc2luZyhzcGFyaywgcG9zdFByb2Nlc3NpbmdTY3JpcHRDb25maWdMaXN0LCBtb2RlbCwgcmVzdWx0cywgbG9hZGVyRGF0YXNldERpYykNCg0KICAgIHNhdmVEYXRhKHNwYXJrLCBydW50aW1lLCBsb2FkZXJDb25maWdsaXN0LCBsb2FkZXJEYXRhc2V0RGljKQ0KDQoNCnBpcGVsaW5lRXhlY3V0ZXIoKQ0KJycnDQoNCnNjcmlwdCA9IGJhc2VTY3JpcHQucmVwbGFjZSgne3BpcGVsaW5lSnNvbn0nLCInJyciK2pzb24uZHVtcHMocGlwZWxpbmVfanNvbilbMTotMV0rIicnJyIsKQ0Kd2l0aCBvcGVuKG9zLnBhdGguam9pbihhcmdzRGljdFsnc2NyaXB0UGF0aCddLCBhcmdzRGljdFsncGlwZWxpbmVOYW1lJ10gKyAnX2dlbmVyYXRlZENvZGUucHknKSwgJ3cnKSBhcyBmOg0KICAgICAgICBmLndyaXRlbGluZXMoc2NyaXB0KQ0KDQoNCnByaW50KCdDb21wbGV0ZWQnKQ0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg==","leo1311"